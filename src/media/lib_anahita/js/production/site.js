/*! anahita 23-09-2019 */

!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(f,t){function e(t,e){return e.toUpperCase()}var i=[],u=i.slice,m=i.concat,a=i.push,o=i.indexOf,n={},s=n.toString,g=n.hasOwnProperty,v={},y=f.document,r="2.1.1",C=function(t,e){return new C.fn.init(t,e)},l=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,c=/^-ms-/,d=/-([\da-z])/gi;function h(t){var e=t.length,i=C.type(t);return"function"!==i&&!C.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t))}C.fn=C.prototype={jquery:r,constructor:C,selector:"",length:0,toArray:function(){return u.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:u.call(this)},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return C.each(this,t,e)},map:function(i){return this.pushStack(C.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:a,sort:i.sort,splice:i.splice},C.extend=C.fn.extend=function(){var t,e,i,n,o,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||C.isFunction(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=r[e],r!==(n=t[e])&&(c&&n&&(C.isPlainObject(n)||(o=C.isArray(n)))?(s=o?(o=!1,i&&C.isArray(i)?i:[]):i&&C.isPlainObject(i)?i:{},r[e]=C.extend(c,s,n)):void 0!==n&&(r[e]=n));return r},C.extend({expando:"jQuery"+(r+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===C.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!C.isArray(t)&&0<=t-parseFloat(t)},isPlainObject:function(t){return"object"===C.type(t)&&!t.nodeType&&!C.isWindow(t)&&!(t.constructor&&!g.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[s.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=C.trim(t))&&(1===t.indexOf("use strict")?((e=y.createElement("script")).text=t,y.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(c,"ms-").replace(d,e)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var n=0,o=t.length,s=h(t);if(i){if(s)for(;n<o&&!1!==e.apply(t[n],i);n++);else for(n in t)if(!1===e.apply(t[n],i))break}else if(s)for(;n<o&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(l,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(h(Object(t))?C.merge(i,"string"==typeof t?[t]:t):a.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:o.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,s=t.length,r=!i;o<s;o++)!e(t[o],o)!=r&&n.push(t[o]);return n},map:function(t,e,i){var n,o=0,s=t.length,r=[];if(h(t))for(;o<s;o++)null!=(n=e(t[o],o,i))&&r.push(n);else for(o in t)null!=(n=e(t[o],o,i))&&r.push(n);return m.apply([],r)},guid:1,proxy:function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),C.isFunction(t))return n=u.call(arguments,2),(o=function(){return t.apply(e||this,n.concat(u.call(arguments)))}).guid=t.guid=t.guid||C.guid++,o},now:Date.now,support:v}),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var p=function(i){function d(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320)}var t,f,w,s,n,m,h,g,k,c,u,v,x,o,y,b,r,a,C,T="sizzle"+-new Date,E=i.document,S=0,p=0,l=ot(),A=ot(),_=ot(),P=function(t,e){return t===e&&(u=!0),0},N="undefined",L={}.hasOwnProperty,e=[],D=e.pop,M=e.push,I=e.push,F=e.slice,j=e.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]===t)return e;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$=q.replace("w","w#"),R="\\["+H+"*("+q+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+H+"*\\]",W=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",B=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),z=new RegExp("^"+H+"*,"+H+"*"),U=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),V=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),Q=new RegExp(W),X=new RegExp("^"+$+"$"),Y={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=/'|\\/g,it=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig");try{I.apply(e=F.call(E.childNodes),E.childNodes),e[E.childNodes.length].nodeType}catch(t){I={apply:e.length?function(t,e){M.apply(t,F.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function nt(t,e,i,n){var o,s,r,a,l,c,u,d,h,p;if((e?e.ownerDocument||e:E)!==x&&v(e),i=i||[],!t||"string"!=typeof t)return i;if(1!==(a=(e=e||x).nodeType)&&9!==a)return[];if(y&&!n){if(o=Z.exec(t))if(r=o[1]){if(9===a){if(!(s=e.getElementById(r))||!s.parentNode)return i;if(s.id===r)return i.push(s),i}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(r))&&C(e,s)&&s.id===r)return i.push(s),i}else{if(o[2])return I.apply(i,e.getElementsByTagName(t)),i;if((r=o[3])&&f.getElementsByClassName&&e.getElementsByClassName)return I.apply(i,e.getElementsByClassName(r)),i}if(f.qsa&&(!b||!b.test(t))){if(d=u=T,h=e,p=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=m(t),(u=e.getAttribute("id"))?d=u.replace(et,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+ft(c[l]);h=tt.test(t)&&ht(e.parentNode)||e,p=c.join(",")}if(p)try{return I.apply(i,h.querySelectorAll(p)),i}catch(t){}finally{u||e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,i,n)}function ot(){var n=[];return function t(e,i){return n.push(e+" ")>w.cacheLength&&delete t[n.shift()],t[e+" "]=i}}function st(t){return t[T]=!0,t}function rt(t){var e=x.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function at(t,e){for(var i=t.split("|"),n=t.length;n--;)w.attrHandle[i[n]]=e}function lt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ct(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ut(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}function dt(r){return st(function(s){return s=+s,st(function(t,e){for(var i,n=r([],t.length,s),o=n.length;o--;)t[i=n[o]]&&(t[i]=!(e[i]=t[i]))})})}function ht(t){return t&&typeof t.getElementsByTagName!==N&&t}for(t in f=nt.support={},n=nt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},v=nt.setDocument=function(t){var e,l=t?t.ownerDocument||t:E,i=l.defaultView;return l!==x&&9===l.nodeType&&l.documentElement?(o=(x=l).documentElement,y=!n(l),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){v()},!1):i.attachEvent&&i.attachEvent("onunload",function(){v()})),f.attributes=rt(function(t){return t.className="i",!t.getAttribute("className")}),f.getElementsByTagName=rt(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),f.getElementsByClassName=J.test(l.getElementsByClassName)&&rt(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),f.getById=rt(function(t){return o.appendChild(t).id=T,!l.getElementsByName||!l.getElementsByName(T).length}),f.getById?(w.find.ID=function(t,e){if(typeof e.getElementById!==N&&y){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(t){var e=t.replace(it,d);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var i=t.replace(it,d);return function(t){var e=typeof t.getAttributeNode!==N&&t.getAttributeNode("id");return e&&e.value===i}}),w.find.TAG=f.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==N)return e.getElementsByTagName(t)}:function(t,e){var i,n=[],o=0,s=e.getElementsByTagName(t);if("*"!==t)return s;for(;i=s[o++];)1===i.nodeType&&n.push(i);return n},w.find.CLASS=f.getElementsByClassName&&function(t,e){if(typeof e.getElementsByClassName!==N&&y)return e.getElementsByClassName(t)},r=[],b=[],(f.qsa=J.test(l.querySelectorAll))&&(rt(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&b.push("[*^$]="+H+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||b.push("\\["+H+"*(?:value|"+O+")"),t.querySelectorAll(":checked").length||b.push(":checked")}),rt(function(t){var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&b.push("name"+H+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),b.push(",.*:")})),(f.matchesSelector=J.test(a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&rt(function(t){f.disconnectedMatch=a.call(t,"div"),a.call(t,"[s!='']:x"),r.push("!=",W)}),b=b.length&&new RegExp(b.join("|")),r=r.length&&new RegExp(r.join("|")),e=J.test(o.compareDocumentPosition),C=e||J.test(o.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},P=e?function(t,e){if(t===e)return u=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!f.sortDetached&&e.compareDocumentPosition(t)===i?t===l||t.ownerDocument===E&&C(E,t)?-1:e===l||e.ownerDocument===E&&C(E,e)?1:c?j.call(c,t)-j.call(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,o=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!o||!s)return t===l?-1:e===l?1:o?-1:s?1:c?j.call(c,t)-j.call(c,e):0;if(o===s)return lt(t,e);for(i=t;i=i.parentNode;)r.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;r[n]===a[n];)n++;return n?lt(r[n],a[n]):r[n]===E?-1:a[n]===E?1:0},l):x},nt.matches=function(t,e){return nt(t,null,null,e)},nt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==x&&v(t),e=e.replace(V,"='$1']"),f.matchesSelector&&y&&(!r||!r.test(e))&&(!b||!b.test(e)))try{var i=a.call(t,e);if(i||f.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return 0<nt(e,x,null,[t]).length},nt.contains=function(t,e){return(t.ownerDocument||t)!==x&&v(t),C(t,e)},nt.attr=function(t,e){(t.ownerDocument||t)!==x&&v(t);var i=w.attrHandle[e.toLowerCase()],n=i&&L.call(w.attrHandle,e.toLowerCase())?i(t,e,!y):void 0;return void 0!==n?n:f.attributes||!y?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},nt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},nt.uniqueSort=function(t){var e,i=[],n=0,o=0;if(u=!f.detectDuplicates,c=!f.sortStable&&t.slice(0),t.sort(P),u){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return c=null,t},s=nt.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=s(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=s(e);return i},(w=nt.selectors={cacheLength:50,createPseudo:st,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(it,d),t[3]=(t[3]||t[4]||t[5]||"").replace(it,d),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||nt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&nt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&Q.test(i)&&(e=m(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(it,d).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=l[t+" "];return e||(e=new RegExp("(^|"+H+")"+t+"("+H+"|$)"))&&l(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==N&&t.getAttribute("class")||"")})},ATTR:function(i,n,o){return function(t){var e=nt.attr(t,i);return null==e?"!="===n:!n||(e+="","="===n?e===o:"!="===n?e!==o:"^="===n?o&&0===e.indexOf(o):"*="===n?o&&-1<e.indexOf(o):"$="===n?o&&e.slice(-o.length)===o:"~="===n?-1<(" "+e+" ").indexOf(o):"|="===n&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(p,t,e,f,m){var g="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===t;return 1===f&&0===m?function(t){return!!t.parentNode}:function(t,e,i){var n,o,s,r,a,l,c=g!=v?"nextSibling":"previousSibling",u=t.parentNode,d=y&&t.nodeName.toLowerCase(),h=!i&&!y;if(u){if(g){for(;c;){for(s=t;s=s[c];)if(y?s.nodeName.toLowerCase()===d:1===s.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(a=(n=(o=u[T]||(u[T]={}))[p]||[])[0]===S&&n[1],r=n[0]===S&&n[2],s=a&&u.childNodes[a];s=++a&&s&&s[c]||(r=a=0)||l.pop();)if(1===s.nodeType&&++r&&s===t){o[p]=[S,a,r];break}}else if(h&&(n=(t[T]||(t[T]={}))[p])&&n[0]===S)r=n[1];else for(;(s=++a&&s&&s[c]||(r=a=0)||l.pop())&&((y?s.nodeName.toLowerCase()!==d:1!==s.nodeType)||!++r||(h&&((s[T]||(s[T]={}))[p]=[S,r]),s!==t)););return(r-=m)===f||r%f==0&&0<=r/f}}},PSEUDO:function(t,s){var e,r=w.pseudos[t]||w.setFilters[t.toLowerCase()]||nt.error("unsupported pseudo: "+t);return r[T]?r(s):1<r.length?(e=[t,t,"",s],w.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,e){for(var i,n=r(t,s),o=n.length;o--;)t[i=j.call(t,n[o])]=!(e[i]=n[o])}):function(t){return r(t,0,e)}):r}},pseudos:{not:st(function(t){var n=[],o=[],a=h(t.replace(B,"$1"));return a[T]?st(function(t,e,i,n){for(var o,s=a(t,null,n,[]),r=t.length;r--;)(o=s[r])&&(t[r]=!(e[r]=o))}):function(t,e,i){return n[0]=t,a(n,null,i,o),!o.pop()}}),has:st(function(e){return function(t){return 0<nt(e,t).length}}),contains:st(function(e){return function(t){return-1<(t.textContent||t.innerText||s(t)).indexOf(e)}}),lang:st(function(i){return X.test(i||"")||nt.error("unsupported lang: "+i),i=i.replace(it,d).toLowerCase(),function(t){var e;do{if(e=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===o},focus:function(t){return t===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return G.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,i){return[i<0?i+e:i]}),even:dt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:dt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:dt(function(t,e,i){for(var n=i<0?i+e:i;0<=--n;)t.push(n);return t}),gt:dt(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})w.pseudos[t]=ut(t);function pt(){}function ft(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function mt(r,t,e){var a=t.dir,l=e&&"parentNode"===a,c=p++;return t.first?function(t,e,i){for(;t=t[a];)if(1===t.nodeType||l)return r(t,e,i)}:function(t,e,i){var n,o,s=[S,c];if(i){for(;t=t[a];)if((1===t.nodeType||l)&&r(t,e,i))return!0}else for(;t=t[a];)if(1===t.nodeType||l){if((n=(o=t[T]||(t[T]={}))[a])&&n[0]===S&&n[1]===c)return s[2]=n[2];if((o[a]=s)[2]=r(t,e,i))return!0}}}function gt(o){return 1<o.length?function(t,e,i){for(var n=o.length;n--;)if(!o[n](t,e,i))return!1;return!0}:o[0]}function vt(t,e,i,n,o){for(var s,r=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,n,o)||(r.push(s),c&&e.push(a)));return r}function yt(p,f,m,g,v,t){return g&&!g[T]&&(g=yt(g)),v&&!v[T]&&(v=yt(v,t)),st(function(t,e,i,n){var o,s,r,a=[],l=[],c=e.length,u=t||function(t,e,i){for(var n=0,o=e.length;n<o;n++)nt(t,e[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),d=!p||!t&&f?u:vt(u,a,p,i,n),h=m?v||(t?p:c||g)?[]:e:d;if(m&&m(d,h,i,n),g)for(o=vt(h,l),g(o,[],i,n),s=o.length;s--;)(r=o[s])&&(h[l[s]]=!(d[l[s]]=r));if(t){if(v||p){if(v){for(o=[],s=h.length;s--;)(r=h[s])&&o.push(d[s]=r);v(null,h=[],o,n)}for(s=h.length;s--;)(r=h[s])&&-1<(o=v?j.call(t,r):a[s])&&(t[o]=!(e[o]=r))}}else h=vt(h===e?h.splice(c,h.length):h),v?v(null,e,h,n):I.apply(e,h)})}function bt(t){for(var n,e,i,o=t.length,s=w.relative[t[0].type],r=s||w.relative[" "],a=s?1:0,l=mt(function(t){return t===n},r,!0),c=mt(function(t){return-1<j.call(n,t)},r,!0),u=[function(t,e,i){return!s&&(i||e!==k)||((n=e).nodeType?l(t,e,i):c(t,e,i))}];a<o;a++)if(e=w.relative[t[a].type])u=[mt(gt(u),e)];else{if((e=w.filter[t[a].type].apply(null,t[a].matches))[T]){for(i=++a;i<o&&!w.relative[t[i].type];i++);return yt(1<a&&gt(u),1<a&&ft(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(B,"$1"),e,a<i&&bt(t.slice(a,i)),i<o&&bt(t=t.slice(i)),i<o&&ft(t))}u.push(e)}return gt(u)}return pt.prototype=w.filters=w.pseudos,w.setFilters=new pt,m=nt.tokenize=function(t,e){var i,n,o,s,r,a,l,c=A[t+" "];if(c)return e?0:c.slice(0);for(r=t,a=[],l=w.preFilter;r;){for(s in i&&!(n=z.exec(r))||(n&&(r=r.slice(n[0].length)||r),a.push(o=[])),i=!1,(n=U.exec(r))&&(i=n.shift(),o.push({value:i,type:n[0].replace(B," ")}),r=r.slice(i.length)),w.filter)!(n=Y[s].exec(r))||l[s]&&!(n=l[s](n))||(i=n.shift(),o.push({value:i,type:s,matches:n}),r=r.slice(i.length));if(!i)break}return e?r.length:r?nt.error(t):A(t,a).slice(0)},h=nt.compile=function(t,e){var i,n=[],o=[],s=_[t+" "];if(!s){for(i=(e=e||m(t)).length;i--;)(s=bt(e[i]))[T]?n.push(s):o.push(s);(s=_(t,function(g,v){function t(t,e,i,n,o){var s,r,a,l=0,c="0",u=t&&[],d=[],h=k,p=t||b&&w.find.TAG("*",o),f=S+=null==h?1:Math.random()||.1,m=p.length;for(o&&(k=e!==x&&e);c!==m&&null!=(s=p[c]);c++){if(b&&s){for(r=0;a=g[r++];)if(a(s,e,i)){n.push(s);break}o&&(S=f)}y&&((s=!a&&s)&&l--,t&&u.push(s))}if(l+=c,y&&c!==l){for(r=0;a=v[r++];)a(u,d,e,i);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=D.call(n));d=vt(d)}I.apply(n,d),o&&!t&&0<d.length&&1<l+v.length&&nt.uniqueSort(n)}return o&&(S=f,k=h),u}var y=0<v.length,b=0<g.length;return y?st(t):t}(o,n))).selector=t}return s},g=nt.select=function(t,e,i,n){var o,s,r,a,l,c="function"==typeof t&&t,u=!n&&m(t=c.selector||t);if(i=i||[],1===u.length){if(2<(s=u[0]=u[0].slice(0)).length&&"ID"===(r=s[0]).type&&f.getById&&9===e.nodeType&&y&&w.relative[s[1].type]){if(!(e=(w.find.ID(r.matches[0].replace(it,d),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(o=Y.needsContext.test(t)?0:s.length;o--&&(r=s[o],!w.relative[a=r.type]);)if((l=w.find[a])&&(n=l(r.matches[0].replace(it,d),tt.test(s[0].type)&&ht(e.parentNode)||e))){if(s.splice(o,1),!(t=n.length&&ft(s)))return I.apply(i,n),i;break}}return(c||h(t,u))(n,e,!y,i,tt.test(t)&&ht(e.parentNode)||e),i},f.sortStable=T.split("").sort(P).join("")===T,f.detectDuplicates=!!u,v(),f.sortDetached=rt(function(t){return 1&t.compareDocumentPosition(x.createElement("div"))}),rt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||at("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),f.attributes&&rt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||at("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),rt(function(t){return null==t.getAttribute("disabled")})||at(O,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),nt}(f);C.find=p,C.expr=p.selectors,C.expr[":"]=C.expr.pseudos,C.unique=p.uniqueSort,C.text=p.getText,C.isXMLDoc=p.isXML,C.contains=p.contains;var b=C.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^.[^:#\[\.,]*$/;function x(t,i,n){if(C.isFunction(i))return C.grep(t,function(t,e){return!!i.call(t,e,t)!==n});if(i.nodeType)return C.grep(t,function(t){return t===i!==n});if("string"==typeof i){if(k.test(i))return C.filter(i,t,n);i=C.filter(i,t)}return C.grep(t,function(t){return 0<=o.call(i,t)!==n})}C.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?C.find.matchesSelector(n,t)?[n]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,i=this.length,n=[],o=this;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<i;e++)if(C.contains(o[e],this))return!0}));for(e=0;e<i;e++)C.find(t,o[e],n);return(n=this.pushStack(1<i?C.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(x(this,t||[],!1))},not:function(t){return this.pushStack(x(this,t||[],!0))},is:function(t){return!!x(this,"string"==typeof t&&b.test(t)?C(t):t||[],!1).length}});var T,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(C.fn.init=function(t,e){var i,n;if(!t)return this;if("string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):C.isFunction(t)?void 0!==T.ready?T.ready(t):t(C):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),C.makeArray(t,this));if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:E.exec(t))||!i[1]&&e)return!e||e.jquery?(e||T).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:y,!0)),w.test(i[1])&&C.isPlainObject(e))for(i in e)C.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=y.getElementById(i[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=y,this.selector=t,this}).prototype=C.fn,T=C(y);var S=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function _(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.extend({dir:function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&C(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),C.fn.extend({has:function(t){var e=C(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(C.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,s=[],r=b.test(t)||"string"!=typeof t?C(t,e||this.context):0;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?-1<r.index(i):1===i.nodeType&&C.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(1<s.length?C.unique(s):s)},index:function(t){return t?"string"==typeof t?o.call(C(t),this[0]):o.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.unique(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C.dir(t,"parentNode")},parentsUntil:function(t,e,i){return C.dir(t,"parentNode",i)},next:function(t){return _(t,"nextSibling")},prev:function(t){return _(t,"previousSibling")},nextAll:function(t){return C.dir(t,"nextSibling")},prevAll:function(t){return C.dir(t,"previousSibling")},nextUntil:function(t,e,i){return C.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return C.dir(t,"previousSibling",i)},siblings:function(t){return C.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return C.sibling(t.firstChild)},contents:function(t){return t.contentDocument||C.merge([],t.childNodes)}},function(n,o){C.fn[n]=function(t,e){var i=C.map(this,o,t);return"Until"!==n.slice(-5)&&(e=t),e&&"string"==typeof e&&(i=C.filter(e,i)),1<this.length&&(A[n]||C.unique(i),S.test(n)&&i.reverse()),this.pushStack(i)}});var P,N=/\S+/g,L={};function D(){y.removeEventListener("DOMContentLoaded",D,!1),f.removeEventListener("load",D,!1),C.ready()}C.Callbacks=function(o){o="string"==typeof o?L[o]||function(t){var i=L[t]={};return C.each(t.match(N)||[],function(t,e){i[e]=!0}),i}(o):C.extend({},o);var e,i,n,s,r,a,l=[],c=!o.once&&[],u=function(t){for(e=o.memory&&t,i=!0,a=s||0,s=0,r=l.length,n=!0;l&&a<r;a++)if(!1===l[a].apply(t[0],t[1])&&o.stopOnFalse){e=!1;break}n=!1,l&&(c?c.length&&u(c.shift()):e?l=[]:d.disable())},d={add:function(){if(l){var t=l.length;!function n(t){C.each(t,function(t,e){var i=C.type(e);"function"===i?o.unique&&d.has(e)||l.push(e):e&&e.length&&"string"!==i&&n(e)})}(arguments),n?r=l.length:e&&(s=t,u(e))}return this},remove:function(){return l&&C.each(arguments,function(t,e){for(var i;-1<(i=C.inArray(e,l,i));)l.splice(i,1),n&&(i<=r&&r--,i<=a&&a--)}),this},has:function(t){return t?-1<C.inArray(t,l):!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||i&&!c||(e=[t,(e=e||[]).slice?e.slice():e],n?c.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},C.extend({Deferred:function(t){var s=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],o="pending",r={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var o=arguments;return C.Deferred(function(n){C.each(s,function(t,e){var i=C.isFunction(o[t])&&o[t];a[e[1]](function(){var t=i&&i.apply(this,arguments);t&&C.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[e[0]+"With"](this===r?n.promise():this,i?[t]:arguments)})}),o=null}).promise()},promise:function(t){return null!=t?C.extend(t,r):r}},a={};return r.pipe=r.then,C.each(s,function(t,e){var i=e[2],n=e[3];r[e[1]]=i.add,n&&i.add(function(){o=n},s[1^t][2].disable,s[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?r:this,arguments),this},a[e[0]+"With"]=i.fireWith}),r.promise(a),t&&t.call(a,a),a},when:function(t){function e(e,i,n){return function(t){i[e]=this,n[e]=1<arguments.length?u.call(arguments):t,n===o?c.notifyWith(i,n):--l||c.resolveWith(i,n)}}var o,i,n,s=0,r=u.call(arguments),a=r.length,l=1!==a||t&&C.isFunction(t.promise)?a:0,c=1===l?t:C.Deferred();if(1<a)for(o=new Array(a),i=new Array(a),n=new Array(a);s<a;s++)r[s]&&C.isFunction(r[s].promise)?r[s].promise().done(e(s,n,r)).fail(c.reject).progress(e(s,i,o)):--l;return l||c.resolveWith(n,r),c.promise()}}),C.fn.ready=function(t){return C.ready.promise().done(t),this},C.extend({isReady:!1,readyWait:1,holdReady:function(t){t?C.readyWait++:C.ready(!0)},ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0)!==t&&0<--C.readyWait||(P.resolveWith(y,[C]),C.fn.triggerHandler&&(C(y).triggerHandler("ready"),C(y).off("ready")))}}),C.ready.promise=function(t){return P||(P=C.Deferred(),"complete"===y.readyState?setTimeout(C.ready):(y.addEventListener("DOMContentLoaded",D,!1),f.addEventListener("load",D,!1))),P.promise(t)},C.ready.promise();var M=C.access=function(t,e,i,n,o,s,r){var a=0,l=t.length,c=null==i;if("object"===C.type(i))for(a in o=!0,i)C.access(t,e,a,i[a],!0,s,r);else if(void 0!==n&&(o=!0,C.isFunction(n)||(r=!0),c&&(e=r?(e.call(t,n),null):(c=e,function(t,e,i){return c.call(C(t),i)})),e))for(;a<l;a++)e(t[a],i,r?n:n.call(t[a],a,e(t[a],i)));return o?t:c?e.call(t):l?e(t[0],i):s};function I(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=C.expando+Math.random()}C.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},I.uid=1,I.accepts=C.acceptData,I.prototype={key:function(e){if(!I.accepts(e))return 0;var i={},n=e[this.expando];if(!n){n=I.uid++;try{i[this.expando]={value:n},Object.defineProperties(e,i)}catch(t){i[this.expando]=n,C.extend(e,i)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,i){var n,o=this.key(t),s=this.cache[o];if("string"==typeof e)s[e]=i;else if(C.isEmptyObject(s))C.extend(this.cache[o],e);else for(n in e)s[n]=e[n];return s},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?void 0!==(n=this.get(t,e))?n:this.get(t,C.camelCase(e)):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,s=this.key(t),r=this.cache[s];if(void 0===e)this.cache[s]={};else{i=(n=C.isArray(e)?e.concat(e.map(C.camelCase)):(o=C.camelCase(e),e in r?[e,o]:(n=o)in r?[n]:n.match(N)||[])).length;for(;i--;)delete r[n[i]]}},hasData:function(t){return!C.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var F=new I,j=new I,O=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/([A-Z])/g;function q(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(H,"-$1").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:O.test(i)?C.parseJSON(i):i)}catch(t){}j.set(t,e,i)}else i=void 0;return i}C.extend({hasData:function(t){return j.hasData(t)||F.hasData(t)},data:function(t,e,i){return j.access(t,e,i)},removeData:function(t,e){j.remove(t,e)},_data:function(t,e,i){return F.access(t,e,i)},_removeData:function(t,e){F.remove(t,e)}}),C.fn.extend({data:function(n,t){var e,i,o,s=this[0],r=s&&s.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){j.set(this,n)}):M(this,function(e){var t,i=C.camelCase(n);if(s&&void 0===e)return void 0!==(t=j.get(s,n))?t:void 0!==(t=j.get(s,i))?t:void 0!==(t=q(s,i,void 0))?t:void 0;this.each(function(){var t=j.get(this,i);j.set(this,i,e),-1!==n.indexOf("-")&&void 0!==t&&j.set(this,n,e)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=j.get(s),1===s.nodeType&&!F.get(s,"hasDataAttrs"))){for(e=r.length;e--;)r[e]&&0===(i=r[e].name).indexOf("data-")&&(i=C.camelCase(i.slice(5)),q(s,i,o[i]));F.set(s,"hasDataAttrs",!0)}return o},removeData:function(t){return this.each(function(){j.remove(this,t)})}}),C.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=F.get(t,e),i&&(!n||C.isArray(i)?n=F.access(t,e,C.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=C.queue(t,e),n=i.length,o=i.shift(),s=C._queueHooks(t,e);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,function(){C.dequeue(t,e)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return F.get(t,i)||F.access(t,i,{empty:C.Callbacks("once memory").add(function(){F.remove(t,[e+"queue",i])})})}}),C.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?C.queue(this[0],e):void 0===i?this:this.each(function(){var t=C.queue(this,e,i);C._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&C.dequeue(this,e)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function i(){--o||s.resolveWith(r,[r])}var n,o=1,s=C.Deferred(),r=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=F.get(r[a],t+"queueHooks"))&&n.empty&&(o++,n.empty.add(i));return i(),s.promise(e)}});function $(t,e){return t=e||t,"none"===C.css(t,"display")||!C.contains(t.ownerDocument,t)}var R,W,B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=["Top","Right","Bottom","Left"],U=/^(?:checkbox|radio)$/i;R=y.createDocumentFragment().appendChild(y.createElement("div")),(W=y.createElement("input")).setAttribute("type","radio"),W.setAttribute("checked","checked"),W.setAttribute("name","t"),R.appendChild(W),v.checkClone=R.cloneNode(!0).cloneNode(!0).lastChild.checked,R.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!R.cloneNode(!0).lastChild.defaultValue;var V="undefined";v.focusinBubbles="onfocusin"in f;var Q=/^key/,X=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function J(){return!1}function Z(){try{return y.activeElement}catch(t){}}C.event={global:{},add:function(e,t,i,n,o){var s,r,a,l,c,u,d,h,p,f,m,g=F.get(e);if(g)for(i.handler&&(i=(s=i).handler,o=s.selector),i.guid||(i.guid=C.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(t){return typeof C!=V&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(N)||[""]).length;c--;)p=m=(a=G.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=C.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=C.event.special[p]||{},u=C.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:f.join(".")},s),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,r)||e.addEventListener&&e.addEventListener(p,r,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),C.event.global[p]=!0)},remove:function(t,e,i,n,o){var s,r,a,l,c,u,d,h,p,f,m,g=F.hasData(t)&&F.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(N)||[""]).length;c--;)if(p=m=(a=G.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=C.event.special[p]||{},h=l[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=h.length;s--;)u=h[s],!o&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));r&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,f,g.handle)||C.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)C.event.remove(t,p+e[c],i,n,!0);C.isEmptyObject(l)&&(delete g.handle,F.remove(t,"events"))}},trigger:function(t,e,i,n){var o,s,r,a,l,c,u,d=[i||y],h=g.call(t,"type")?t.type:t,p=g.call(t,"namespace")?t.namespace.split("."):[];if(s=r=i=i||y,3!==i.nodeType&&8!==i.nodeType&&!Y.test(h+C.event.triggered)&&(0<=h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),l=h.indexOf(":")<0&&"on"+h,(t=t[C.expando]?t:new C.Event(h,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:C.makeArray(e,[t]),u=C.event.special[h]||{},n||!u.trigger||!1!==u.trigger.apply(i,e))){if(!n&&!u.noBubble&&!C.isWindow(i)){for(a=u.delegateType||h,Y.test(a+h)||(s=s.parentNode);s;s=s.parentNode)d.push(s),r=s;r===(i.ownerDocument||y)&&d.push(r.defaultView||r.parentWindow||f)}for(o=0;(s=d[o++])&&!t.isPropagationStopped();)t.type=1<o?a:u.bindType||h,(c=(F.get(s,"events")||{})[t.type]&&F.get(s,"handle"))&&c.apply(s,e),(c=l&&s[l])&&c.apply&&C.acceptData(s)&&(t.result=c.apply(s,e),!1===t.result&&t.preventDefault());return t.type=h,n||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),e)||!C.acceptData(i)||l&&C.isFunction(i[h])&&!C.isWindow(i)&&((r=i[l])&&(i[l]=null),i[C.event.triggered=h](),C.event.triggered=void 0,r&&(i[l]=r)),t.result}},dispatch:function(t){t=C.event.fix(t);var e,i,n,o,s,r,a=u.call(arguments),l=(F.get(this,"events")||{})[t.type]||[],c=C.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(r=C.event.handlers.call(this,t,l),e=0;(o=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(s.namespace)||(t.handleObj=s,t.data=s.data,void 0!==(n=((C.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,s,r=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==t.type){for(n=[],i=0;i<a;i++)void 0===n[o=(s=e[i]).selector+" "]&&(n[o]=s.needsContext?0<=C(o,this).index(l):C.find(o,this,null,[l]).length),n[o]&&n.push(s);n.length&&r.push({elem:l,handlers:n})}return a<e.length&&r.push({elem:this,handlers:e.slice(a)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,s=e.button;return null==t.pageX&&null!=e.clientX&&(n=(i=t.target.ownerDocument||y).documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[C.expando])return t;var e,i,n,o=t.type,s=t,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=X.test(o)?this.mouseHooks:Q.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new C.Event(s),e=n.length;e--;)t[i=n[e]]=s[i];return t.target||(t.target=y),3===t.target.nodeType&&(t.target=t.target.parentNode),r.filter?r.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Z()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Z()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&C.nodeName(this,"input"))return this.click(),!1},_default:function(t){return C.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=C.extend(new C.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?C.event.trigger(o,null,e):C.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},C.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?K:J):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=K,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=K,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=K,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){C.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||C.contains(this,i))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=o),e}}}),v.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},function(i,n){function o(t){C.event.simulate(n,t.target,C.event.fix(t),!0)}C.event.special[n]={setup:function(){var t=this.ownerDocument||this,e=F.access(t,n);e||t.addEventListener(i,o,!0),F.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=F.access(t,n)-1;e?F.access(t,n,e):(t.removeEventListener(i,o,!0),F.remove(t,n))}}}),C.fn.extend({on:function(t,e,i,n,o){var s,r;if("object"==typeof t){for(r in"string"!=typeof e&&(i=i||e,e=void 0),t)this.on(r,e,i,t[r],o);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),!1===n)n=J;else if(!n)return this;return 1===o&&(s=n,(n=function(t){return C().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),this.each(function(){C.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,C(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=J),this.each(function(){C.event.remove(this,t,i,e)});for(o in t)this.off(o,e,t[o]);return this},trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return C.event.trigger(t,e,i,!0)}});var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,et=/<([\w:]+)/,it=/<|&#?\w+;/,nt=/<(?:script|style|link)/i,ot=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^$|\/(?:java|ecma)script/i,rt=/^true\/(.*)/,at=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ct(t,e){return C.nodeName(t,"table")&&C.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function ut(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function dt(t){var e=rt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function ht(t,e){for(var i=0,n=t.length;i<n;i++)F.set(t[i],"globalEval",!e||F.get(e[i],"globalEval"))}function pt(t,e){var i,n,o,s,r,a,l,c;if(1===e.nodeType){if(F.hasData(t)&&(s=F.access(t),r=F.set(e,s),c=s.events))for(o in delete r.handle,r.events={},c)for(i=0,n=c[o].length;i<n;i++)C.event.add(e,o,c[o][i]);j.hasData(t)&&(a=j.access(t),l=C.extend({},a),j.set(e,l))}}function ft(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&C.nodeName(t,e)?C.merge([t],i):i}lt.optgroup=lt.option,lt.tbody=lt.tfoot=lt.colgroup=lt.caption=lt.thead,lt.th=lt.td,C.extend({clone:function(t,e,i){var n,o,s,r,a,l,c,u=t.cloneNode(!0),d=C.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(r=ft(u),n=0,o=(s=ft(t)).length;n<o;n++)a=s[n],l=r[n],void 0,"input"===(c=l.nodeName.toLowerCase())&&U.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(e)if(i)for(s=s||ft(t),r=r||ft(u),n=0,o=s.length;n<o;n++)pt(s[n],r[n]);else pt(t,u);return 0<(r=ft(u,"script")).length&&ht(r,!d&&ft(t,"script")),u},buildFragment:function(t,e,i,n){for(var o,s,r,a,l,c,u=e.createDocumentFragment(),d=[],h=0,p=t.length;h<p;h++)if((o=t[h])||0===o)if("object"===C.type(o))C.merge(d,o.nodeType?[o]:o);else if(it.test(o)){for(s=s||u.appendChild(e.createElement("div")),r=(et.exec(o)||["",""])[1].toLowerCase(),a=lt[r]||lt._default,s.innerHTML=a[1]+o.replace(tt,"<$1></$2>")+a[2],c=a[0];c--;)s=s.lastChild;C.merge(d,s.childNodes),(s=u.firstChild).textContent=""}else d.push(e.createTextNode(o));for(u.textContent="",h=0;o=d[h++];)if((!n||-1===C.inArray(o,n))&&(l=C.contains(o.ownerDocument,o),s=ft(u.appendChild(o),"script"),l&&ht(s),i))for(c=0;o=s[c++];)st.test(o.type||"")&&i.push(o);return u},cleanData:function(t){for(var e,i,n,o,s=C.event.special,r=0;void 0!==(i=t[r]);r++){if(C.acceptData(i)&&(o=i[F.expando])&&(e=F.cache[o])){if(e.events)for(n in e.events)s[n]?C.event.remove(i,n):C.removeEvent(i,n,e.handle);F.cache[o]&&delete F.cache[o]}delete j.cache[i[j.expando]]}}}),C.fn.extend({text:function(t){return M(this,function(t){return void 0===t?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ct(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=ct(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?C.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||C.cleanData(ft(i)),i.parentNode&&(e&&C.contains(i.ownerDocument,i)&&ht(ft(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(ft(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return M(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!nt.test(t)&&!lt[(et.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(tt,"<$1></$2>");try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(C.cleanData(ft(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,C.cleanData(ft(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(i,n){i=m.apply([],i);var t,e,o,s,r,a,l=0,c=this.length,u=this,d=c-1,h=i[0],p=C.isFunction(h);if(p||1<c&&"string"==typeof h&&!v.checkClone&&ot.test(h))return this.each(function(t){var e=u.eq(t);p&&(i[0]=h.call(this,t,e.html())),e.domManip(i,n)});if(c&&(e=(t=C.buildFragment(i,this[0].ownerDocument,!1,this)).firstChild,1===t.childNodes.length&&(t=e),e)){for(s=(o=C.map(ft(t,"script"),ut)).length;l<c;l++)r=t,l!==d&&(r=C.clone(r,!0,!0),s&&C.merge(o,ft(r,"script"))),n.call(this[l],r,l);if(s)for(a=o[o.length-1].ownerDocument,C.map(o,dt),l=0;l<s;l++)r=o[l],st.test(r.type||"")&&!F.access(r,"globalEval")&&C.contains(a,r)&&(r.src?C._evalUrl&&C._evalUrl(r.src):C.globalEval(r.textContent.replace(at,"")))}return this}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,r){C.fn[t]=function(t){for(var e,i=[],n=C(t),o=n.length-1,s=0;s<=o;s++)e=s===o?this:this.clone(!0),C(n[s])[r](e),a.apply(i,e.get());return this.pushStack(i)}});var mt,gt={};function vt(t,e){var i,n=C(e.createElement(t)).appendTo(e.body),o=f.getDefaultComputedStyle&&(i=f.getDefaultComputedStyle(n[0]))?i.display:C.css(n[0],"display");return n.detach(),o}function yt(t){var e=y,i=gt[t];return i||("none"!==(i=vt(t,e))&&i||((e=(mt=(mt||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),i=vt(t,e),mt.detach()),gt[t]=i),i}var bt,wt,kt,xt,Ct,Tt=/^margin/,Et=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),St=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};function At(t,e,i){var n,o,s,r,a=t.style;return(i=i||St(t))&&(r=i.getPropertyValue(e)||i[e]),i&&(""!==r||C.contains(t.ownerDocument,t)||(r=C.style(t,e)),Et.test(r)&&Tt.test(e)&&(n=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+"":r}function _t(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function Pt(){Ct.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",Ct.innerHTML="",kt.appendChild(xt);var t=f.getComputedStyle(Ct,null);bt="1%"!==t.top,wt="4px"===t.width,kt.removeChild(xt)}kt=y.documentElement,xt=y.createElement("div"),(Ct=y.createElement("div")).style&&(Ct.style.backgroundClip="content-box",Ct.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Ct.style.backgroundClip,xt.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",xt.appendChild(Ct),f.getComputedStyle&&C.extend(v,{pixelPosition:function(){return Pt(),bt},boxSizingReliable:function(){return null==wt&&Pt(),wt},reliableMarginRight:function(){var t,e=Ct.appendChild(y.createElement("div"));return e.style.cssText=Ct.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",Ct.style.width="1px",kt.appendChild(xt),t=!parseFloat(f.getComputedStyle(e,null).marginRight),kt.removeChild(xt),t}})),C.swap=function(t,e,i,n){var o,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];for(s in o=i.apply(t,n||[]),e)t.style[s]=r[s];return o};var Nt=/^(none|table(?!-c[ea]).+)/,Lt=new RegExp("^("+B+")(.*)$","i"),Dt=new RegExp("^([+-])=("+B+")","i"),Mt={position:"absolute",visibility:"hidden",display:"block"},It={letterSpacing:"0",fontWeight:"400"},Ft=["Webkit","O","Moz","ms"];function jt(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,o=Ft.length;o--;)if((e=Ft[o]+i)in t)return e;return n}function Ot(t,e,i){var n=Lt.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function Ht(t,e,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===e?1:0,r=0;s<4;s+=2)"margin"===i&&(r+=C.css(t,i+z[s],!0,o)),n?("content"===i&&(r-=C.css(t,"padding"+z[s],!0,o)),"margin"!==i&&(r-=C.css(t,"border"+z[s]+"Width",!0,o))):(r+=C.css(t,"padding"+z[s],!0,o),"padding"!==i&&(r+=C.css(t,"border"+z[s]+"Width",!0,o)));return r}function qt(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,s=St(t),r="border-box"===C.css(t,"boxSizing",!1,s);if(o<=0||null==o){if(((o=At(t,e,s))<0||null==o)&&(o=t.style[e]),Et.test(o))return o;n=r&&(v.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+Ht(t,e,i||(r?"border":"content"),n,s)+"px"}function $t(t,e){for(var i,n,o,s=[],r=0,a=t.length;r<a;r++)(n=t[r]).style&&(s[r]=F.get(n,"olddisplay"),i=n.style.display,e?(s[r]||"none"!==i||(n.style.display=""),""===n.style.display&&$(n)&&(s[r]=F.access(n,"olddisplay",yt(n.nodeName)))):(o=$(n),"none"===i&&o||F.set(n,"olddisplay",o?i:C.css(n,"display"))));for(r=0;r<a;r++)(n=t[r]).style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?s[r]||"":"none"));return t}function Rt(t,e,i,n,o){return new Rt.prototype.init(t,e,i,n,o)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=At(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=C.camelCase(e),l=t.style;if(e=C.cssProps[a]||(C.cssProps[a]=jt(l,a)),r=C.cssHooks[e]||C.cssHooks[a],void 0===i)return r&&"get"in r&&void 0!==(o=r.get(t,!1,n))?o:l[e];"string"===(s=typeof i)&&(o=Dt.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(C.css(t,e)),s="number"),null!=i&&i==i&&("number"!==s||C.cssNumber[a]||(i+="px"),v.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),r&&"set"in r&&void 0===(i=r.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var o,s,r,a=C.camelCase(e);return e=C.cssProps[a]||(C.cssProps[a]=jt(t.style,a)),(r=C.cssHooks[e]||C.cssHooks[a])&&"get"in r&&(o=r.get(t,!0,i)),void 0===o&&(o=At(t,e,n)),"normal"===o&&e in It&&(o=It[e]),""===i||i?(s=parseFloat(o),!0===i||C.isNumeric(s)?s||0:o):o}}),C.each(["height","width"],function(t,o){C.cssHooks[o]={get:function(t,e,i){if(e)return Nt.test(C.css(t,"display"))&&0===t.offsetWidth?C.swap(t,Mt,function(){return qt(t,o,i)}):qt(t,o,i)},set:function(t,e,i){var n=i&&St(t);return Ot(0,e,i?Ht(t,o,i,"border-box"===C.css(t,"boxSizing",!1,n),n):0)}}}),C.cssHooks.marginRight=_t(v.reliableMarginRight,function(t,e){if(e)return C.swap(t,{display:"inline-block"},At,[t,"marginRight"])}),C.each({margin:"",padding:"",border:"Width"},function(o,s){C.cssHooks[o+s]={expand:function(t){for(var e=0,i={},n="string"==typeof t?t.split(" "):[t];e<4;e++)i[o+z[e]+s]=n[e]||n[e-2]||n[0];return i}},Tt.test(o)||(C.cssHooks[o+s].set=Ot)}),C.fn.extend({css:function(t,e){return M(this,function(t,e,i){var n,o,s={},r=0;if(C.isArray(e)){for(n=St(t),o=e.length;r<o;r++)s[e[r]]=C.css(t,e[r],!1,n);return s}return void 0!==i?C.style(t,e,i):C.css(t,e)},t,e,1<arguments.length)},show:function(){return $t(this,!0)},hide:function(){return $t(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$(this)?C(this).show():C(this).hide()})}}),((C.Tween=Rt).prototype={constructor:Rt,init:function(t,e,i,n,o,s){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(C.cssNumber[i]?"":"px")},cur:function(){var t=Rt.propHooks[this.prop];return t&&t.get?t.get(this):Rt.propHooks._default.get(this)},run:function(t){var e,i=Rt.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Rt.propHooks._default.set(this),this}}).init.prototype=Rt.prototype,(Rt.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[C.cssProps[t.prop]]||C.cssHooks[t.prop])?C.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}}).scrollTop=Rt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},C.fx=Rt.prototype.init,C.fx.step={};var Wt,Bt,zt,Ut,Vt,Qt=/^(?:toggle|show|hide)$/,Xt=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),Yt=/queueHooks$/,Gt=[function(e,t,i){var n,o,s,r,a,l,c,u=this,d={},h=e.style,p=e.nodeType&&$(e),f=F.get(e,"fxshow");i.queue||(null==(a=C._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,C.queue(e,"fx").length||a.empty.fire()})}));1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],c=C.css(e,"display"),"inline"===("none"===c?F.get(e,"olddisplay")||yt(e.nodeName):c)&&"none"===C.css(e,"float")&&(h.display="inline-block"));i.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],Qt.exec(o)){if(delete t[n],s=s||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||void 0===f[n])continue;p=!0}d[n]=f&&f[n]||C.style(e,n)}else c=void 0;if(C.isEmptyObject(d))"inline"===("none"===c?yt(e.nodeName):c)&&(h.display=c);else for(n in f?"hidden"in f&&(p=f.hidden):f=F.access(e,"fxshow",{}),s&&(f.hidden=!p),p?C(e).show():u.done(function(){C(e).hide()}),u.done(function(){var t;for(t in F.remove(e,"fxshow"),d)C.style(e,t,d[t])}),d)r=te(p?f[n]:0,n,u),n in f||(f[n]=r.start,p&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}],Kt={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=Xt.exec(e),s=o&&o[3]||(C.cssNumber[t]?"":"px"),r=(C.cssNumber[t]||"px"!==s&&+n)&&Xt.exec(C.css(i.elem,t)),a=1,l=20;if(r&&r[3]!==s)for(s=s||r[3],o=o||[],r=+n||1;r/=a=a||".5",C.style(i.elem,t,r+s),a!==(a=i.cur()/n)&&1!==a&&--l;);return o&&(r=i.start=+r||+n||0,i.unit=s,i.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),i}]};function Jt(){return setTimeout(function(){Wt=void 0}),Wt=C.now()}function Zt(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)o["margin"+(i=z[n])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function te(t,e,i){for(var n,o=(Kt[e]||[]).concat(Kt["*"]),s=0,r=o.length;s<r;s++)if(n=o[s].call(i,e,t))return n}function ee(s,t,e){var i,r,n=0,o=Gt.length,a=C.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Wt||Jt(),e=Math.max(0,c.startTime+c.duration-t),i=1-(e/c.duration||0),n=0,o=c.tweens.length;n<o;n++)c.tweens[n].run(i);return a.notifyWith(s,[c,i,e]),i<1&&o?e:(a.resolveWith(s,[c]),!1)},c=a.promise({elem:s,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:Wt||Jt(),duration:e.duration,tweens:[],createTween:function(t,e){var i=C.Tween(s,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var e=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;e<i;e++)c.tweens[e].run(1);return t?a.resolveWith(s,[c,t]):a.rejectWith(s,[c,t]),this}}),u=c.props;for(!function(t,e){var i,n,o,s,r;for(i in t)if(o=e[n=C.camelCase(i)],s=t[i],C.isArray(s)&&(o=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(r=C.cssHooks[n])&&"expand"in r)for(i in s=r.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=o);else e[n]=o}(u,c.opts.specialEasing);n<o;n++)if(i=Gt[n].call(c,s,u,c.opts))return i;return C.map(u,te,c),C.isFunction(c.opts.start)&&c.opts.start.call(s,c),C.fx.timer(C.extend(l,{elem:s,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}C.Animation=C.extend(ee,{tweener:function(t,e){for(var i,n=0,o=(t=C.isFunction(t)?(e=t,["*"]):t.split(" ")).length;n<o;n++)i=t[n],Kt[i]=Kt[i]||[],Kt[i].unshift(e)},prefilter:function(t,e){e?Gt.unshift(t):Gt.push(t)}}),C.speed=function(t,e,i){var n=t&&"object"==typeof t?C.extend({},t):{complete:i||!i&&e||C.isFunction(t)&&t,duration:t,easing:i&&e||e&&!C.isFunction(e)&&e};return n.duration=C.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in C.fx.speeds?C.fx.speeds[n.duration]:C.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){C.isFunction(n.old)&&n.old.call(this),n.queue&&C.dequeue(this,n.queue)},n},C.fn.extend({fadeTo:function(t,e,i,n){return this.filter($).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(e,t,i,n){function o(){var t=ee(this,C.extend({},e),r);(s||F.get(this,"finish"))&&t.stop(!0)}var s=C.isEmptyObject(e),r=C.speed(t,i,n);return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(o,t,s){function r(t){var e=t.stop;delete t.stop,e(s)}return"string"!=typeof o&&(s=t,t=o,o=void 0),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",i=C.timers,n=F.get(this);if(e)n[e]&&n[e].stop&&r(n[e]);else for(e in n)n[e]&&n[e].stop&&Yt.test(e)&&r(n[e]);for(e=i.length;e--;)i[e].elem!==this||null!=o&&i[e].queue!==o||(i[e].anim.stop(s),t=!1,i.splice(e,1));!t&&s||C.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var t,e=F.get(this),i=e[r+"queue"],n=e[r+"queueHooks"],o=C.timers,s=i?i.length:0;for(e.finish=!0,C.queue(this,r,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===r&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),C.each(["toggle","show","hide"],function(t,n){var o=C.fn[n];C.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(Zt(n,!0),t,e,i)}}),C.each({slideDown:Zt("show"),slideUp:Zt("hide"),slideToggle:Zt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){C.fn[t]=function(t,e,i){return this.animate(n,t,e,i)}}),C.timers=[],C.fx.tick=function(){var t,e=0,i=C.timers;for(Wt=C.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||C.fx.stop(),Wt=void 0},C.fx.timer=function(t){C.timers.push(t),t()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){Bt=Bt||setInterval(C.fx.tick,C.fx.interval)},C.fx.stop=function(){clearInterval(Bt),Bt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(n,t){return n=C.fx&&C.fx.speeds[n]||n,t=t||"fx",this.queue(t,function(t,e){var i=setTimeout(t,n);e.stop=function(){clearTimeout(i)}})},zt=y.createElement("input"),Ut=y.createElement("select"),Vt=Ut.appendChild(y.createElement("option")),zt.type="checkbox",v.checkOn=""!==zt.value,v.optSelected=Vt.selected,Ut.disabled=!0,v.optDisabled=!Vt.disabled,(zt=y.createElement("input")).value="t",zt.type="radio",v.radioValue="t"===zt.value;var ie,ne=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return M(this,C.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,i){var n,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute==V?C.prop(t,e,i):(1===s&&C.isXMLDoc(t)||(e=e.toLowerCase(),n=C.attrHooks[e]||(C.expr.match.bool.test(e)?ie:void 0)),void 0===i?n&&"get"in n&&null!==(o=n.get(t,e))?o:null==(o=C.find.attr(t,e))?void 0:o:null!==i?n&&"set"in n&&void 0!==(o=n.set(t,i,e))?o:(t.setAttribute(e,i+""),i):void C.removeAttr(t,e))},removeAttr:function(t,e){var i,n,o=0,s=e&&e.match(N);if(s&&1===t.nodeType)for(;i=s[o++];)n=C.propFix[i]||i,C.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&C.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),ie={set:function(t,e,i){return!1===e?C.removeAttr(t,i):t.setAttribute(i,i),i}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var s=ne[e]||C.find.attr;ne[e]=function(t,e,i){var n,o;return i||(o=ne[e],ne[e]=n,n=null!=s(t,e,i)?e.toLowerCase():null,ne[e]=o),n}});var oe=/^(?:input|select|textarea|button)$/i;C.fn.extend({prop:function(t,e){return M(this,C.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}}),C.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,i){var n,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return(1!==s||!C.isXMLDoc(t))&&(e=C.propFix[e]||e,o=C.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||oe.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),v.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});var se=/[\t\r\n\f]/g;C.fn.extend({addClass:function(e){var t,i,n,o,s,r,a="string"==typeof e&&e,l=0,c=this.length;if(C.isFunction(e))return this.each(function(t){C(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(N)||[];l<c;l++)if(n=1===(i=this[l]).nodeType&&(i.className?(" "+i.className+" ").replace(se," "):" ")){for(s=0;o=t[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r=C.trim(n),i.className!==r&&(i.className=r)}return this},removeClass:function(e){var t,i,n,o,s,r,a=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(C.isFunction(e))return this.each(function(t){C(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(N)||[];l<c;l++)if(n=1===(i=this[l]).nodeType&&(i.className?(" "+i.className+" ").replace(se," "):"")){for(s=0;o=t[s++];)for(;0<=n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");r=e?C.trim(n):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(o,e){var s=typeof o;return"boolean"==typeof e&&"string"==s?e?this.addClass(o):this.removeClass(o):C.isFunction(o)?this.each(function(t){C(this).toggleClass(o.call(this,t,this.className,e),e)}):this.each(function(){if("string"==s)for(var t,e=0,i=C(this),n=o.match(N)||[];t=n[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else s!=V&&"boolean"!=s||(this.className&&F.set(this,"__className__",this.className),this.className=this.className||!1===o?"":F.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&0<=(" "+this[i].className+" ").replace(se," ").indexOf(e))return!0;return!1}});var re=/\r/g;C.fn.extend({val:function(i){var n,t,o,e=this[0];return arguments.length?(o=C.isFunction(i),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?i.call(this,t,C(this).val()):i)?e="":"number"==typeof e?e+="":C.isArray(e)&&(e=C.map(e,function(t){return null==t?"":t+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):e?(n=C.valHooks[e.type]||C.valHooks[e.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(re,""):null==t?"":t:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:C.trim(C.text(t))}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,s="select-one"===t.type||o<0,r=s?null:[],a=s?o+1:n.length,l=o<0?a:s?o:0;l<a;l++)if(((i=n[l]).selected||l===o)&&(v.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!C.nodeName(i.parentNode,"optgroup"))){if(e=C(i).val(),s)return e;r.push(e)}return r},set:function(t,e){for(var i,n,o=t.options,s=C.makeArray(e),r=o.length;r--;)((n=o[r]).selected=0<=C.inArray(n.value,s))&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(C.isArray(e))return t.checked=0<=C.inArray(C(t).val(),e)}},v.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,i){C.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}}),C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var ae=C.now(),le=/\?/;C.parseJSON=function(t){return JSON.parse(t+"")},C.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),e};var ce,ue,de=/#.*$/,he=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,fe=/^(?:GET|HEAD)$/,me=/^\/\//,ge=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ve={},ye={},be="*/".concat("*");try{ue=location.href}catch(t){(ue=y.createElement("a")).href="",ue=ue.href}function we(s){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,n=0,o=t.toLowerCase().match(N)||[];if(C.isFunction(e))for(;i=o[n++];)"+"===i[0]?(i=i.slice(1)||"*",(s[i]=s[i]||[]).unshift(e)):(s[i]=s[i]||[]).push(e)}}function ke(e,o,s,r){var a={},l=e===ye;function c(t){var n;return a[t]=!0,C.each(e[t]||[],function(t,e){var i=e(o,s,r);return"string"!=typeof i||l||a[i]?l?!(n=i):void 0:(o.dataTypes.unshift(i),c(i),!1)}),n}return c(o.dataTypes[0])||!a["*"]&&c("*")}function xe(t,e){var i,n,o=C.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n=n||{})[i]=e[i]);return n&&C.extend(!0,t,n),t}ce=ge.exec(ue.toLowerCase())||[],C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ue,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ce[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?xe(xe(t,C.ajaxSettings),e):xe(C.ajaxSettings,t)},ajaxPrefilter:we(ve),ajaxTransport:we(ye),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var u,d,h,i,p,n,f,o,m=C.ajaxSetup({},e),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?C(g):C.event,y=C.Deferred(),b=C.Callbacks("once memory"),w=m.statusCode||{},s={},r={},k=0,a="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===k){if(!i)for(i={};e=pe.exec(h);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===k?h:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return k||(t=r[i]=r[i]||t,s[t]=e),this},overrideMimeType:function(t){return k||(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(k<2)for(e in t)w[e]=[w[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||a;return u&&u.abort(e),l(0,e),this}};if(y.promise(x).complete=b.add,x.success=x.done,x.error=x.fail,m.url=((t||m.url||ue)+"").replace(de,"").replace(me,ce[1]+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=C.trim(m.dataType||"*").toLowerCase().match(N)||[""],null==m.crossDomain&&(n=ge.exec(m.url.toLowerCase()),m.crossDomain=!(!n||n[1]===ce[1]&&n[2]===ce[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(ce[3]||("http:"===ce[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=C.param(m.data,m.traditional)),ke(ve,m,e,x),2===k)return x;for(o in(f=m.global)&&0==C.active++&&C.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!fe.test(m.type),d=m.url,m.hasContent||(m.data&&(d=m.url+=(le.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=he.test(d)?d.replace(he,"$1_="+ae++):d+(le.test(d)?"&":"?")+"_="+ae++)),m.ifModified&&(C.lastModified[d]&&x.setRequestHeader("If-Modified-Since",C.lastModified[d]),C.etag[d]&&x.setRequestHeader("If-None-Match",C.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+be+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(g,x,m)||2===k))return x.abort();for(o in a="abort",{success:1,error:1,complete:1})x[o](m[o]);if(u=ke(ye,m,e,x)){x.readyState=1,f&&v.trigger("ajaxSend",[x,m]),m.async&&0<m.timeout&&(p=setTimeout(function(){x.abort("timeout")},m.timeout));try{k=1,u.send(s,l)}catch(t){if(!(k<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,i,n){var o,s,r,a,l,c=e;2!==k&&(k=2,p&&clearTimeout(p),u=void 0,h=n||"",x.readyState=0<t?4:0,o=200<=t&&t<300||304===t,i&&(a=function(t,e,i){for(var n,o,s,r,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){s=o;break}r=r||o}s=s||r}if(s)return s!==l[0]&&l.unshift(s),i[s]}(m,x,i)),a=function(t,e,i,n){var o,s,r,a,l,c={},u=t.dataTypes.slice();if(u[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=c[l+" "+s]||c["* "+s]))for(o in c)if((a=o.split(" "))[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[o]:!0!==c[o]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(m,a,x,o),o?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(C.lastModified[d]=l),(l=x.getResponseHeader("etag"))&&(C.etag[d]=l)),204===t||"HEAD"===m.type?c="nocontent":304===t?c="notmodified":(c=a.state,s=a.data,o=!(r=a.error))):(r=c,!t&&c||(c="error",t<0&&(t=0))),x.status=t,x.statusText=(e||c)+"",o?y.resolveWith(g,[s,c,x]):y.rejectWith(g,[x,c,r]),x.statusCode(w),w=void 0,f&&v.trigger(o?"ajaxSuccess":"ajaxError",[x,m,o?s:r]),b.fireWith(g,[x,c]),f&&(v.trigger("ajaxComplete",[x,m]),--C.active||C.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,i){return C.get(t,e,i,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],function(t,o){C[o]=function(t,e,i,n){return C.isFunction(e)&&(n=n||i,i=e,e=void 0),C.ajax({url:t,type:o,dataType:n,data:e,success:i})}}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C._evalUrl=function(t){return C.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(e){var t;return C.isFunction(e)?this.each(function(t){C(this).wrapAll(e.call(this,t))}):(this[0]&&(t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(i){return C.isFunction(i)?this.each(function(t){C(this).wrapInner(i.call(this,t))}):this.each(function(){var t=C(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=C.isFunction(e);return this.each(function(t){C(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}}),C.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},C.expr.filters.visible=function(t){return!C.expr.filters.hidden(t)};var Ce=/%20/g,Te=/\[\]$/,Ee=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function _e(i,t,n,o){var e;if(C.isArray(t))C.each(t,function(t,e){n||Te.test(i)?o(i,e):_e(i+"["+("object"==typeof e?t:"")+"]",e,n,o)});else if(n||"object"!==C.type(t))o(i,t);else for(e in t)_e(i+"["+e+"]",t[e],n,o)}C.param=function(t,e){function i(t,e){e=C.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)}var n,o=[];if(void 0===e&&(e=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){i(this.name,this.value)});else for(n in t)_e(n,t[n],e,i);return o.join("&").replace(Ce,"+")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Ae.test(this.nodeName)&&!Se.test(t)&&(this.checked||!U.test(t))}).map(function(t,e){var i=C(this).val();return null==i?null:C.isArray(i)?C.map(i,function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}}):{name:e.name,value:i.replace(Ee,"\r\n")}}).get()}}),C.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Pe=0,Ne={},Le={0:200,1223:204},De=C.ajaxSettings.xhr();f.ActiveXObject&&C(f).on("unload",function(){for(var t in Ne)Ne[t]()}),v.cors=!!De&&"withCredentials"in De,v.ajax=De=!!De,C.ajaxTransport(function(s){var r;if(v.cors||De&&!s.crossDomain)return{send:function(t,e){var i,n=s.xhr(),o=++Pe;if(n.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(i in s.xhrFields)n[i]=s.xhrFields[i];for(i in s.mimeType&&n.overrideMimeType&&n.overrideMimeType(s.mimeType),s.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(i,t[i]);r=function(t){return function(){r&&(delete Ne[o],r=n.onload=n.onerror=null,"abort"===t?n.abort():"error"===t?e(n.status,n.statusText):e(Le[n.status]||n.status,n.statusText,"string"==typeof n.responseText?{text:n.responseText}:void 0,n.getAllResponseHeaders()))}},n.onload=r(),n.onerror=r("error"),r=Ne[o]=r("abort");try{n.send(s.hasContent&&s.data||null)}catch(t){if(r)throw t}},abort:function(){r&&r()}}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),C.ajaxTransport("script",function(i){var n,o;if(i.crossDomain)return{send:function(t,e){n=C("<script>").prop({async:!0,charset:i.scriptCharset,src:i.url}).on("load error",o=function(t){n.remove(),o=null,t&&e("error"===t.type?404:200,t.type)}),y.head.appendChild(n[0])},abort:function(){o&&o()}}});var Me=[],Ie=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Me.pop()||C.expando+"_"+ae++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,i){var n,o,s,r=!1!==t.jsonp&&(Ie.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ie.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=C.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Ie,"$1"+n):!1!==t.jsonp&&(t.url+=(le.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return s||C.error(n+" was not called"),s[0]},t.dataTypes[0]="json",o=f[n],f[n]=function(){s=arguments},i.always(function(){f[n]=o,t[n]&&(t.jsonpCallback=e.jsonpCallback,Me.push(n)),s&&C.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),C.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||y;var n=w.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=C.buildFragment([t],e,o),o&&o.length&&C(o).remove(),C.merge([],n.childNodes))};var Fe=C.fn.load;C.fn.load=function(t,e,i){if("string"!=typeof t&&Fe)return Fe.apply(this,arguments);var n,o,s,r=this,a=t.indexOf(" ");return 0<=a&&(n=C.trim(t.slice(a)),t=t.slice(0,a)),C.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),0<r.length&&C.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){s=arguments,r.html(n?C("<div>").append(C.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){r.each(i,s||[t.responseText,e,t])}),this},C.expr.filters.animated=function(e){return C.grep(C.timers,function(t){return e===t.elem}).length};var je=f.document.documentElement;function Oe(t){return C.isWindow(t)?t:9===t.nodeType&&t.defaultView}C.offset={setOffset:function(t,e,i){var n,o,s,r,a,l,c=C.css(t,"position"),u=C(t),d={};"static"===c&&(t.style.position="relative"),a=u.offset(),s=C.css(t,"top"),l=C.css(t,"left"),o=("absolute"===c||"fixed"===c)&&-1<(s+l).indexOf("auto")?(r=(n=u.position()).top,n.left):(r=parseFloat(s)||0,parseFloat(l)||0),C.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(d.top=e.top-a.top+r),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):u.css(d)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){C.offset.setOffset(this,e,t)});var t,i,n=this[0],o={top:0,left:0},s=n&&n.ownerDocument;return s?(t=s.documentElement,C.contains(t,n)?(typeof n.getBoundingClientRect!=V&&(o=n.getBoundingClientRect()),i=Oe(s),{top:o.top+i.pageYOffset-t.clientTop,left:o.left+i.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===C.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),C.nodeName(t[0],"html")||(n=t.offset()),n.top+=C.css(t[0],"borderTopWidth",!0),n.left+=C.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-C.css(i,"marginTop",!0),left:e.left-n.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||je;t&&!C.nodeName(t,"html")&&"static"===C.css(t,"position");)t=t.offsetParent;return t||je})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var s="pageYOffset"===o;C.fn[e]=function(t){return M(this,function(t,e,i){var n=Oe(t);if(void 0===i)return n?n[o]:t[e];n?n.scrollTo(s?f.pageXOffset:i,s?i:f.pageYOffset):t[e]=i},e,t,arguments.length,null)}}),C.each(["top","left"],function(t,i){C.cssHooks[i]=_t(v.pixelPosition,function(t,e){if(e)return e=At(t,i),Et.test(e)?C(t).position()[i]+"px":e})}),C.each({Height:"height",Width:"width"},function(s,r){C.each({padding:"inner"+s,content:r,"":"outer"+s},function(n,t){C.fn[t]=function(t,e){var i=arguments.length&&(n||"boolean"!=typeof t),o=n||(!0===t||!0===e?"margin":"border");return M(this,function(t,e,i){var n;return C.isWindow(t)?t.document.documentElement["client"+s]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+s],n["scroll"+s],t.body["offset"+s],n["offset"+s],n["client"+s])):void 0===i?C.css(t,e,o):C.style(t,e,i,o)},r,i?t:void 0,i,null)}})}),C.fn.size=function(){return this.length},C.fn.andSelf=C.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var He=f.jQuery,qe=f.$;return C.noConflict=function(t){return f.$===C&&(f.$=qe),t&&f.jQuery===C&&(f.jQuery=He),C},typeof t==V&&(f.jQuery=f.$=C),C}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(_){var t,e,i,n;function o(t,e){var i,n,o,s=t.nodeName.toLowerCase();return"area"===s?(n=(i=t.parentNode).name,!(!t.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(o=_("img[usemap='#"+n+"']")[0])&&r(o))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s&&t.href||e)&&r(t)}function r(t){return _.expr.filters.visible(t)&&!_(t).parents().addBack().filter(function(){return"hidden"===_.css(this,"visibility")}).length}_.ui=_.ui||{},_.extend(_.ui,{version:"1.11.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),_.fn.extend({scrollParent:function(t){var e=this.css("position"),i="absolute"===e,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=_(this);return(!i||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&o.length?o:_(this[0].ownerDocument||document)},uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&_(this).removeAttr("id")})}}),_.extend(_.expr[":"],{data:_.expr.createPseudo?_.expr.createPseudo(function(e){return function(t){return!!_.data(t,e)}}):function(t,e,i){return!!_.data(t,i[3])},focusable:function(t){return o(t,!isNaN(_.attr(t,"tabindex")))},tabbable:function(t){var e=_.attr(t,"tabindex"),i=isNaN(e);return(i||0<=e)&&o(t,!i)}}),_("<a>").outerWidth(1).jquery||_.each(["Width","Height"],function(t,i){var o="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),s={innerWidth:_.fn.innerWidth,innerHeight:_.fn.innerHeight,outerWidth:_.fn.outerWidth,outerHeight:_.fn.outerHeight};function r(t,e,i,n){return _.each(o,function(){e-=parseFloat(_.css(t,"padding"+this))||0,i&&(e-=parseFloat(_.css(t,"border"+this+"Width"))||0),n&&(e-=parseFloat(_.css(t,"margin"+this))||0)}),e}_.fn["inner"+i]=function(t){return void 0===t?s["inner"+i].call(this):this.each(function(){_(this).css(n,r(this,t)+"px")})},_.fn["outer"+i]=function(t,e){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){_(this).css(n,r(this,t,!0,e)+"px")})}}),_.fn.addBack||(_.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),_("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(_.fn.removeData=(e=_.fn.removeData,function(t){return arguments.length?e.call(this,_.camelCase(t)):e.call(this)})),_.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),_.fn.extend({focus:(n=_.fn.focus,function(e,i){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){_(t).focus(),i&&i.call(t)},e)}):n.apply(this,arguments)}),disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(i+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,i,n=_(this[0]);n.length&&n[0]!==document;){if(("absolute"===(e=n.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}}),_.ui.plugin={add:function(t,e,i){var n,o=_.ui[t].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([e,i[n]])},call:function(t,e,i,n){var o,s=t.plugins[e];if(s&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)t.options[s[o][0]]&&s[o][1].apply(t.element,i)}};var s,a=0,l=Array.prototype.slice;_.cleanData=(s=_.cleanData,function(t){var e,i,n;for(n=0;null!=(i=t[n]);n++)try{(e=_._data(i,"events"))&&e.remove&&_(i).triggerHandler("remove")}catch(t){}s(t)}),_.widget=function(t,i,e){var n,o,s,r,a={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,e||(e=i,i=_.Widget),_.expr[":"][n.toLowerCase()]=function(t){return!!_.data(t,n)},_[l]=_[l]||{},o=_[l][t],s=_[l][t]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},_.extend(s,o,{version:e.version,_proto:_.extend({},e),_childConstructors:[]}),(r=new i).options=_.widget.extend({},r.options),_.each(e,function(e,n){function o(){return i.prototype[e].apply(this,arguments)}function s(t){return i.prototype[e].apply(this,t)}_.isFunction(n)?a[e]=function(){var t,e=this._super,i=this._superApply;return this._super=o,this._superApply=s,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}:a[e]=n}),s.prototype=_.widget.extend(r,{widgetEventPrefix:o&&r.widgetEventPrefix||t},a,{constructor:s,namespace:l,widgetName:t,widgetFullName:n}),o?(_.each(o._childConstructors,function(t,e){var i=e.prototype;_.widget(i.namespace+"."+i.widgetName,s,e._proto)}),delete o._childConstructors):i._childConstructors.push(s),_.widget.bridge(t,s),s},_.widget.extend=function(t){for(var e,i,n=l.call(arguments,1),o=0,s=n.length;o<s;o++)for(e in n[o])i=n[o][e],n[o].hasOwnProperty(e)&&void 0!==i&&(_.isPlainObject(i)?t[e]=_.isPlainObject(t[e])?_.widget.extend({},t[e],i):_.widget.extend({},i):t[e]=i);return t},_.widget.bridge=function(s,e){var r=e.prototype.widgetFullName||s;_.fn[s]=function(i){var t="string"==typeof i,n=l.call(arguments,1),o=this;return t?this.each(function(){var t,e=_.data(this,r);return"instance"===i?(o=e,!1):e?_.isFunction(e[i])&&"_"!==i.charAt(0)?(t=e[i].apply(e,n))!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:_.error("no such method '"+i+"' for "+s+" widget instance"):_.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+i+"'")}):(n.length&&(i=_.widget.extend.apply(null,[i].concat(n))),this.each(function(){var t=_.data(this,r);t?(t.option(i||{}),t._init&&t._init()):_.data(this,r,new e(i,this))})),o}},_.Widget=function(){},_.Widget._childConstructors=[],_.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=_(e||this.defaultElement||this)[0],this.element=_(e),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=_(),this.hoverable=_(),this.focusable=_(),e!==this&&(_.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=_(e.style?e.ownerDocument:e.document||e),this.window=_(this.document[0].defaultView||this.document[0].parentWindow)),this.options=_.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:_.noop,_getCreateEventData:_.noop,_create:_.noop,_init:_.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(_.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:_.noop,widget:function(){return this.element},option:function(t,e){var i,n,o,s=t;if(0===arguments.length)return _.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(i=t.split(".")).shift(),i.length){for(n=s[t]=_.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)n[i[o]]=n[i[o]]||{},n=n[i[o]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=e}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(r,a,t){var l,c=this;"boolean"!=typeof r&&(t=a,a=r,r=!1),t?(a=l=_(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,l=this.widget()),_.each(t,function(t,e){function i(){if(r||!0!==c.options.disabled&&!_(this).hasClass("ui-state-disabled"))return("string"==typeof e?c[e]:e).apply(c,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||_.guid++);var n=t.match(/^([\w:-]*)\s*(.*)$/),o=n[1]+c.eventNamespace,s=n[2];s?l.delegate(s,o,i):a.bind(o,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e),this.bindings=_(this.bindings.not(t).get()),this.focusable=_(this.focusable.not(t).get()),this.hoverable=_(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){_(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){_(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){_(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){_(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,i){var n,o,s=this.options[t];if(i=i||{},(e=_.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(n in o)n in e||(e[n]=o[n]);return this.element.trigger(e,i),!(_.isFunction(s)&&!1===s.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},_.each({show:"fadeIn",hide:"fadeOut"},function(s,r){_.Widget.prototype["_"+s]=function(e,t,i){"string"==typeof t&&(t={effect:t});var n,o=t?!0===t||"number"==typeof t?r:t.effect||r:s;"number"==typeof(t=t||{})&&(t={duration:t}),n=!_.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),n&&_.effects&&_.effects.effect[o]?e[s](t):o!==s&&e[o]?e[o](t.duration,t.easing,i):e.queue(function(t){_(this)[s](),i&&i.call(e[0]),t()})}});_.widget;var c=!1;_(document).mouseup(function(){c=!1});_.widget("ui.mouse",{version:"1.11.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(t){if(!0===_.data(t.target,e.widgetName+".preventClickEvent"))return _.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&_(t.target).closest(this.options.cancel).length;return!(i&&!n&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===_.data(t.target,this.widgetName+".preventClickEvent")&&_.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),c=!0))}},_mouseMove:function(t){if(this._mouseMoved){if(_.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&_.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),c=!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){_.ui=_.ui||{};var o,x,C=Math.max,T=Math.abs,E=Math.round,n=/left|center|right/,s=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,e=_.fn.position;function S(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function A(t,e){return parseInt(_.css(t,e),10)||0}_.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,e,i=_("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return _("body").append(i),t=n.offsetWidth,i.css("overflow","scroll"),t===(e=n.offsetWidth)&&(e=i[0].clientWidth),i.remove(),o=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?_.position.scrollbarWidth():0,height:n?_.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=_(t||window),i=_.isWindow(e[0]),n=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:n,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:i||n?e.width():e.outerWidth(),height:i||n?e.height():e.outerHeight()}}},_.fn.position=function(d){if(!d||!d.of)return e.apply(this,arguments);d=_.extend({},d);var h,p,f,m,g,t,v=_(d.of),y=_.position.getWithinInfo(d.within),b=_.position.getScrollInfo(y),w=(d.collision||"flip").split(" "),k={};return t=function(t){var e=t[0];return 9===e.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:_.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(v),v[0].preventDefault&&(d.at="left top"),p=t.width,f=t.height,m=t.offset,g=_.extend({},m),_.each(["my","at"],function(){var t,e,i=(d[this]||"").split(" ");1===i.length&&(i=n.test(i[0])?i.concat(["center"]):s.test(i[0])?["center"].concat(i):["center","center"]),i[0]=n.test(i[0])?i[0]:"center",i[1]=s.test(i[1])?i[1]:"center",t=r.exec(i[0]),e=r.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],d[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===d.at[0]?g.left+=p:"center"===d.at[0]&&(g.left+=p/2),"bottom"===d.at[1]?g.top+=f:"center"===d.at[1]&&(g.top+=f/2),h=S(k.at,p,f),g.left+=h[0],g.top+=h[1],this.each(function(){var i,t,r=_(this),a=r.outerWidth(),l=r.outerHeight(),e=A(this,"marginLeft"),n=A(this,"marginTop"),o=a+e+A(this,"marginRight")+b.width,s=l+n+A(this,"marginBottom")+b.height,c=_.extend({},g),u=S(k.my,r.outerWidth(),r.outerHeight());"right"===d.my[0]?c.left-=a:"center"===d.my[0]&&(c.left-=a/2),"bottom"===d.my[1]?c.top-=l:"center"===d.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],x||(c.left=E(c.left),c.top=E(c.top)),i={marginLeft:e,marginTop:n},_.each(["left","top"],function(t,e){_.ui.position[w[t]]&&_.ui.position[w[t]][e](c,{targetWidth:p,targetHeight:f,elemWidth:a,elemHeight:l,collisionPosition:i,collisionWidth:o,collisionHeight:s,offset:[h[0]+u[0],h[1]+u[1]],my:d.my,at:d.at,within:y,elem:r})}),d.using&&(t=function(t){var e=m.left-c.left,i=e+p-a,n=m.top-c.top,o=n+f-l,s={target:{element:v,left:m.left,top:m.top,width:p,height:f},element:{element:r,left:c.left,top:c.top,width:a,height:l},horizontal:i<0?"left":0<e?"right":"center",vertical:o<0?"top":0<n?"bottom":"middle"};p<a&&T(e+i)<p&&(s.horizontal="center"),f<l&&T(n+o)<f&&(s.vertical="middle"),C(T(e),T(i))>C(T(n),T(o))?s.important="horizontal":s.important="vertical",d.using.call(this,t,s)}),r.offset(_.extend(c,{using:t}))})},_.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,r=t.left-e.collisionPosition.marginLeft,a=o-r,l=r+e.collisionWidth-s-o;e.collisionWidth>s?0<a&&l<=0?(i=t.left+a+e.collisionWidth-s-o,t.left+=a-i):t.left=0<l&&a<=0?o:l<a?o+s-e.collisionWidth:o:0<a?t.left+=a:0<l?t.left-=l:t.left=C(t.left-r,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,r=t.top-e.collisionPosition.marginTop,a=o-r,l=r+e.collisionHeight-s-o;e.collisionHeight>s?0<a&&l<=0?(i=t.top+a+e.collisionHeight-s-o,t.top+=a-i):t.top=0<l&&a<=0?o:l<a?o+s-e.collisionHeight:o:0<a?t.top+=a:0<l?t.top-=l:t.top=C(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,s=o.offset.left+o.scrollLeft,r=o.width,a=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-a,u=l+e.collisionWidth-r-a,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,h="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((i=t.left+d+h+p+e.collisionWidth-r-s)<0||i<T(c))&&(t.left+=d+h+p):0<u&&(0<(n=t.left-e.collisionPosition.marginLeft+d+h+p-a)||T(n)<u)&&(t.left+=d+h+p)},top:function(t,e){var i,n,o=e.within,s=o.offset.top+o.scrollTop,r=o.height,a=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-a,u=l+e.collisionHeight-r-a,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,h="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];c<0?((n=t.top+d+h+p+e.collisionHeight-r-s)<0||n<T(c))&&(t.top+=d+h+p):0<u&&(0<(i=t.top-e.collisionPosition.marginTop+d+h+p-a)||T(i)<u)&&(t.top+=d+h+p)}},flipfit:{left:function(){_.ui.position.flip.left.apply(this,arguments),_.ui.position.fit.left.apply(this,arguments)},top:function(){_.ui.position.flip.top.apply(this,arguments),_.ui.position.fit.top.apply(this,arguments)}}},function(){var t,e,i,n,o,s=document.getElementsByTagName("body")[0],r=document.createElement("div");for(o in t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&_.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[o]=i[o];t.appendChild(r),(e=s||document.documentElement).insertBefore(t,e.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=_(r).offset().left,x=10<n&&n<11,t.innerHTML="",e.removeChild(t)}()}();_.ui.position,_.widget("ui.sortable",_.ui.mouse,{version:"1.11.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return e<=t&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),_.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,n=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),_(t.target).parents().each(function(){if(_.data(this,o.widgetName+"-item")===o)return i=_(this),!1}),_.data(t.target,o.widgetName+"-item")===o&&(i=_(t.target)),!!i&&(!(this.options.handle&&!e&&(_(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,i){var n,o,s=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},_.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=_("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;0<=n;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return _.ui.ddmanager&&(_.ui.ddmanager.current=this),_.ui.ddmanager&&!s.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,i,n,o,s=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==r&&_.ui.ddmanager&&!s.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(n=(i=this.items[e]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===n||_.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&_.contains(this.element[0],n))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),_.ui.ddmanager&&_.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(_.ui.ddmanager&&!this.options.dropBehaviour&&_.ui.ddmanager.drop(this,t),this.options.revert){var i=this,n=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,_(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),_.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?_(this.domPosition.prev).after(this.currentItem):_(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},_(t).each(function(){var t=(_(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(_(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=t.left,r=s+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||a<n+c&&n+c<l,h="y"===this.options.axis||s<e+u&&e+u<r,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:s<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!n&&(this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e,i,n,o,s=[],r=[],a=this._connectWith();if(a&&t)for(e=a.length-1;0<=e;e--)for(i=(n=_(a[e],this.document[0])).length-1;0<=i;i--)(o=_.data(n[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&r.push([_.isFunction(o.options.items)?o.options.items.call(o.element):_(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){s.push(this)}for(r.push([_.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):_(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),e=r.length-1;0<=e;e--)r[e][0].each(l);return _(s)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=_.grep(this.items,function(t){for(var e=0;e<i.length;e++)if(i[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,n,o,s,r,a,l,c=this.items,u=[[_.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):_(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(e=d.length-1;0<=e;e--)for(i=(n=_(d[e],this.document[0])).length-1;0<=i;i--)(o=_.data(n[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([_.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):_(o.options.items,o.element),o]),this.containers.push(o));for(e=u.length-1;0<=e;e--)for(s=u[e][1],i=0,l=(r=u[e][0]).length;i<l;i++)(a=_(r[i])).data(this.widgetName+"-item",s),c.push({item:a,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,i,n,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(i=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?_(this.options.toleranceElement,i.item):i.item,t||(i.width=n.outerWidth(),i.height=n.outerHeight()),o=n.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)o=this.containers[e].element.offset(),this.containers[e].containerCache.left=o.left,this.containers[e].containerCache.top=o.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(i){var n,o=(i=i||this).options;o.placeholder&&o.placeholder.constructor!==String||(n=o.placeholder,o.placeholder={element:function(){var t=i.currentItem[0].nodeName.toLowerCase(),e=_("<"+t+">",i.document[0]).addClass(n||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===t?i.currentItem.children().each(function(){_("<td>&#160;</td>",i.document[0]).attr("colspan",_(this).attr("colspan")||1).appendTo(e)}):"img"===t&&e.attr("src",i.currentItem.attr("src")),n||e.css("visibility","hidden"),e},update:function(t,e){n&&!o.forcePlaceholderSize||(e.height()||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=_(o.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),o.placeholder.update(i,i.placeholder)},_contactContainers:function(t){var e,i,n,o,s,r,a,l,c,u,d=null,h=null;for(e=this.containers.length-1;0<=e;e--)if(!_.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(d&&_.contains(this.containers[e].element[0],d.element[0]))continue;d=this.containers[e],h=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(n=1e4,o=null,s=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",r=c?"width":"height",u=c?"clientX":"clientY",i=this.items.length-1;0<=i;i--)_.contains(this.containers[h].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(a=this.items[i].item.offset()[s],l=!1,t[u]-a>this.items[i][r]/2&&(l=!0),Math.abs(t[u]-a)<n&&(n=Math.abs(t[u]-a),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var e=this.options,i=_.isFunction(e.helper)?_(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||_("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!e.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!e.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),_.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&_.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=_(n.containment)[0],e=_(n.containment).offset(),i="hidden"!==_(t).css("overflow"),this.containment=[e.left+(parseInt(_(t).css("borderLeftWidth"),10)||0)+(parseInt(_(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(_(t).css("borderTopWidth"),10)||0)+(parseInt(_(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(_(t).css("borderLeftWidth"),10)||0)-(parseInt(_(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(_(t).css("borderTopWidth"),10)||0)-(parseInt(_(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*i}},_generatePosition:function(t){var e,i,n=this.options,o=t.pageX,s=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),n.grid&&(e=this.originalPageY+Math.round((s-this.originalPageY)/n.grid[1])*n.grid[1],s=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-n.grid[1]:e+n.grid[1]:e,i=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function o(e,i,n){return function(t){n._trigger(e,t,i._uiHash(i))}}for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||n.push(o("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(o("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===_.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||_([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}),function(){"use strict";function a(o,t){var e;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=o,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!a.notNeeded(o)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],n=0,s=i.length;n<s;n++)this[i[n]]=r(this[i[n]],this);l&&(o.addEventListener("mouseover",this.onMouse,!0),o.addEventListener("mousedown",this.onMouse,!0),o.addEventListener("mouseup",this.onMouse,!0)),o.addEventListener("click",this.onClick,!0),o.addEventListener("touchstart",this.onTouchStart,!1),o.addEventListener("touchmove",this.onTouchMove,!1),o.addEventListener("touchend",this.onTouchEnd,!1),o.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(o.removeEventListener=function(t,e,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(o,t,e.hijacked||e,i):n.call(o,t,e,i)},o.addEventListener=function(t,e,i){var n=Node.prototype.addEventListener;"click"===t?n.call(o,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),i):n.call(o,t,e,i)}),"function"==typeof o.onclick&&(e=o.onclick,o.addEventListener("click",function(t){e(t)},!1),o.onclick=null)}function r(t,e){return function(){return t.apply(e,arguments)}}}var t=0<=navigator.userAgent.indexOf("Windows Phone"),l=0<navigator.userAgent.indexOf("Android")&&!t,c=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,u=c&&/OS 4_\d(_\d)?/.test(navigator.userAgent),d=c&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),o=0<navigator.userAgent.indexOf("BB10");a.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(c&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},a.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!l;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},a.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},a.prototype.determineEventType=function(t){return l&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(t){var e;c&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},a.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},a.prototype.onTouchStart=function(t){var e,i,n;if(1<t.targetTouches.length)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],c){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},a.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},a.prototype.onTouchMove=function(t){return this.trackingClick&&(this.targetElement===this.getTargetElementFromEventTarget(t.target)&&!this.touchHasMoved(t)||(this.trackingClick=!1,this.targetElement=null)),!0},a.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(t){var e,i,n,o,s,r=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,d&&(s=t.changedTouches[0],(r=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||r).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=r.tagName.toLowerCase())){if(e=this.findControl(r)){if(this.focus(r),l)return!1;r=e}}else if(this.needsFocus(r))return 100<t.timeStamp-i||c&&window.top!==window&&"input"===n?this.targetElement=null:(this.focus(r),this.sendClick(r,t),c&&"select"===n||(this.targetElement=null,t.preventDefault())),!1;return!(!c||u||!(o=r.fastClickScrollParent)||o.fastClickLastScrollTop===o.scrollTop)||(this.needsClick(r)||(t.preventDefault(),this.sendClick(r,t)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},a.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},a.prototype.destroy=function(){var t=this.layer;l&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(t){var e,i,n;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!l)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(31<i&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&10<=(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=n[2]&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"none"===t.style.touchAction},a.attach=function(t,e){return new a(t,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?(module.exports=a.attach,module.exports.FastClick=a):window.FastClick=a}(),function(s,r,a){function e(t,i){i=i||t+a;var n=s(),e=t+"."+i+"-special-event";function o(e){s(n).each(function(){var t=s(this);this===e.target||t.has(e.target).length||t.triggerHandler(i,[e.target])})}s.event.special[i]={setup:function(){1===(n=n.add(this)).length&&s(r).bind(e,o)},teardown:function(){0===(n=n.not(this)).length&&s(r).unbind(e)},add:function(t){var i=t.handler;t.handler=function(t,e){t.target=e,i.apply(this,arguments)}}}}s.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(t){e(t)}),e("focusin","focus"+a),e("focusout","blur"+a),s.addOutsideEvent=e}(jQuery,document,"outside"),function(d,h,y,p){y.swipebox=function(o,t){var r,s,e={useCSS:!0,useSVG:!0,initialIndexOnArray:0,removeBarsOnMobile:!0,hideCloseButtonOnMobile:!1,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"cccccc",beforeOpen:null,afterOpen:null,afterClose:null,afterMedia:null,nextSlide:null,prevSlide:null,loopAtEnd:!1,autoplayVideos:!1,queryStringData:{},toggleClassOnLoad:""},a=this,m=[],l=o.selector,i=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),n=null!==i||h.createTouch!==p||"ontouchstart"in d||"onmsgesturechange"in d||navigator.msMaxTouchPoints,c=!!h.createElementNS&&!!h.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,g=d.innerWidth?d.innerWidth:y(d).width(),u=d.innerHeight?d.innerHeight:y(d).height(),v=0;a.settings={},y.swipebox.close=function(){r.closeSlide()},y.swipebox.extend=function(){return r},a.init=function(){a.settings=y.extend({},e,t),y.isArray(o)?(m=o,r.target=y(d),r.init(a.settings.initialIndexOnArray)):y(h).on("click",l,function(t){if("slide current"===t.target.parentNode.className)return!1;var e,i,n;y.isArray(o)||(r.destroy(),s=y(l),r.actions()),m=[],n||(i="data-rel",n=y(this).attr(i)),n||(i="rel",n=y(this).attr(i)),(s=n&&""!==n&&"nofollow"!==n?y(l).filter("["+i+'="'+n+'"]'):y(l)).each(function(){var t=null,e=null;y(this).attr("title")&&(t=y(this).attr("title")),y(this).attr("href")&&(e=y(this).attr("href")),m.push({href:e,title:t})}),e=s.index(y(this)),t.preventDefault(),t.stopPropagation(),r.target=y(t.target),r.init(e)})},r={init:function(t){a.settings.beforeOpen&&a.settings.beforeOpen(),this.target.trigger("swipebox-start"),y.swipebox.isOpen=!0,this.build(),this.openSlide(t),this.openMedia(t),this.preloadMedia(t+1),this.preloadMedia(t-1),a.settings.afterOpen&&a.settings.afterOpen(t)},build:function(){var t,e=this;y("body").append('<div id="swipebox-overlay">\t\t\t\t\t<div id="swipebox-container">\t\t\t\t\t\t<div id="swipebox-slider"></div>\t\t\t\t\t\t<div id="swipebox-top-bar">\t\t\t\t\t\t\t<div id="swipebox-title"></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div id="swipebox-bottom-bar">\t\t\t\t\t\t\t<div id="swipebox-arrows">\t\t\t\t\t\t\t\t<a id="swipebox-prev"></a>\t\t\t\t\t\t\t\t<a id="swipebox-next"></a>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<a id="swipebox-close"></a>\t\t\t\t\t</div>\t\t\t</div>'),c&&!0===a.settings.useSVG&&(t=(t=y("#swipebox-close").css("background-image")).replace("png","svg"),y("#swipebox-prev, #swipebox-next, #swipebox-close").css({"background-image":t})),i&&a.settings.removeBarsOnMobile&&y("#swipebox-bottom-bar, #swipebox-top-bar").remove(),y.each(m,function(){y("#swipebox-slider").append('<div class="slide"></div>')}),e.setDim(),e.actions(),n&&e.gesture(),e.keyboard(),e.animBars(),e.resize()},setDim:function(){var t,e,i;"onorientationchange"in d?d.addEventListener("orientationchange",function(){0===d.orientation?(t=g,e=u):90!==d.orientation&&-90!==d.orientation||(t=u,e=g)},!1):(t=d.innerWidth?d.innerWidth:y(d).width(),e=d.innerHeight?d.innerHeight:y(d).height()),i={width:t,height:e},y("#swipebox-overlay").css(i)},resize:function(){var t=this;y(d).resize(function(){t.setDim()}).resize()},supportTransition:function(){var t,e="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(t=0;t<e.length;t++)if(h.createElement("div").style[e[t]]!==p)return e[t];return!1},doCssTrans:function(){if(a.settings.useCSS&&this.supportTransition())return!0},gesture:function(){var i,n,o,s,r,a,l=this,c=!1,u=!1,d={},h={},p=y("#swipebox-top-bar, #swipebox-bottom-bar"),f=y("#swipebox-slider");p.addClass("visible-bars"),l.setTimeout(),y("body").bind("touchstart",function(t){return y(this).addClass("touching"),i=y("#swipebox-slider .slide").index(y("#swipebox-slider .slide.current")),h=t.originalEvent.targetTouches[0],d.pageX=t.originalEvent.targetTouches[0].pageX,d.pageY=t.originalEvent.targetTouches[0].pageY,y("#swipebox-slider").css({"-webkit-transform":"translate3d("+v+"%, 0, 0)",transform:"translate3d("+v+"%, 0, 0)"}),y(".touching").bind("touchmove",function(t){if(t.preventDefault(),t.stopPropagation(),h=t.originalEvent.targetTouches[0],!u&&(r=o,o=h.pageY-d.pageY,50<=Math.abs(o)||c)){var e=.75-Math.abs(o)/f.height();f.css({top:o+"px"}),f.css({opacity:e}),c=!0}s=n,n=h.pageX-d.pageX,a=100*n/g,!u&&!c&&10<=Math.abs(n)&&(y("#swipebox-slider").css({"-webkit-transition":"",transition:""}),u=!0),u&&(0<n?0===i?y("#swipebox-overlay").addClass("leftSpringTouch"):(y("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),y("#swipebox-slider").css({"-webkit-transform":"translate3d("+(v+a)+"%, 0, 0)",transform:"translate3d("+(v+a)+"%, 0, 0)"})):n<0&&(m.length===i+1?y("#swipebox-overlay").addClass("rightSpringTouch"):(y("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),y("#swipebox-slider").css({"-webkit-transform":"translate3d("+(v+a)+"%, 0, 0)",transform:"translate3d("+(v+a)+"%, 0, 0)"}))))}),!1}).bind("touchend",function(t){if(t.preventDefault(),t.stopPropagation(),y("#swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease",transition:"transform 0.4s ease"}),o=h.pageY-d.pageY,n=h.pageX-d.pageX,a=100*n/g,c)if(c=!1,100<=Math.abs(o)&&Math.abs(o)>Math.abs(r)){var e=0<o?f.height():-f.height();f.animate({top:e+"px",opacity:0},300,function(){l.closeSlide()})}else f.animate({top:0,opacity:1},300);else u?(u=!1,10<=n&&s<=n?l.getPrev():n<=-10&&n<=s&&l.getNext()):p.hasClass("visible-bars")?(l.clearTimeout(),l.hideBars()):(l.showBars(),l.setTimeout());y("#swipebox-slider").css({"-webkit-transform":"translate3d("+v+"%, 0, 0)",transform:"translate3d("+v+"%, 0, 0)"}),y("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),y(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(0<a.settings.hideBarsDelay){var t=this;t.clearTimeout(),t.timeout=d.setTimeout(function(){t.hideBars()},a.settings.hideBarsDelay)}},clearTimeout:function(){d.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var t=y("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?t.addClass("visible-bars"):(y("#swipebox-top-bar").animate({top:0},500),y("#swipebox-bottom-bar").animate({bottom:0},500),setTimeout(function(){t.addClass("visible-bars")},1e3))},hideBars:function(){var t=y("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?t.removeClass("visible-bars"):(y("#swipebox-top-bar").animate({top:"-50px"},500),y("#swipebox-bottom-bar").animate({bottom:"-50px"},500),setTimeout(function(){t.removeClass("visible-bars")},1e3))},animBars:function(){var t=this,e=y("#swipebox-top-bar, #swipebox-bottom-bar");e.addClass("visible-bars"),t.setTimeout(),y("#swipebox-slider").click(function(){e.hasClass("visible-bars")||(t.showBars(),t.setTimeout())}),y("#swipebox-bottom-bar").hover(function(){t.showBars(),e.addClass("visible-bars"),t.clearTimeout()},function(){0<a.settings.hideBarsDelay&&(e.removeClass("visible-bars"),t.setTimeout())})},keyboard:function(){var e=this;y(d).bind("keyup",function(t){t.preventDefault(),t.stopPropagation(),37===t.keyCode?e.getPrev():39===t.keyCode?e.getNext():27===t.keyCode&&e.closeSlide()})},actions:function(){var e=this,t="touchend click";m.length<2?(y("#swipebox-bottom-bar").hide(),p===m[1]&&y("#swipebox-top-bar").hide()):(y("#swipebox-prev").bind(t,function(t){t.preventDefault(),t.stopPropagation(),e.getPrev(),e.setTimeout()}),y("#swipebox-next").bind(t,function(t){t.preventDefault(),t.stopPropagation(),e.getNext(),e.setTimeout()})),y("#swipebox-close").bind(t,function(){e.closeSlide()})},setSlide:function(t,e){e=e||!1;var i=y("#swipebox-slider");v=100*-t,this.doCssTrans()?i.css({"-webkit-transform":"translate3d("+100*-t+"%, 0, 0)",transform:"translate3d("+100*-t+"%, 0, 0)"}):i.animate({left:100*-t+"%"}),y("#swipebox-slider .slide").removeClass("current"),y("#swipebox-slider .slide").eq(t).addClass("current"),this.setTitle(t),e&&i.fadeIn(),y("#swipebox-prev, #swipebox-next").removeClass("disabled"),0===t?y("#swipebox-prev").addClass("disabled"):t===m.length-1&&!0!==a.settings.loopAtEnd&&y("#swipebox-next").addClass("disabled")},openSlide:function(t){y("html").addClass("swipebox-html"),n?(y("html").addClass("swipebox-touch"),a.settings.hideCloseButtonOnMobile&&y("html").addClass("swipebox-no-close-button")):y("html").addClass("swipebox-no-touch"),y(d).trigger("resize"),this.setSlide(t,!0)},preloadMedia:function(t){var e=this,i=null;m[t]!==p&&(i=m[t].href),e.isVideo(i)?e.openMedia(t):setTimeout(function(){e.openMedia(t)},1e3)},openMedia:function(t){var e,i;if(m[t]!==p&&(e=m[t].href),t<0||t>=m.length)return!1;i=y("#swipebox-slider .slide").eq(t),this.isVideo(e)?(i.html(this.getVideo(e)),a.settings.afterMedia&&a.settings.afterMedia(t)):(i.addClass("slide-loading"),this.loadMedia(e,function(){i.removeClass("slide-loading"),i.html(this),a.settings.afterMedia&&a.settings.afterMedia(t)}))},setTitle:function(t){var e=null;y("#swipebox-title").empty(),m[t]!==p&&(e=m[t].title),e?(y("#swipebox-top-bar").show(),y("#swipebox-title").append(e)):y("#swipebox-top-bar").hide()},isVideo:function(t){if(t){if(t.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||t.match(/vimeo\.com\/([0-9]*)/)||t.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return!0;if(0<=t.toLowerCase().indexOf("swipeboxvideo=1"))return!0}},parseUri:function(t,e){var i=h.createElement("a"),n={};return i.href=decodeURIComponent(t),i.search&&(n=JSON.parse('{"'+i.search.toLowerCase().replace("?","").replace(/&/g,'","').replace(/=/g,'":"')+'"}')),y.isPlainObject(e)&&(n=y.extend(n,e,a.settings.queryStringData)),y.map(n,function(t,e){if(t&&""<t)return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&")},getVideo:function(t){var e="",i=t.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/),n=t.match(/(?:www\.)?youtu\.be\/([a-zA-Z0-9\-_]+)/),o=t.match(/(?:www\.)?vimeo\.com\/([0-9]*)/),s="";return e=i||n?(n&&(i=n),s=r.parseUri(t,{autoplay:a.settings.autoplayVideos?"1":"0",v:""}),'<iframe width="560" height="315" src="//'+i[1]+"/embed/"+i[2]+"?"+s+'" frameborder="0" allowfullscreen></iframe>'):o?(s=r.parseUri(t,{autoplay:a.settings.autoplayVideos?"1":"0",byline:"0",portrait:"0",color:a.settings.vimeoColor}),'<iframe width="560" height="315"  src="//player.vimeo.com/video/'+o[1]+"?"+s+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):'<iframe width="560" height="315" src="'+t+'" frameborder="0" allowfullscreen></iframe>','<div class="swipebox-video-container" style="max-width:'+a.settings.videoMaxWidth+'px"><div class="swipebox-video">'+e+"</div></div>"},loadMedia:function(t,e){if(0===t.trim().indexOf("#"))e.call(y("<div>",{class:"swipebox-inline-container"}).append(y(t).clone().toggleClass(a.settings.toggleClassOnLoad)));else if(!this.isVideo(t)){var i=y("<img>").on("load",function(){e.call(i)});i.attr("src",t)}},getNext:function(){var t,e=this,i=y("#swipebox-slider .slide").index(y("#swipebox-slider .slide.current"));i+1<m.length?(t=y("#swipebox-slider .slide").eq(i).contents().find("iframe").attr("src"),y("#swipebox-slider .slide").eq(i).contents().find("iframe").attr("src",t),i++,e.setSlide(i),e.preloadMedia(i+1),a.settings.nextSlide&&a.settings.nextSlide(i)):!0===a.settings.loopAtEnd?(t=y("#swipebox-slider .slide").eq(i).contents().find("iframe").attr("src"),y("#swipebox-slider .slide").eq(i).contents().find("iframe").attr("src",t),i=0,e.preloadMedia(i),e.setSlide(i),e.preloadMedia(i+1),a.settings.nextSlide&&a.settings.nextSlide(i)):(y("#swipebox-overlay").addClass("rightSpring"),setTimeout(function(){y("#swipebox-overlay").removeClass("rightSpring")},500))},getPrev:function(){var t,e=y("#swipebox-slider .slide").index(y("#swipebox-slider .slide.current"));0<e?(t=y("#swipebox-slider .slide").eq(e).contents().find("iframe").attr("src"),y("#swipebox-slider .slide").eq(e).contents().find("iframe").attr("src",t),e--,this.setSlide(e),this.preloadMedia(e-1),a.settings.prevSlide&&a.settings.prevSlide(e)):(y("#swipebox-overlay").addClass("leftSpring"),setTimeout(function(){y("#swipebox-overlay").removeClass("leftSpring")},500))},nextSlide:function(t){},prevSlide:function(t){},closeSlide:function(){y("html").removeClass("swipebox-html"),y("html").removeClass("swipebox-touch"),y(d).trigger("resize"),this.destroy()},destroy:function(){y(d).unbind("keyup"),y("body").unbind("touchstart"),y("body").unbind("touchmove"),y("body").unbind("touchend"),y("#swipebox-slider").unbind(),y("#swipebox-overlay").remove(),y.isArray(o)||o.removeData("_swipebox"),this.target&&this.target.trigger("swipebox-destroy"),y.swipebox.isOpen=!1,a.settings.afterClose&&a.settings.afterClose()}},a.init()},y.fn.swipebox=function(t){if(!y.data(this,"_swipebox")){var e=new y.swipebox(this,t);this.data("_swipebox",e)}return this.data("_swipebox")}}(window,document,jQuery),function(){function o(){if(!r||!n){var t=function(){for(var t=document.getElementsByTagName("link"),e=0,i=t.length;e<i;e++)if((t[e].getAttribute("rel")||"").match(/\bicon\b/))return t[e];return!1}();r=n=t?t.getAttribute("href"):"/favicon.ico"}return n}function s(){return l||((l=document.createElement("canvas")).width=p,l.height=p),l}function t(t){!function(){for(var t=document.getElementsByTagName("link"),e=document.getElementsByTagName("head")[0],i=0,n=t.length;i<n;i++){void 0!==t[i]&&(t[i].getAttribute("rel")||"").match(/\bicon\b/)&&e.removeChild(t[i])}}();var e=document.createElement("link");e.type="image/x-icon",e.rel="icon",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}var e,i={},n=null,r=null,a=null,l=null,d={},h=window.devicePixelRatio||1,p=16*h,c={width:7,height:9,font:10*h+"px arial",colour:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},u=(e=navigator.userAgent.toLowerCase(),function(t){return-1!==e.indexOf(t)}),f=u("msie"),m=(u("chrome"),u("chrome")||u("safari")),g=u("safari")&&!u("chrome"),v=u("mozilla")&&!u("chrome")&&!u("safari"),y=function(t){if(d.fallback){var e=document.title;"("===e[0]&&(e=e.slice(e.indexOf(" "))),document.title=0<(t+"").length?"("+t+") "+e:e}},b=function(t,e,i){"number"==typeof e&&99<e&&d.abbreviate&&(e=k(e));var n=(e+"").length-1,o=d.width*h+6*h*n,s=d.height*h,r=p-s,a=p-o-h,l=16*h,c=16*h,u=2*h;t.font=(m?"bold ":"")+d.font,t.fillStyle=d.background,t.strokeStyle=d.background,t.lineWidth=h,t.beginPath(),t.moveTo(a+u,r),t.quadraticCurveTo(a,r,a,r+u),t.lineTo(a,l-u),t.quadraticCurveTo(a,l,a+u,l),t.lineTo(c-u,l),t.quadraticCurveTo(c,l,c,l-u),t.lineTo(c,r+u),t.quadraticCurveTo(c,r,c-u,r),t.closePath(),t.fill(),t.beginPath(),t.strokeStyle="rgba(0,0,0,0.3)",t.moveTo(a+u/2,l),t.lineTo(c-u/2,l),t.stroke(),t.fillStyle=d.colour,t.textAlign="right",t.textBaseline="top",t.fillText(e,2===h?29:15,v?7*h:6*h)},w=function(){s().getContext&&t(s().toDataURL())},k=function(t){for(var e=[["G",1e9],["M",1e6],["k",1e3]],i=0;i<e.length;++i)if(t>=e[i][1]){t=x(t/e[i][1])+e[i][0];break}return t},x=function(t,e){return new Number(t).toFixed(e)};i.setOptions=function(t){for(var e in d={},c)d[e]=t.hasOwnProperty(e)?t[e]:c[e];return this},i.setImage=function(t){return n=t,w(),this},i.setBubble=function(t,e){return function(t,e){if(!s().getContext||f||g||"force"===d.fallback)return y(t);var i=s().getContext("2d"),n=(e=e||"#000000",o());(a=document.createElement("img")).onload=function(){i.clearRect(0,0,p,p),i.drawImage(a,0,0,a.width,a.height,0,0,p,p),0<(t+"").length&&b(i,t,e),w()},!n.match(/^data/)&&d.crossOrigin&&(a.crossOrigin="anonymous"),a.src=n}(t=t||"",e),this},i.reset=function(){t(r)},i.setOptions(c),window.Tinycon=i,"function"==typeof define&&define.amd&&define(i)}(),"object"==typeof navigator&&function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Plyr",e):t.Plyr=e()}(this,function(){"use strict";function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function t(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){o=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw s}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function e(t){return null!=t?t.constructor:null}function i(t,e){return Boolean(t&&e&&t instanceof e)}function o(t){return null==t}function r(t){return e(t)===Object}function a(t){return e(t)===String}function u(t){return Array.isArray(t)}function d(t){return i(t,NodeList)}function h(t){return o(t)||(a(t)||u(t)||d(t))&&!t.length||r(t)&&!Object.keys(t).length}var f={nullOrUndefined:o,object:r,number:function(t){return e(t)===Number&&!Number.isNaN(t)},string:a,boolean:function(t){return e(t)===Boolean},function:function(t){return e(t)===Function},array:u,weakMap:function(t){return i(t,WeakMap)},nodeList:d,element:function(t){return i(t,Element)},textNode:function(t){return e(t)===Text},event:function(t){return i(t,Event)},keyboardEvent:function(t){return i(t,KeyboardEvent)},cue:function(t){return i(t,window.TextTrackCue)||i(t,window.VTTCue)},track:function(t){return i(t,TextTrack)||!o(t)&&a(t.kind)},url:function(t){if(i(t,window.URL))return!0;if(!a(t))return!1;var e=t;t.startsWith("http://")&&t.startsWith("https://")||(e="http://".concat(t));try{return!h(new URL(e).hostname)}catch(t){return!1}},empty:h},m=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,null}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function g(e,t,i){var n=this,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],s=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],r=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!f.empty(t)&&f.function(i)){var a=t.split(" "),l=r;m&&(l={passive:s,capture:r}),a.forEach(function(t){n&&n.eventListeners&&o&&n.eventListeners.push({element:e,type:t,callback:i,options:l}),e[o?"addEventListener":"removeEventListener"](t,i,l)})}}function v(t){g.call(this,t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0,!0,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4])}function y(t){g.call(this,t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0,!1,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4])}function b(o){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length?arguments[2]:void 0,a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],l=4<arguments.length&&void 0!==arguments[4]&&arguments[4];g.call(this,o,s,function t(){y(o,s,t,a,l);for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];r.apply(this,i)},!0,a,l)}function w(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(f.element(t)&&!f.empty(e)){var o=new CustomEvent(e,{bubbles:i,detail:Object.assign({},n,{plyr:this})});t.dispatchEvent(o)}}function k(t,s){var e=t.length?t:[t];Array.from(e).reverse().forEach(function(t,e){var i=0<e?s.cloneNode(!0):s,n=t.parentNode,o=t.nextSibling;i.appendChild(t),o?n.insertBefore(i,o):n.appendChild(i)})}function x(o,t){f.element(o)&&!f.empty(t)&&Object.entries(t).filter(function(t){var e=p(t,2)[1];return!f.nullOrUndefined(e)}).forEach(function(t){var e=p(t,2),i=e[0],n=e[1];return o.setAttribute(i,n)})}function C(t,e,i){var n=document.createElement(t);return f.object(e)&&x(n,e),f.string(i)&&(n.innerText=i),n}function T(t,e,i,n){f.element(e)&&e.appendChild(C(t,i,n))}function E(t){f.nodeList(t)||f.array(t)?Array.from(t).forEach(E):f.element(t)&&f.element(t.parentNode)&&t.parentNode.removeChild(t)}function S(t){if(f.element(t))for(var e=t.childNodes.length;0<e;)t.removeChild(t.lastChild),e-=1}function A(t,e){return f.element(e)&&f.element(e.parentNode)&&f.element(t)?(e.parentNode.replaceChild(t,e),t):null}function _(t,e){if(!f.string(t)||f.empty(t))return{};var r={},a=e;return t.split(",").forEach(function(t){var e=t.trim(),i=e.replace(".",""),n=e.replace(/[[\]]/g,"").split("="),o=n[0],s=1<n.length?n[1].replace(/["']/g,""):"";switch(e.charAt(0)){case".":f.object(a)&&f.string(a.class)&&(a.class+=" ".concat(i)),r.class=i;break;case"#":r.id=e.replace("#","");break;case"[":r[o]=s}}),r}function P(t,e){if(f.element(t)){var i=e;f.boolean(i)||(i=!t.hidden),i?t.setAttribute("hidden",""):t.removeAttribute("hidden")}}function N(t,e,i){if(f.nodeList(t))return Array.from(t).map(function(t){return N(t,e,i)});if(f.element(t)){var n="toggle";return void 0!==i&&(n=i?"add":"remove"),t.classList[n](e),t.classList.contains(e)}return!1}function L(t,e){return f.element(t)&&t.classList.contains(e)}function D(t,e){var i={Element:Element};return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}function M(t){return this.elements.container.querySelectorAll(t)}function I(t){return this.elements.container.querySelector(t)}function F(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];f.element(t)&&(t.focus(),e&&N(t,this.config.classNames.tabFocus))}var j,O,H,q=(j=document.createElement("span"),O={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},H=Object.keys(O).find(function(t){return void 0!==j.style[t]}),!!f.string(H)&&O[H]);function $(t){setTimeout(function(){try{P(t,!0),t.offsetHeight,P(t,!1)}catch(t){}},0)}var R,W={isIE:!!document.documentMode,isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},B={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},z={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(t,e,i){var n=W.isIPhone&&i&&z.playsinline,o=z[t]||"html5"!==e;return{api:o,ui:o&&z.rangeInput&&("video"!==t||!W.isIPhone||n)}},pip:!W.isIPhone&&f.function(C("video").webkitSetPresentationMode),airplay:f.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(t){var e,i=p(t.split("/"),1)[0];if(!this.isHTML5||i!==this.type)return!1;t&&t.includes("codecs=")?e=t:"audio/mpeg"===t?e="audio/mpeg;":t in B&&(e="".concat(t,'; codecs="').concat(B[t],'"'));try{return Boolean(e&&this.media.canPlayType(e).replace(/no/,""))}catch(t){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(R=document.createElement("input"),(R.type="range")===R.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==q,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},U={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(t){return z.mime.call(e,t.getAttribute("type"))}):[]},getQualityOptions:function(){return U.getSources.call(this).map(function(t){return Number(t.getAttribute("size"))}).filter(Boolean)},extend:function(){if(this.isHTML5){var a=this;Object.defineProperty(a.media,"quality",{get:function(){var t=U.getSources.call(a).find(function(t){return t.getAttribute("src")===a.source});return t&&Number(t.getAttribute("size"))},set:function(e){var t=U.getSources.call(a).find(function(t){return Number(t.getAttribute("size"))===e});if(t){var i=a.media,n=i.currentTime,o=i.paused,s=i.preload,r=i.readyState;a.media.src=t.getAttribute("src"),"none"===s&&!r||(a.once("loadedmetadata",function(){a.currentTime=n,o||a.play()}),a.media.load()),w.call(a,a.media,"qualitychange",!1,{quality:e}),a.storage.set({quality:e})}}})}},cancelRequests:function(){this.isHTML5&&(E(U.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function V(i){return f.array(i)?i.filter(function(t,e){return i.indexOf(t)===e}):i}function Q(t,e){return e.split(".").reduce(function(t,e){return t&&t[e]},t)}function X(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(!i.length)return e;var o=i.shift();return f.object(o)?(Object.keys(o).forEach(function(t){f.object(o[t])?(Object.keys(e).includes(t)||Object.assign(e,s({},t,{})),X(e[t],o[t])):Object.assign(e,s({},t,o[t]))}),X.apply(void 0,[e].concat(i))):e}function Y(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return f.empty(t)?t:t.toString().replace(/{(\d+)}/g,function(t,e){return i[e].toString()})}function G(t,e,i){var n=1<arguments.length&&void 0!==e?e:"",o=2<arguments.length&&void 0!==i?i:"";return(0<arguments.length&&void 0!==t?t:"").replace(new RegExp(n.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),o.toString())}function K(t){return(0<arguments.length&&void 0!==t?t:"").toString().replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}function J(t){var e=(0<arguments.length&&void 0!==t?t:"").toString();return(e=function(t){var e=(0<arguments.length&&void 0!==t?t:"").toString();return G(e=K(e=G(e=G(e,"-"," "),"_"," "))," ","")}(e)).charAt(0).toLowerCase()+e.slice(1)}function Z(t){var e=document.createElement("div");return e.appendChild(t),e.innerHTML}var tt={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},et=function(t,e){var i=0<arguments.length&&void 0!==t?t:"",n=1<arguments.length&&void 0!==e?e:{};if(f.empty(i)||f.empty(n))return"";var o=Q(n.i18n,i);if(f.empty(o))return Object.keys(tt).includes(i)?tt[i]:"";var s={"{seektime}":n.seekTime,"{title}":n.title};return Object.entries(s).forEach(function(t){var e=p(t,2),i=e[0],n=e[1];o=G(o,i,n)}),o},it=function(){function n(t){c(this,n),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}return t(n,[{key:"get",value:function(t){if(!n.supported||!this.enabled)return null;var e=window.localStorage.getItem(this.key);if(f.empty(e))return null;var i=JSON.parse(e);return f.string(t)&&t.length?i[t]:i}},{key:"set",value:function(t){if(n.supported&&this.enabled&&f.object(t)){var e=this.get();f.empty(e)&&(e={}),X(e,t),window.localStorage.setItem(this.key,JSON.stringify(e))}}}],[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}}]),n}();function nt(t,e){var o=1<arguments.length&&void 0!==e?e:"text";return new Promise(function(e,i){try{var n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",function(){if("text"===o)try{e(JSON.parse(n.responseText))}catch(t){e(n.responseText)}else e(n.response)}),n.addEventListener("error",function(){throw new Error(n.status)}),n.open("GET",t,!0),n.responseType=o,n.send()}catch(t){i(t)}})}function ot(t,e){if(f.string(t)){var i=f.string(e),n=function(){return null!==document.getElementById(e)},o=function(t,e){t.innerHTML=e,i&&n()||document.body.insertAdjacentElement("afterbegin",t)};if(!i||!n()){var s=it.supported,r=document.createElement("div");if(r.setAttribute("hidden",""),i&&r.setAttribute("id",e),s){var a=window.localStorage.getItem("".concat("cache","-").concat(e));if(null!==a){var l=JSON.parse(a);o(r,l.content)}}nt(t).then(function(t){f.empty(t)||(s&&window.localStorage.setItem("".concat("cache","-").concat(e),JSON.stringify({content:t})),o(r,t))}).catch(function(){})}}}var st=function(t){return parseInt(t/60/60%60,10)},rt=function(t){return parseInt(t/60%60,10)},at=function(t){return parseInt(t%60,10)};function lt(t,e,i){var n=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e&&e,s=2<arguments.length&&void 0!==i&&i;if(!f.number(n))return lt(null,o,s);function r(t){return"0".concat(t).slice(-2)}var a=st(n),l=rt(n),c=at(n);return a=o||0<a?"".concat(a,":"):"","".concat(s&&0<n?"-":"").concat(a).concat(r(l),":").concat(r(c))}var ct={getIconUrl:function(){var t=new URL(this.config.iconUrl,window.location).host!==window.location.host||W.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements:function(){try{return this.elements.controls=I.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:M.call(this,this.config.selectors.buttons.play),pause:I.call(this,this.config.selectors.buttons.pause),restart:I.call(this,this.config.selectors.buttons.restart),rewind:I.call(this,this.config.selectors.buttons.rewind),fastForward:I.call(this,this.config.selectors.buttons.fastForward),mute:I.call(this,this.config.selectors.buttons.mute),pip:I.call(this,this.config.selectors.buttons.pip),airplay:I.call(this,this.config.selectors.buttons.airplay),settings:I.call(this,this.config.selectors.buttons.settings),captions:I.call(this,this.config.selectors.buttons.captions),fullscreen:I.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=I.call(this,this.config.selectors.progress),this.elements.inputs={seek:I.call(this,this.config.selectors.inputs.seek),volume:I.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:I.call(this,this.config.selectors.display.buffer),currentTime:I.call(this,this.config.selectors.display.currentTime),duration:I.call(this,this.config.selectors.display.duration)},f.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon:function(t,e){var i="http://www.w3.org/2000/svg",n=ct.getIconUrl.call(this),o="".concat(n.cors?"":n.url,"#").concat(this.config.iconPrefix),s=document.createElementNS(i,"svg");x(s,X(e,{role:"presentation",focusable:"false"}));var r=document.createElementNS(i,"use"),a="".concat(o,"-").concat(t);return"href"in r&&r.setAttributeNS("http://www.w3.org/1999/xlink","href",a),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),s.appendChild(r),s},createLabel:function(t,e){var i=1<arguments.length&&void 0!==e?e:{},n=et(t,this.config);return C("span",Object.assign({},i,{class:[i.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),n)},createBadge:function(t){if(f.empty(t))return null;var e=C("span",{class:this.config.classNames.menu.value});return e.appendChild(C("span",{class:this.config.classNames.menu.badge},t)),e},createButton:function(t,e){var i=Object.assign({},e),n=J(t),o={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(t){Object.keys(i).includes(t)&&(o[t]=i[t],delete i[t])}),"button"!==o.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.includes(this.config.classNames.control)||(i.class+=" ".concat(this.config.classNames.control)):i.class=this.config.classNames.control,t){case"play":o.toggle=!0,o.label="play",o.labelPressed="pause",o.icon="play",o.iconPressed="pause";break;case"mute":o.toggle=!0,o.label="mute",o.labelPressed="unmute",o.icon="volume",o.iconPressed="muted";break;case"captions":o.toggle=!0,o.label="enableCaptions",o.labelPressed="disableCaptions",o.icon="captions-off",o.iconPressed="captions-on";break;case"fullscreen":o.toggle=!0,o.label="enterFullscreen",o.labelPressed="exitFullscreen",o.icon="enter-fullscreen",o.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),n="play",o.label="play",o.icon="play";break;default:f.empty(o.label)&&(o.label=n),f.empty(o.icon)&&(o.icon=t)}var s=C(o.element);return o.toggle?(s.appendChild(ct.createIcon.call(this,o.iconPressed,{class:"icon--pressed"})),s.appendChild(ct.createIcon.call(this,o.icon,{class:"icon--not-pressed"})),s.appendChild(ct.createLabel.call(this,o.labelPressed,{class:"label--pressed"})),s.appendChild(ct.createLabel.call(this,o.label,{class:"label--not-pressed"}))):(s.appendChild(ct.createIcon.call(this,o.icon)),s.appendChild(ct.createLabel.call(this,o.label))),X(i,_(this.config.selectors.buttons[n],i)),x(s,i),"play"===n?(f.array(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(s)):this.elements.buttons[n]=s,s},createRange:function(t,e){var i=C("input",X(_(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":et(t,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=i,ct.updateRangeFill.call(this,i),i},createProgress:function(t,e){var i=C("progress",X(_(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"presentation","aria-hidden":!0},e));if("volume"!==t){i.appendChild(C("span",null,"0"));var n={played:"played",buffer:"buffered"}[t],o=n?et(n,this.config):"";i.innerText="% ".concat(o.toLowerCase())}return this.elements.display[t]=i},createTime:function(t){var e=_(this.config.selectors.display[t]),i=C("div",X(e,{class:"".concat(this.config.classNames.display.time," ").concat(e.class?e.class:"").trim(),"aria-label":et(t,this.config)}),"00:00");return this.elements.display[t]=i},bindMenuItemShortcuts:function(n,o){var s=this;v(n,"keydown keyup",function(t){if([32,38,39,40].includes(t.which)&&(t.preventDefault(),t.stopPropagation(),"keydown"!==t.type)){var e,i=D(n,'[role="menuitemradio"]');if(!i&&[32,39].includes(t.which))ct.showMenuPanel.call(s,o,!0);else 32!==t.which&&(40===t.which||i&&39===t.which?(e=n.nextElementSibling,f.element(e)||(e=n.parentNode.firstElementChild)):(e=n.previousElementSibling,f.element(e)||(e=n.parentNode.lastElementChild)),F.call(s,e,!0))}},!1),v(n,"keyup",function(t){13===t.which&&ct.focusFirstMenuItem.call(s,null,!0)})},createMenuItem:function(t){var e=this,i=t.value,n=t.list,o=t.type,s=t.title,r=t.badge,a=void 0===r?null:r,l=t.checked,c=void 0!==l&&l,u=_(this.config.selectors.inputs[o]),d=C("button",X(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":c,value:i})),h=C("span");h.innerHTML=s,f.element(a)&&h.appendChild(a),d.appendChild(h),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(t){t&&Array.from(d.parentNode.children).filter(function(t){return D(t,'[role="menuitemradio"]')}).forEach(function(t){return t.setAttribute("aria-checked","false")}),d.setAttribute("aria-checked",t?"true":"false")}}),this.listeners.bind(d,"click keyup",function(t){if(!f.keyboardEvent(t)||32===t.which){switch(t.preventDefault(),t.stopPropagation(),d.checked=!0,o){case"language":e.currentTrack=Number(i);break;case"quality":e.quality=i;break;case"speed":e.speed=parseFloat(i)}ct.showMenuPanel.call(e,"home",f.keyboardEvent(t))}},o,!1),ct.bindMenuItemShortcuts.call(this,d,o),n.appendChild(d)},formatTime:function(t,e){var i=0<arguments.length&&void 0!==t?t:0,n=1<arguments.length&&void 0!==e&&e;return f.number(i)?lt(i,0<st(this.duration),n):i},updateTimeDisplay:function(t,e,i){var n=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==e?e:0,s=2<arguments.length&&void 0!==i&&i;f.element(n)&&f.number(o)&&(n.innerText=ct.formatTime(o,s))},updateVolume:function(){this.supported.ui&&(f.element(this.elements.inputs.volume)&&ct.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),f.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(t,e){var i=1<arguments.length&&void 0!==e?e:0;f.element(t)&&(t.value=i,ct.updateRangeFill.call(this,t))},updateProgress:function(t){var s=this;if(this.supported.ui&&f.event(t)){var e=0;if(t)switch(t.type){case"timeupdate":case"seeking":case"seeked":e=function(t,e){return 0===t||0===e||Number.isNaN(t)||Number.isNaN(e)?0:(t/e*100).toFixed(2)}(this.currentTime,this.duration),"timeupdate"===t.type&&ct.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":!function(t,e){var i=f.number(e)?e:0,n=f.element(t)?t:s.elements.display.buffer;if(f.element(n)){n.value=i;var o=n.getElementsByTagName("span")[0];f.element(o)&&(o.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(t){var e=f.event(t)?t.target:t;if(f.element(e)&&"range"===e.getAttribute("type")){if(D(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);var i=ct.formatTime(this.currentTime),n=ct.formatTime(this.duration),o=et("seekLabel",this.config);e.setAttribute("aria-valuetext",o.replace("{currentTime}",i).replace("{duration}",n))}else if(D(e,this.config.selectors.inputs.volume)){var s=100*e.value;e.setAttribute("aria-valuenow",s),e.setAttribute("aria-valuetext","".concat(s.toFixed(1),"%"))}else e.setAttribute("aria-valuenow",e.value);W.isWebkit&&e.style.setProperty("--value","".concat(e.value/e.max*100,"%"))}},updateSeekTooltip:function(t){var e=this;if(this.config.tooltips.seek&&f.element(this.elements.inputs.seek)&&f.element(this.elements.display.seekTooltip)&&0!==this.duration){var i=0,n=this.elements.progress.getBoundingClientRect(),o="".concat(this.config.classNames.tooltip,"--visible"),s=function(t){N(e.elements.display.seekTooltip,o,t)};if(this.touch)s(!1);else{if(f.event(t))i=100/n.width*(t.pageX-n.left);else{if(!L(this.elements.display.seekTooltip,o))return;i=parseFloat(this.elements.display.seekTooltip.style.left,10)}i<0?i=0:100<i&&(i=100),ct.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*i),this.elements.display.seekTooltip.style.left="".concat(i,"%"),f.event(t)&&["mouseenter","mouseleave"].includes(t.type)&&s("mouseenter"===t.type)}}},timeUpdate:function(t){var e=!f.element(this.elements.display.duration)&&this.config.invertTime;ct.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),t&&"timeupdate"===t.type&&this.media.seeking||ct.updateProgress.call(this,t)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return P(this.elements.display.currentTime,!0),void P(this.elements.progress,!0);f.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var t=f.element(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&ct.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&ct.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),ct.updateSeekTooltip.call(this)}},toggleMenuButton:function(t,e){P(this.elements.settings.buttons[t],!e)},updateSetting:function(t,e,i){var n=this.elements.settings.panels[t],o=null,s=e;if("captions"===t)o=this.currentTrack;else{if(o=f.empty(i)?this[t]:i,f.empty(o)&&(o=this.config[t].default),!f.empty(this.options[t])&&!this.options[t].includes(o))return void this.debug.warn("Unsupported value of '".concat(o,"' for ").concat(t));if(!this.config[t].options.includes(o))return void this.debug.warn("Disabled value of '".concat(o,"' for ").concat(t))}if(f.element(s)||(s=n&&n.querySelector('[role="menu"]')),f.element(s)){this.elements.settings.buttons[t].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=ct.getLabel.call(this,t,o);var r=s&&s.querySelector('[value="'.concat(o,'"]'));f.element(r)&&(r.checked=!0)}},getLabel:function(t,e){switch(t){case"speed":return 1===e?et("normal",this.config):"".concat(e,"&times;");case"quality":if(f.number(e)){var i=et("qualityLabel.".concat(e),this.config);return i.length?i:"".concat(e,"p")}return K(e);case"captions":return ht.getLabel.call(this);default:return null}},setQualityMenu:function(t){var n=this;if(f.element(this.elements.settings.panels.quality)){var e="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');f.array(t)&&(this.options.quality=V(t).filter(function(t){return n.config.quality.options.includes(t)}));var o=!f.empty(this.options.quality)&&1<this.options.quality.length;if(ct.toggleMenuButton.call(this,e,o),S(i),ct.checkMenu.call(this),o){this.options.quality.sort(function(t,e){var i=n.config.quality.options;return i.indexOf(t)>i.indexOf(e)?1:-1}).forEach(function(t){ct.createMenuItem.call(n,{value:t,list:i,type:e,title:ct.getLabel.call(n,"quality",t),badge:function(t){var e=et("qualityBadge.".concat(t),n.config);return e.length?ct.createBadge.call(n,e):null}(t)})}),ct.updateSetting.call(this,e,i)}}},setCaptionsMenu:function(){var i=this;if(f.element(this.elements.settings.panels.captions)){var t="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),e=ht.getTracks.call(this),o=Boolean(e.length);if(ct.toggleMenuButton.call(this,t,o),S(n),ct.checkMenu.call(this),o){var s=e.map(function(t,e){return{value:e,checked:i.captions.toggled&&i.currentTrack===e,title:ht.getLabel.call(i,t),badge:t.language&&ct.createBadge.call(i,t.language.toUpperCase()),list:n,type:"language"}});s.unshift({value:-1,checked:!this.captions.toggled,title:et("disabled",this.config),list:n,type:"language"}),s.forEach(ct.createMenuItem.bind(this)),ct.updateSetting.call(this,t,n)}}},setSpeedMenu:function(t){var e=this;if(f.element(this.elements.settings.panels.speed)){var i="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]');f.array(t)?this.options.speed=t:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter(function(t){return e.config.speed.options.includes(t)});var o=!f.empty(this.options.speed)&&1<this.options.speed.length;ct.toggleMenuButton.call(this,i,o),S(n),ct.checkMenu.call(this),o&&(this.options.speed.forEach(function(t){ct.createMenuItem.call(e,{value:t,list:n,type:i,title:ct.getLabel.call(e,"speed",t)})}),ct.updateSetting.call(this,i,n))}},checkMenu:function(){var t=this.elements.settings.buttons,e=!f.empty(t)&&Object.values(t).some(function(t){return!t.hidden});P(this.elements.settings.menu,!e)},focusFirstMenuItem:function(t,e){var i=1<arguments.length&&void 0!==e&&e;if(!this.elements.settings.popup.hidden){var n=t;f.element(n)||(n=Object.values(this.elements.settings.panels).find(function(t){return!t.hidden}));var o=n.querySelector('[role^="menuitem"]');F.call(this,o,i)}},toggleMenu:function(t){var e=this.elements.settings.popup,i=this.elements.buttons.settings;if(f.element(e)&&f.element(i)){var n=e.hidden,o=n;if(f.boolean(t))o=t;else if(f.keyboardEvent(t)&&27===t.which)o=!1;else if(f.event(t)){var s=e.contains(t.target);if(s||!s&&t.target!==i&&o)return}i.setAttribute("aria-expanded",o),P(e,!o),N(this.elements.container,this.config.classNames.menu.open,o),o&&f.keyboardEvent(t)?ct.focusFirstMenuItem.call(this,null,!0):o||n||F.call(this,i,f.keyboardEvent(t))}},getMenuSize:function(t){var e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),t.parentNode.appendChild(e);var i=e.scrollWidth,n=e.scrollHeight;return E(e),{width:i,height:n}},showMenuPanel:function(t,e){var i=this,n=0<arguments.length&&void 0!==t?t:"",o=1<arguments.length&&void 0!==e&&e,s=document.getElementById("plyr-settings-".concat(this.id,"-").concat(n));if(f.element(s)){var r=s.parentNode,a=Array.from(r.children).find(function(t){return!t.hidden});if(z.transitions&&!z.reducedMotion){r.style.width="".concat(a.scrollWidth,"px"),r.style.height="".concat(a.scrollHeight,"px");var l=ct.getMenuSize.call(this,s);v.call(this,r,q,function t(e){e.target===r&&["width","height"].includes(e.propertyName)&&(r.style.width="",r.style.height="",y.call(i,r,q,t))}),r.style.width="".concat(l.width,"px"),r.style.height="".concat(l.height,"px")}P(a,!0),P(s,!1),ct.focusFirstMenuItem.call(this,s,o)}},setDownloadLink:function(){var t=this.elements.buttons.download;f.element(t)&&t.setAttribute("href",this.download)},create:function(r){var a=this,t=C("div",_(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")&&t.appendChild(ct.createButton.call(this,"restart")),this.config.controls.includes("rewind")&&t.appendChild(ct.createButton.call(this,"rewind")),this.config.controls.includes("play")&&t.appendChild(ct.createButton.call(this,"play")),this.config.controls.includes("fast-forward")&&t.appendChild(ct.createButton.call(this,"fast-forward")),this.config.controls.includes("progress")){var e=C("div",_(this.config.selectors.progress));if(e.appendChild(ct.createRange.call(this,"seek",{id:"plyr-seek-".concat(r.id)})),e.appendChild(ct.createProgress.call(this,"buffer")),this.config.tooltips.seek){var i=C("span",{class:this.config.classNames.tooltip},"00:00");e.appendChild(i),this.elements.display.seekTooltip=i}this.elements.progress=e,t.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")&&t.appendChild(ct.createTime.call(this,"currentTime")),this.config.controls.includes("duration")&&t.appendChild(ct.createTime.call(this,"duration")),this.config.controls.includes("mute")||this.config.controls.includes("volume")){var n=C("div",{class:"plyr__volume"});if(this.config.controls.includes("mute")&&n.appendChild(ct.createButton.call(this,"mute")),this.config.controls.includes("volume")){var o={max:1,step:.05,value:this.config.volume};n.appendChild(ct.createRange.call(this,"volume",X(o,{id:"plyr-volume-".concat(r.id)}))),this.elements.volume=n}t.appendChild(n)}if(this.config.controls.includes("captions")&&t.appendChild(ct.createButton.call(this,"captions")),this.config.controls.includes("settings")&&!f.empty(this.config.settings)){var s=C("div",{class:"plyr__menu",hidden:""});s.appendChild(ct.createButton.call(this,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(r.id),"aria-expanded":!1}));var l=C("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(r.id),hidden:""}),c=C("div"),u=C("div",{id:"plyr-settings-".concat(r.id,"-home")}),d=C("div",{role:"menu"});u.appendChild(d),c.appendChild(u),this.elements.settings.panels.home=u,this.config.settings.forEach(function(t){var e=C("button",X(_(a.config.selectors.buttons.settings),{type:"button",class:"".concat(a.config.classNames.control," ").concat(a.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));ct.bindMenuItemShortcuts.call(a,e,t),v(e,"click",function(){ct.showMenuPanel.call(a,t,!1)});var i=C("span",null,et(t,a.config)),n=C("span",{class:a.config.classNames.menu.value});n.innerHTML=r[t],i.appendChild(n),e.appendChild(i),d.appendChild(e);var o=C("div",{id:"plyr-settings-".concat(r.id,"-").concat(t),hidden:""}),s=C("button",{type:"button",class:"".concat(a.config.classNames.control," ").concat(a.config.classNames.control,"--back")});s.appendChild(C("span",{"aria-hidden":!0},et(t,a.config))),s.appendChild(C("span",{class:a.config.classNames.hidden},et("menuBack",a.config))),v(o,"keydown",function(t){37===t.which&&(t.preventDefault(),t.stopPropagation(),ct.showMenuPanel.call(a,"home",!0))},!1),v(s,"click",function(){ct.showMenuPanel.call(a,"home",!1)}),o.appendChild(s),o.appendChild(C("div",{role:"menu"})),c.appendChild(o),a.elements.settings.buttons[t]=e,a.elements.settings.panels[t]=o}),l.appendChild(c),s.appendChild(l),t.appendChild(s),this.elements.settings.popup=l,this.elements.settings.menu=s}if(this.config.controls.includes("pip")&&z.pip&&t.appendChild(ct.createButton.call(this,"pip")),this.config.controls.includes("airplay")&&z.airplay&&t.appendChild(ct.createButton.call(this,"airplay")),this.config.controls.includes("download")){var h={element:"a",href:this.download,target:"_blank"},p=this.config.urls.download;!f.url(p)&&this.isEmbed&&X(h,{icon:"logo-".concat(this.provider),label:this.provider}),t.appendChild(ct.createButton.call(this,"download",h))}return this.config.controls.includes("fullscreen")&&t.appendChild(ct.createButton.call(this,"fullscreen")),this.config.controls.includes("play-large")&&this.elements.container.appendChild(ct.createButton.call(this,"play-large")),this.elements.controls=t,this.isHTML5&&ct.setQualityMenu.call(this,U.getQualityOptions.call(this)),ct.setSpeedMenu.call(this),t},inject:function(){var n=this;if(this.config.loadSprite){var t=ct.getIconUrl.call(this);t.cors&&ot(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var e=null;this.elements.controls=null;var i={id:this.id,seektime:this.config.seekTime,title:this.config.title},o=!0;f.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this.props)),this.config.controls||(this.config.controls=[]),f.element(this.config.controls)||f.string(this.config.controls)?e=this.config.controls:(e=ct.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:ht.getLabel.call(this)}),o=!1);function s(t){var o=t;return Object.entries(i).forEach(function(t){var e=p(t,2),i=e[0],n=e[1];o=G(o,"{".concat(i,"}"),n)}),o}var r;if(o&&(f.string(this.config.controls)?e=s(e):f.element(e)&&(e.innerHTML=s(e.innerHTML))),f.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),f.element(r)||(r=this.elements.container),r[f.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),f.element(this.elements.controls)||ct.findElements.call(this),!f.empty(this.elements.buttons)){var a=function(e){var i=n.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:function(){return L(e,i)},set:function(t){N(e,i,0<arguments.length&&void 0!==t&&t)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(function(t){f.array(t)||f.nodeList(t)?Array.from(t).filter(Boolean).forEach(a):a(t)})}if(window.navigator.userAgent.includes("Edge")&&$(r),this.config.tooltips.controls){var l=this.config,c=l.classNames,u=l.selectors,d="".concat(u.controls.wrapper," ").concat(u.labels," .").concat(c.hidden),h=M.call(this,d);Array.from(h).forEach(function(t){N(t,n.config.classNames.hidden,!1),N(t,n.config.classNames.tooltip,!0)})}}};function ut(t,e){var i=t;if(!(1<arguments.length&&void 0!==e)||e){var n=document.createElement("a");n.href=i,i=n.href}try{return new URL(i)}catch(t){return null}}function dt(t){var o=new URLSearchParams;return f.object(t)&&Object.entries(t).forEach(function(t){var e=p(t,2),i=e[0],n=e[1];o.set(i,n)}),o}var ht={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!z.textTracks)f.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&ct.setCaptionsMenu.call(this);else{if(f.element(this.elements.captions)||(this.elements.captions=C("div",_(this.config.selectors.captions)),function(t,e){f.element(t)&&f.element(e)&&e.parentNode.insertBefore(t,e.nextSibling)}(this.elements.captions,this.elements.wrapper)),W.isIE&&window.URL){var t=this.media.querySelectorAll("track");Array.from(t).forEach(function(e){var t=e.getAttribute("src"),i=ut(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&nt(t,"blob").then(function(t){e.setAttribute("src",window.URL.createObjectURL(t))}).catch(function(){E(e)})})}var e=V((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(t){return t.split("-")[0]})),i=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();if("auto"===i)i=p(e,1)[0];var n=this.storage.get("captions");if(f.boolean(n)||(n=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:n,language:i,languages:e}),this.isHTML5){var o=this.config.captions.update?"addtrack removetrack":"removetrack";v.call(this,this.media.textTracks,o,ht.update.bind(this))}setTimeout(ht.update.bind(this),0)}},update:function(){var e=this,t=ht.getTracks.call(this,!0),i=this.captions,n=i.active,o=i.language,s=i.meta,r=i.currentTrackNode,a=Boolean(t.find(function(t){return t.language===o}));this.isHTML5&&this.isVideo&&t.filter(function(t){return!s.get(t)}).forEach(function(t){e.debug.log("Track added",t),s.set(t,{default:"showing"===t.mode}),t.mode="hidden",v.call(e,t,"cuechange",function(){return ht.updateCues.call(e)})}),(a&&this.language!==o||!t.includes(r))&&(ht.setLanguage.call(this,o),ht.toggle.call(this,n&&a)),N(this.elements.container,this.config.classNames.captions.enabled,!f.empty(t)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&ct.setCaptionsMenu.call(this)},toggle:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e;if(this.supported.ui){var n=this.captions.toggled,o=this.config.classNames.captions.active,s=f.nullOrUndefined(t)?!n:t;if(s!==n){if(i||(this.captions.active=s,this.storage.set({captions:s})),!this.language&&s&&!i){var r=ht.getTracks.call(this),a=ht.findTrack.call(this,[this.captions.language].concat(l(this.captions.languages)),!0);return this.captions.language=a.language,void ht.set.call(this,r.indexOf(a))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=s),N(this.elements.container,o,s),this.captions.toggled=s,ct.updateSetting.call(this,"captions"),w.call(this,this.media,s?"captionsenabled":"captionsdisabled")}}},set:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e,n=ht.getTracks.call(this);if(-1!==t)if(f.number(t))if(t in n){if(this.captions.currentTrack!==t){var o=n[this.captions.currentTrack=t],s=(o||{}).language;this.captions.currentTrackNode=o,ct.updateSetting.call(this,"captions"),i||(this.captions.language=s,this.storage.set({language:s})),this.isVimeo&&this.embed.enableTextTrack(s),w.call(this,this.media,"languagechange")}ht.toggle.call(this,!0,i),this.isHTML5&&this.isVideo&&ht.updateCues.call(this)}else this.debug.warn("Track not found",t);else this.debug.warn("Invalid caption argument",t);else ht.toggle.call(this,!1,i)},setLanguage:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e;if(f.string(t)){var n=t.toLowerCase();this.captions.language=n;var o=ht.getTracks.call(this),s=ht.findTrack.call(this,[n]);ht.set.call(this,o.indexOf(s),i)}else this.debug.warn("Invalid language argument",t)},getTracks:function(t){var e=this,i=0<arguments.length&&void 0!==t&&t;return Array.from((this.media||{}).textTracks||[]).filter(function(t){return!e.isHTML5||i||e.captions.meta.has(t)}).filter(function(t){return["captions","subtitles"].includes(t.kind)})},findTrack:function(t,e){function i(t){return Number((o.captions.meta.get(t)||{}).default)}var n,o=this,s=1<arguments.length&&void 0!==e&&e,r=ht.getTracks.call(this),a=Array.from(r).sort(function(t,e){return i(e)-i(t)});return t.every(function(e){return!(n=a.find(function(t){return t.language===e}))}),n||(s?a[0]:void 0)},getCurrentTrack:function(){return ht.getTracks.call(this)[this.currentTrack]},getLabel:function(t){var e=t;return!f.track(e)&&z.textTracks&&this.captions.toggled&&(e=ht.getCurrentTrack.call(this)),f.track(e)?f.empty(e.label)?f.empty(e.language)?et("enabled",this.config):t.language.toUpperCase():e.label:et("disabled",this.config)},updateCues:function(t){if(this.supported.ui)if(f.element(this.elements.captions))if(f.nullOrUndefined(t)||Array.isArray(t)){var e=t;if(!e){var i=ht.getCurrentTrack.call(this);e=Array.from((i||{}).activeCues||[]).map(function(t){return t.getCueAsHTML()}).map(Z)}var n=e.map(function(t){return t.trim()}).join("\n");if(n!==this.elements.captions.innerHTML){S(this.elements.captions);var o=C("span",_(this.config.selectors.caption));o.innerHTML=n,this.elements.captions.appendChild(o),w.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",t);else this.debug.warn("No captions element to render to")}},pt={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:"16:9",clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.3.12/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://www.googleapis.com/youtube/v3/videos?id={0}&key={1}&fields=items(snippet(title))&part=snippet"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus"},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:!1,publisherId:""}},ft={html5:"html5",youtube:"youtube",vimeo:"vimeo"},mt="audio",gt="video";function vt(){}var yt=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];c(this,e),this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}return t(e,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):vt}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):vt}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):vt}}]),e}();function bt(){if(this.enabled){var t=this.player.elements.buttons.fullscreen;f.element(t)&&(t.pressed=this.active),w.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0),W.isIos||function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(f.element(t)){var i=M.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),n=i[0],o=i[i.length-1];g.call(this,this.elements.container,"keydown",function(t){if("Tab"===t.key&&9===t.keyCode){var e=document.activeElement;e!==o||t.shiftKey?e===n&&t.shiftKey&&(o.focus(),t.preventDefault()):(n.focus(),t.preventDefault())}},e,!1)}}.call(this.player,this.target,this.active)}}function wt(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",N(this.target,this.player.config.classNames.fullscreen.fallback,e),W.isIos){var i=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";i||(i=document.createElement("meta")).setAttribute("name","viewport");var o=f.string(i.content)&&i.content.includes(n);e?(this.cleanupViewport=!o,o||(i.content+=",".concat(n))):this.cleanupViewport&&(i.content=i.content.split(",").filter(function(t){return t.trim()!==n}).join(",")),setTimeout(function(){return $(t.target)},100)}bt.call(this)}var kt=function(){function i(t){var e=this;c(this,i),this.player=t,this.prefix=i.prefix,this.property=i.property,this.scrollPosition={x:0,y:0},v.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){bt.call(e)}),v.call(this.player,this.player.elements.container,"dblclick",function(t){f.element(e.player.elements.controls)&&e.player.elements.controls.contains(t.target)||e.toggle()}),this.update()}return t(i,[{key:"update",value:function(){this.enabled?this.player.debug.log("".concat(i.native?"Native":"Fallback"," fullscreen enabled")):this.player.debug.log("Fullscreen not supported and fallback disabled"),N(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(W.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():i.native?this.prefix?f.empty(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen():wt.call(this,!0))}},{key:"exit",value:function(){if(this.enabled)if(W.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(i.native)if(this.prefix){if(!f.empty(this.prefix)){var t="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(t).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document);else wt.call(this,!1)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"enabled",get:function(){return(i.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(i.native?(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target:L(this.target,this.player.config.classNames.fullscreen.fallback))}},{key:"target",get:function(){return W.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(f.function(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some(function(t){return!(!f.function(document["".concat(t,"ExitFullscreen")])&&!f.function(document["".concat(t,"CancelFullScreen")]))&&(e=t,!0)}),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),i}();function xt(o,t){var s=1<arguments.length&&void 0!==t?t:1;return new Promise(function(t,e){function i(){delete n.onload,delete n.onerror,(n.naturalWidth>=s?t:e)(n)}var n=new Image;Object.assign(n,{onload:i,onerror:i,src:o})})}var Ct={addStyleHook:function(){N(this.elements.container,this.config.selectors.container.replace(".",""),!0),N(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(t){0<arguments.length&&void 0!==t&&t&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var t=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void Ct.toggleNativeControls.call(this,!0);f.element(this.elements.controls)||(ct.inject.call(this),this.listeners.controls()),Ct.toggleNativeControls.call(this),this.isHTML5&&ht.setup.call(this),this.volume=null,this.muted=null,this.speed=null,this.loop=null,this.quality=null,ct.updateVolume.call(this),ct.timeUpdate.call(this),Ct.checkPlaying.call(this),N(this.elements.container,this.config.classNames.pip.supported,z.pip&&this.isHTML5&&this.isVideo),N(this.elements.container,this.config.classNames.airplay.supported,z.airplay&&this.isHTML5),N(this.elements.container,this.config.classNames.isIos,W.isIos),N(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){w.call(t,t.media,"ready")},0),Ct.setTitle.call(this),this.poster&&Ct.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&ct.durationUpdate.call(this)},setTitle:function(){var e=et("play",this.config);if(f.string(this.config.title)&&!f.empty(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(t){t.setAttribute("aria-label",e)}),this.isEmbed){var t=I.call(this,"iframe");if(!f.element(t))return;var i=f.empty(this.config.title)?"video":this.config.title,n=et("frameTitle",this.config);t.setAttribute("title",n.replace("{title}",i))}},togglePoster:function(t){N(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster:function(e,t){var i=this;return 1<arguments.length&&void 0!==t&&!t||!this.poster?(this.media.setAttribute("poster",e),function(){var e=this;return new Promise(function(t){return e.ready?setTimeout(t,0):v.call(e,e.elements.container,"ready",t)}).then(function(){})}.call(this).then(function(){return xt(e)}).catch(function(t){throw e===i.poster&&Ct.togglePoster.call(i,!1),t}).then(function(){if(e!==i.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(i.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),Ct.togglePoster.call(i,!0),e})):Promise.reject(new Error("Poster already set"))},checkPlaying:function(t){var e=this;N(this.elements.container,this.config.classNames.playing,this.playing),N(this.elements.container,this.config.classNames.paused,this.paused),N(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(t){t.pressed=e.playing}),f.event(t)&&"timeupdate"===t.type||Ct.toggleControls.call(this)},checkLoading:function(t){var e=this;this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){N(e.elements.container,e.config.classNames.loading,e.loading),Ct.toggleControls.call(e)},this.loading?250:0)},toggleControls:function(t){var e=this.elements.controls;if(e&&this.config.hideControls){var i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(t||this.loading||this.paused||e.pressed||e.hover||i))}}},Tt=function(){function e(t){c(this,e),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return t(e,[{key:"handleKey",value:function(t){var e=this.player,i=e.elements,n=t.keyCode?t.keyCode:t.which,o="keydown"===t.type,s=o&&n===this.lastKey;if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)&&f.number(n)){if(o){var r=document.activeElement;if(f.element(r)){var a=e.config.selectors.editable;if(r!==i.inputs.seek&&D(r,a))return;if(32===t.which&&D(r,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(n)&&(t.preventDefault(),t.stopPropagation()),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:s||(e.currentTime=e.duration/10*(n-48));break;case 32:case 75:s||e.togglePlay();break;case 38:e.increaseVolume(.1);break;case 40:e.decreaseVolume(.1);break;case 77:s||(e.muted=!e.muted);break;case 39:e.forward();break;case 37:e.rewind();break;case 70:e.fullscreen.toggle();break;case 67:s||e.toggleCaptions();break;case 76:e.loop=!e.loop}!e.fullscreen.enabled&&e.fullscreen.active&&27===n&&e.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}}},{key:"toggleMenu",value:function(t){ct.toggleMenu.call(this.player,t)}},{key:"firstTouch",value:function(){var t=this.player,e=t.elements;t.touch=!0,N(e.container,t.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(t){var e=this.player,i=e.elements;if(clearTimeout(this.focusTimer),"keydown"!==t.type||9===t.which){"keydown"===t.type&&(this.lastKeyDown=t.timeStamp);var n,o=t.timeStamp-this.lastKeyDown<=20;if("focus"!==t.type||o)n=e.config.classNames.tabFocus,N(M.call(e,".".concat(n)),n,!1),this.focusTimer=setTimeout(function(){var t=document.activeElement;i.container.contains(t)&&N(document.activeElement,e.config.classNames.tabFocus,!0)},10)}}},{key:"global",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t,i=this.player;i.config.keyboard.global&&g.call(i,window,"keydown keyup",this.handleKey,e,!1),g.call(i,document.body,"click",this.toggleMenu,e),b.call(i,document.body,"touchstart",this.firstTouch),g.call(i,document.body,"keydown focus blur",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var n=this.player,o=n.elements;!n.config.keyboard.global&&n.config.keyboard.focused&&v.call(n,o.container,"keydown keyup",this.handleKey,!1),v.call(n,o.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(t){var e=o.controls;e&&"enterfullscreen"===t.type&&(e.pressed=!1,e.hover=!1);var i=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Ct.toggleControls.call(n,!0),i=n.touch?3e3:2e3),clearTimeout(n.timers.controls),n.timers.controls=setTimeout(function(){return Ct.toggleControls.call(n,!1)},i)})}},{key:"media",value:function(){var n=this.player,o=n.elements;if(v.call(n,n.media,"timeupdate seeking seeked",function(t){return ct.timeUpdate.call(n,t)}),v.call(n,n.media,"durationchange loadeddata loadedmetadata",function(t){return ct.durationUpdate.call(n,t)}),v.call(n,n.media,"canplay",function(){P(o.volume,!n.hasAudio),P(o.buttons.mute,!n.hasAudio)}),v.call(n,n.media,"ended",function(){n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&n.restart()}),v.call(n,n.media,"progress playing seeking seeked",function(t){return ct.updateProgress.call(n,t)}),v.call(n,n.media,"volumechange",function(t){return ct.updateVolume.call(n,t)}),v.call(n,n.media,"playing play pause ended emptied timeupdate",function(t){return Ct.checkPlaying.call(n,t)}),v.call(n,n.media,"waiting canplay seeked playing",function(t){return Ct.checkLoading.call(n,t)}),v.call(n,n.media,"playing",function(){n.ads&&n.ads.enabled&&!n.ads.initialized&&n.ads.managerPromise.then(function(){return n.ads.play()}).catch(function(){return n.play()})}),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){var e=I.call(n,".".concat(n.config.classNames.video));if(!f.element(e))return;v.call(n,o.container,"click",function(t){([o.container,e].includes(t.target)||e.contains(t.target))&&(n.touch&&n.config.hideControls||(n.ended?(n.restart(),n.play()):n.togglePlay()))})}n.supported.ui&&n.config.disableContextMenu&&v.call(n,o.wrapper,"contextmenu",function(t){t.preventDefault()},!1),v.call(n,n.media,"volumechange",function(){n.storage.set({volume:n.volume,muted:n.muted})}),v.call(n,n.media,"ratechange",function(){ct.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),v.call(n,n.media,"qualitychange",function(t){ct.updateSetting.call(n,"quality",null,t.detail.quality)}),v.call(n,n.media,"ready qualitychange",function(){ct.setDownloadLink.call(n)});var t=n.config.events.concat(["keyup","keydown"]).join(" ");v.call(n,n.media,t,function(t){var e=t.detail,i=void 0===e?{}:e;"error"===t.type&&(i=n.media.error),w.call(n,o.container,t.type,!0,i)})}},{key:"proxy",value:function(t,e,i){var n=this.player,o=n.config.listeners[i],s=!0;f.function(o)&&(s=o.call(n,t)),s&&f.function(e)&&e.call(n,t)}},{key:"bind",value:function(t,e,i,n,o){var s=this,r=!(4<arguments.length&&void 0!==o)||o,a=this.player,l=a.config.listeners[n],c=f.function(l);v.call(a,t,e,function(t){return s.proxy(t,i,n)},r&&!c)}},{key:"controls",value:function(){var o=this,a=this.player,n=a.elements,e=W.isIE?"change":"input";if(n.buttons.play&&Array.from(n.buttons.play).forEach(function(t){o.bind(t,"click",a.togglePlay,"play")}),this.bind(n.buttons.restart,"click",a.restart,"restart"),this.bind(n.buttons.rewind,"click",a.rewind,"rewind"),this.bind(n.buttons.fastForward,"click",a.forward,"fastForward"),this.bind(n.buttons.mute,"click",function(){a.muted=!a.muted},"mute"),this.bind(n.buttons.captions,"click",function(){return a.toggleCaptions()}),this.bind(n.buttons.download,"click",function(){w.call(a,a.media,"download")},"download"),this.bind(n.buttons.fullscreen,"click",function(){a.fullscreen.toggle()},"fullscreen"),this.bind(n.buttons.pip,"click",function(){a.pip="toggle"},"pip"),this.bind(n.buttons.airplay,"click",a.airplay,"airplay"),this.bind(n.buttons.settings,"click",function(t){t.stopPropagation(),ct.toggleMenu.call(a,t)}),this.bind(n.buttons.settings,"keyup",function(t){var e=t.which;[13,32].includes(e)&&(13!==e?(t.preventDefault(),t.stopPropagation(),ct.toggleMenu.call(a,t)):ct.focusFirstMenuItem.call(a,null,!0))},null,!1),this.bind(n.settings.menu,"keydown",function(t){27===t.which&&ct.toggleMenu.call(a,t)}),this.bind(n.inputs.seek,"mousedown mousemove",function(t){var e=n.progress.getBoundingClientRect(),i=100/e.width*(t.pageX-e.left);t.currentTarget.setAttribute("seek-value",i)}),this.bind(n.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(t){var e=t.currentTarget,i=t.keyCode?t.keyCode:t.which,n="play-on-seeked";if(!f.keyboardEvent(t)||39===i||37===i){a.lastSeekTime=Date.now();var o=e.hasAttribute(n),s=["mouseup","touchend","keyup"].includes(t.type);o&&s?(e.removeAttribute(n),a.play()):!s&&a.playing&&(e.setAttribute(n,""),a.pause())}}),W.isIos){var t=M.call(a,'input[type="range"]');Array.from(t).forEach(function(t){return o.bind(t,e,function(t){return $(t.target)})})}this.bind(n.inputs.seek,e,function(t){var e=t.currentTarget,i=e.getAttribute("seek-value");f.empty(i)&&(i=e.value),e.removeAttribute("seek-value"),a.currentTime=i/e.max*a.duration},"seek"),this.bind(n.progress,"mouseenter mouseleave mousemove",function(t){return ct.updateSeekTooltip.call(a,t)}),W.isWebkit&&Array.from(M.call(a,'input[type="range"]')).forEach(function(t){o.bind(t,"input",function(t){return ct.updateRangeFill.call(a,t.target)})}),a.config.toggleInvert&&!f.element(n.display.duration)&&this.bind(n.display.currentTime,"click",function(){0!==a.currentTime&&(a.config.invertTime=!a.config.invertTime,ct.timeUpdate.call(a))}),this.bind(n.inputs.volume,e,function(t){a.volume=t.target.value},"volume"),this.bind(n.controls,"mouseenter mouseleave",function(t){n.controls.hover=!a.touch&&"mouseenter"===t.type}),this.bind(n.controls,"mousedown mouseup touchstart touchend touchcancel",function(t){n.controls.pressed=["mousedown","touchstart"].includes(t.type)}),this.bind(n.controls,"focusin",function(){var t=a.config,e=a.elements,i=a.timers;N(e.controls,t.classNames.noTransition,!0),Ct.toggleControls.call(a,!0),setTimeout(function(){N(e.controls,t.classNames.noTransition,!1)},0);var n=o.touch?3e3:4e3;clearTimeout(i.controls),i.controls=setTimeout(function(){return Ct.toggleControls.call(a,!1)},n)}),this.bind(n.inputs.volume,"wheel",function(t){var e=t.webkitDirectionInvertedFromDevice,i=p([t.deltaX,-t.deltaY].map(function(t){return e?-t:t}),2),n=i[0],o=i[1],s=Math.sign(Math.abs(n)>Math.abs(o)?n:o);a.increaseVolume(s/50);var r=a.media.volume;(1===s&&r<1||-1===s&&0<r)&&t.preventDefault()},"volume",!1)}}]),e}();"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Et,St=(function(t,e){var i;i=function(){var d=function(){},s={},l={},c={};function r(t,e){if(t){var i=c[t];if(l[t]=e,i)for(;i.length;)i[0](t,e),i.splice(0,1)}}function a(t,e){t.call&&(t={success:t}),e.length?(t.error||d)(e):(t.success||d)(t)}function h(i,n,o,s){var r,a,t=document,e=o.async,l=(o.numRetries||0)+1,c=o.before||d,u=i.replace(/^(css|img)!/,"");s=s||0,/(^css!|\.css$)/.test(i)?(r=!0,(a=t.createElement("link")).rel="stylesheet",a.href=u):/(^img!|\.(png|gif|jpg|svg)$)/.test(i)?(a=t.createElement("img")).src=u:((a=t.createElement("script")).src=i,a.async=void 0===e||e),!(a.onload=a.onerror=a.onbeforeload=function(t){var e=t.type[0];if(r&&"hideFocus"in a)try{a.sheet.cssText.length||(e="e")}catch(t){e="e"}if("e"==e&&(s+=1)<l)return h(i,n,o,s);n(i,e,t.defaultPrevented)})!==c(i,a)&&t.head.appendChild(a)}function i(t,e,i){var n,o;if(e&&e.trim&&(n=e),o=(n?i:e)||{},n){if(n in s)throw"LoadJS";s[n]=!0}!function(t,n,e){var i,o,s=(t=t.push?t:[t]).length,r=s,a=[];for(i=function(t,e,i){if("e"==e&&a.push(t),"b"==e){if(!i)return;a.push(t)}--s||n(a)},o=0;o<r;o++)h(t[o],i,e)}(t,function(t){a(o,t),r(n,t)},o)}return i.ready=function(t,e){return function(t,i){t=t.push?t:[t];var e,n,o,s=[],r=t.length,a=r;for(e=function(t,e){e.length&&s.push(t),--a||i(s)};r--;)n=t[r],(o=l[n])?e(n,o):(c[n]=c[n]||[]).push(e)}(t,function(t){a(e,t)}),i},i.done=function(t){r(t,[])},i.reset=function(){s={},l={},c={}},i.isDefined=function(t){return t in s},i},t.exports=i()}(Et={exports:{}},Et.exports),Et.exports);function At(i){return new Promise(function(t,e){St(i,{success:t,error:e})})}function _t(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,w.call(this,this.media,t?"play":"pause"))}var Pt={setup:function(){var e=this;N(this.elements.wrapper,this.config.classNames.embed,!0),Pt.setAspectRatio.call(this),f.object(window.Vimeo)?Pt.ready.call(this):At(this.config.urls.vimeo.sdk).then(function(){Pt.ready.call(e)}).catch(function(t){e.debug.warn("Vimeo API failed to load",t)})},setAspectRatio:function(t){var e=p((f.string(t)?t:this.config.ratio).split(":"),2),i=100/e[0]*e[1];if(this.elements.wrapper.style.paddingBottom="".concat(i,"%"),this.supported.ui){var n=(240-i)/4.8;this.media.style.transform="translateY(-".concat(n,"%)")}},ready:function(){var i=this,r=this,t=dt({loop:r.config.loop.active,autoplay:r.autoplay,byline:!1,portrait:!1,title:!1,speed:!0,transparent:0,gesture:"media",playsinline:!this.config.fullscreen.iosNative}),e=r.media.getAttribute("src");f.empty(e)&&(e=r.media.getAttribute(r.config.attributes.embed.id));var n=function(t){return f.empty(t)?null:f.number(Number(t))?t:t.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:t}(e),o=C("iframe"),s=Y(r.config.urls.vimeo.iframe,n,t);o.setAttribute("src",s),o.setAttribute("allowfullscreen",""),o.setAttribute("allowtransparency",""),o.setAttribute("allow","autoplay");var a=C("div",{poster:r.poster,class:r.config.classNames.embedContainer});a.appendChild(o),r.media=A(a,r.media),nt(Y(r.config.urls.vimeo.api,n),"json").then(function(t){if(!f.empty(t)){var e=new URL(t[0].thumbnail_large);e.pathname="".concat(e.pathname.split("_")[0],".jpg"),Ct.setPoster.call(r,e.href).catch(function(){})}}),r.embed=new window.Vimeo.Player(o,{autopause:r.config.autopause,muted:r.muted}),r.media.paused=!0,r.media.currentTime=0,r.supported.ui&&r.embed.disableTextTrack(),r.media.play=function(){return _t.call(r,!0),r.embed.play()},r.media.pause=function(){return _t.call(r,!1),r.embed.pause()},r.media.stop=function(){r.pause(),r.currentTime=0};var l=r.media.currentTime;Object.defineProperty(r.media,"currentTime",{get:function(){return l},set:function(t){var e=r.embed,i=r.media,n=r.paused,o=r.volume,s=n&&!e.hasPlayed;i.seeking=!0,w.call(r,i,"seeking"),Promise.resolve(s&&e.setVolume(0)).then(function(){return e.setCurrentTime(t)}).then(function(){return s&&e.pause()}).then(function(){return s&&e.setVolume(o)}).catch(function(){})}});var c=r.config.speed.selected;Object.defineProperty(r.media,"playbackRate",{get:function(){return c},set:function(t){r.embed.setPlaybackRate(t).then(function(){c=t,w.call(r,r.media,"ratechange")}).catch(function(t){"Error"===t.name&&ct.setSpeedMenu.call(r,[])})}});var u=r.config.volume;Object.defineProperty(r.media,"volume",{get:function(){return u},set:function(t){r.embed.setVolume(t).then(function(){u=t,w.call(r,r.media,"volumechange")})}});var d=r.config.muted;Object.defineProperty(r.media,"muted",{get:function(){return d},set:function(t){var e=!!f.boolean(t)&&t;r.embed.setVolume(e?0:r.config.volume).then(function(){d=e,w.call(r,r.media,"volumechange")})}});var h,p=r.config.loop;Object.defineProperty(r.media,"loop",{get:function(){return p},set:function(t){var e=f.boolean(t)?t:r.config.loop.active;r.embed.setLoop(e).then(function(){p=e})}}),r.embed.getVideoUrl().then(function(t){h=t,ct.setDownloadLink.call(r)}).catch(function(t){i.debug.warn(t)}),Object.defineProperty(r.media,"currentSrc",{get:function(){return h}}),Object.defineProperty(r.media,"ended",{get:function(){return r.currentTime===r.duration}}),Promise.all([r.embed.getVideoWidth(),r.embed.getVideoHeight()]).then(function(t){var e=function(t,e){var i=function t(e,i){return 0===i?e:t(i,e%i)}(t,e);return"".concat(t/i,":").concat(e/i)}(t[0],t[1]);Pt.setAspectRatio.call(i,e)}),r.embed.setAutopause(r.config.autopause).then(function(t){r.config.autopause=t}),r.embed.getVideoTitle().then(function(t){r.config.title=t,Ct.setTitle.call(i)}),r.embed.getCurrentTime().then(function(t){l=t,w.call(r,r.media,"timeupdate")}),r.embed.getDuration().then(function(t){r.media.duration=t,w.call(r,r.media,"durationchange")}),r.embed.getTextTracks().then(function(t){r.media.textTracks=t,ht.setup.call(r)}),r.embed.on("cuechange",function(t){var e=t.cues,i=(void 0===e?[]:e).map(function(t){return function(t){var e=document.createDocumentFragment(),i=document.createElement("div");return e.appendChild(i),i.innerHTML=t,e.firstChild.innerText}(t.text)});ht.updateCues.call(r,i)}),r.embed.on("loaded",function(){r.embed.getPaused().then(function(t){_t.call(r,!t),t||w.call(r,r.media,"playing")}),f.element(r.embed.element)&&r.supported.ui&&r.embed.element.setAttribute("tabindex",-1)}),r.embed.on("play",function(){_t.call(r,!0),w.call(r,r.media,"playing")}),r.embed.on("pause",function(){_t.call(r,!1)}),r.embed.on("timeupdate",function(t){r.media.seeking=!1,l=t.seconds,w.call(r,r.media,"timeupdate")}),r.embed.on("progress",function(t){r.media.buffered=t.percent,w.call(r,r.media,"progress"),1===parseInt(t.percent,10)&&w.call(r,r.media,"canplaythrough"),r.embed.getDuration().then(function(t){t!==r.media.duration&&(r.media.duration=t,w.call(r,r.media,"durationchange"))})}),r.embed.on("seeked",function(){r.media.seeking=!1,w.call(r,r.media,"seeked")}),r.embed.on("ended",function(){r.media.paused=!0,w.call(r,r.media,"ended")}),r.embed.on("error",function(t){r.media.error=t,w.call(r,r.media,"error")}),setTimeout(function(){return Ct.build.call(r)},0)}};function Nt(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,w.call(this,this.media,t?"play":"pause"))}var Lt,Dt={setup:function(){var e=this;N(this.elements.wrapper,this.config.classNames.embed,!0),Dt.setAspectRatio.call(this),f.object(window.YT)&&f.function(window.YT.Player)?Dt.ready.call(this):(At(this.config.urls.youtube.sdk).catch(function(t){e.debug.warn("YouTube API failed to load",t)}),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){Dt.ready.call(e)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(t){t()})})},getTitle:function(t){var e=this;if(f.function(this.embed.getVideoData)){var i=this.embed.getVideoData().title;if(f.empty(i))return this.config.title=i,void Ct.setTitle.call(this)}var n=this.config.keys.google;f.string(n)&&!f.empty(n)&&nt(Y(this.config.urls.youtube.api,t,n)).then(function(t){f.object(t)&&(e.config.title=t.items[0].snippet.title,Ct.setTitle.call(e))}).catch(function(){})},setAspectRatio:function(){var t=this.config.ratio.split(":");this.elements.wrapper.style.paddingBottom="".concat(100/t[0]*t[1],"%")},ready:function(){var o=this,t=o.media.getAttribute("id");if(f.empty(t)||!t.startsWith("youtube-")){var e=o.media.getAttribute("src");f.empty(e)&&(e=o.media.getAttribute(this.config.attributes.embed.id));var s=function(t){return f.empty(t)?null:t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:t}(e),i=function(t){return"".concat(t,"-").concat(Math.floor(1e4*Math.random()))}(o.provider),n=C("div",{id:i,poster:o.poster});o.media=A(n,o.media);var r=function(t){return"https://img.youtube.com/vi/".concat(s,"/").concat(t,"default.jpg")};xt(r("maxres"),121).catch(function(){return xt(r("sd"),121)}).catch(function(){return xt(r("hq"))}).then(function(t){return Ct.setPoster.call(o,t.src)}).then(function(t){t.includes("maxres")||(o.elements.poster.style.backgroundSize="cover")}).catch(function(){}),o.embed=new window.YT.Player(i,{videoId:s,playerVars:{autoplay:o.config.autoplay?1:0,hl:o.config.hl,controls:o.supported.ui?0:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,widget_referrer:window?window.location.href:null,cc_load_policy:o.captions.active?1:0,cc_lang_pref:o.config.captions.language},events:{onError:function(t){if(!o.media.error){var e=t.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[e]||"An unknown error occured";o.media.error={code:e,message:i},w.call(o,o.media,"error")}},onPlaybackRateChange:function(t){var e=t.target;o.media.playbackRate=e.getPlaybackRate(),w.call(o,o.media,"ratechange")},onReady:function(t){if(!f.function(o.media.play)){var i=t.target;Dt.getTitle.call(o,s),o.media.play=function(){Nt.call(o,!0),i.playVideo()},o.media.pause=function(){Nt.call(o,!1),i.pauseVideo()},o.media.stop=function(){i.stopVideo()},o.media.duration=i.getDuration(),o.media.paused=!0,o.media.currentTime=0,Object.defineProperty(o.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(t){o.paused&&!o.embed.hasPlayed&&o.embed.mute(),o.media.seeking=!0,w.call(o,o.media,"seeking"),i.seekTo(t)}}),Object.defineProperty(o.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(t){i.setPlaybackRate(t)}});var e=o.config.volume;Object.defineProperty(o.media,"volume",{get:function(){return e},set:function(t){e=t,i.setVolume(100*e),w.call(o,o.media,"volumechange")}});var n=o.config.muted;Object.defineProperty(o.media,"muted",{get:function(){return n},set:function(t){var e=f.boolean(t)?t:n;i[(n=e)?"mute":"unMute"](),w.call(o,o.media,"volumechange")}}),Object.defineProperty(o.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(o.media,"ended",{get:function(){return o.currentTime===o.duration}}),o.options.speed=i.getAvailablePlaybackRates(),o.supported.ui&&o.media.setAttribute("tabindex",-1),w.call(o,o.media,"timeupdate"),w.call(o,o.media,"durationchange"),clearInterval(o.timers.buffering),o.timers.buffering=setInterval(function(){o.media.buffered=i.getVideoLoadedFraction(),(null===o.media.lastBuffered||o.media.lastBuffered<o.media.buffered)&&w.call(o,o.media,"progress"),o.media.lastBuffered=o.media.buffered,1===o.media.buffered&&(clearInterval(o.timers.buffering),w.call(o,o.media,"canplaythrough"))},200),setTimeout(function(){return Ct.build.call(o)},50)}},onStateChange:function(t){var e=t.target;switch(clearInterval(o.timers.playing),o.media.seeking&&[1,2].includes(t.data)&&(o.media.seeking=!1,w.call(o,o.media,"seeked")),t.data){case-1:w.call(o,o.media,"timeupdate"),o.media.buffered=e.getVideoLoadedFraction(),w.call(o,o.media,"progress");break;case 0:Nt.call(o,!1),o.media.loop?(e.stopVideo(),e.playVideo()):w.call(o,o.media,"ended");break;case 1:o.media.paused&&!o.embed.hasPlayed?o.media.pause():(Nt.call(o,!0),w.call(o,o.media,"playing"),o.timers.playing=setInterval(function(){w.call(o,o.media,"timeupdate")},50),o.media.duration!==e.getDuration()&&(o.media.duration=e.getDuration(),w.call(o,o.media,"durationchange")));break;case 2:o.muted||o.embed.unMute(),Nt.call(o,!1)}w.call(o,o.elements.container,"statechange",!1,{code:t.data})}}})}}},Mt={setup:function(){this.media?(N(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),N(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&N(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=C("div",{class:this.config.classNames.video}),k(this.media,this.elements.wrapper),this.elements.poster=C("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?U.extend.call(this):this.isYouTube?Dt.setup.call(this):this.isVimeo&&Pt.setup.call(this)):this.debug.warn("No media element found!")}},It=function(){function e(t){var i=this;c(this,e),this.player=t,this.publisherId=t.config.ads.publisherId,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(t,e){i.on("loaded",t),i.on("error",e)}),this.load()}return t(e,[{key:"load",value:function(){var t=this;this.enabled&&(f.object(window.google)&&f.object(window.google.ima)?this.ready():At(this.player.config.urls.googleIMA.sdk).then(function(){t.ready()}).catch(function(){t.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var t=this;this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){t.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=C("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container),this.requestAds()}},{key:"requestAds",value:function(){var e=this,t=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){return e.onAdsManagerLoaded(t)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e.onAdError(t)},!1);var i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=t.offsetWidth,i.linearAdSlotHeight=t.offsetHeight,i.nonLinearAdSlotWidth=t.offsetWidth,i.nonLinearAdSlotHeight=t.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(t){this.onAdError(t)}}},{key:"pollCountdown",value:function(t){var i=this;if(!(0<arguments.length&&void 0!==t&&t))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var t=lt(Math.max(i.manager.getRemainingTime(),0)),e="".concat(et("advertisement",i.player.config)," - ").concat(t);i.elements.container.setAttribute("data-badge-text",e)},100)}},{key:"onAdsManagerLoaded",value:function(t){var o=this;if(this.enabled){var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0,this.manager=t.getAdsManager(this.player,e),this.cuePoints=this.manager.getCuePoints(),f.empty(this.cuePoints)||this.cuePoints.forEach(function(t){if(0!==t&&-1!==t&&t<o.player.duration){var e=o.player.elements.progress;if(f.element(e)){var i=100/o.player.duration*t,n=C("span",{class:o.player.config.classNames.cues});n.style.left="".concat(i.toString(),"%"),e.appendChild(n)}}}),this.manager.setVolume(this.player.volume),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return o.onAdError(t)}),Object.keys(google.ima.AdEvent.Type).forEach(function(t){o.manager.addEventListener(google.ima.AdEvent.Type[t],function(t){return o.onAdEvent(t)})}),this.trigger("loaded")}}},{key:"onAdEvent",value:function(t){function e(t){var e="ads".concat(t.replace(/_/g,"").toLowerCase());w.call(i.player,i.player.media,e)}var i=this,n=this.player.elements.container,o=t.getAd();switch(t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),e(t.type),this.pollCountdown(!0),o.isLinear()||(o.width=n.offsetWidth,o.height=n.offsetHeight);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:e(t.type),this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:e(t.type),this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:e(t.type),this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:e(t.type)}}},{key:"onAdError",value:function(t){this.cancel(),this.player.debug.warn("Ads error",t)}},{key:"listeners",value:function(){var n,o=this,t=this.player.elements.container;this.player.on("ended",function(){o.loader.contentComplete()}),this.player.on("seeking",function(){return n=o.player.currentTime}),this.player.on("seeked",function(){var i=o.player.currentTime;f.empty(o.cuePoints)||o.cuePoints.forEach(function(t,e){n<t&&t<i&&(o.manager.discardAdBreak(),o.cuePoints.splice(e,1))})}),window.addEventListener("resize",function(){o.manager&&o.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var e=this,t=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0}catch(t){e.onAdError(t)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.currentTime<this.player.duration&&this.player.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var e=this;this.managerPromise.then(function(){e.manager&&e.manager.destroy(),e.managerPromise=new Promise(function(t){e.on("loaded",t),e.player.debug.log(e.manager)}),e.requestAds()}).catch(function(){})}},{key:"trigger",value:function(t){for(var e=this,i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var s=this.events[t];f.array(s)&&s.forEach(function(t){f.function(t)&&t.apply(e,n)})}},{key:"on",value:function(t,e){return f.array(this.events[t])||(this.events[t]=[]),this.events[t].push(e),this}},{key:"startSafetyTimer",value:function(t,e){var i=this;this.player.debug.log("Safety timer invoked from: ".concat(e)),this.safetyTimer=setTimeout(function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")},t)}},{key:"clearSafetyTimer",value:function(t){f.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(t)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.ads.enabled&&!f.empty(this.publisherId)}},{key:"tagUrl",get:function(){var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(dt(t))}}]),e}(),Ft={insertElements:function(e,t){var i=this;f.string(t)?T(e,this.media,{src:t}):f.array(t)&&t.forEach(function(t){T(e,i.media,t)})},change:function(l){var c=this;Q(l,"sources.length")?(U.cancelRequests.call(this),this.destroy.call(this,function(){c.options.quality=[],E(c.media),c.media=null,f.element(c.elements.container)&&c.elements.container.removeAttribute("class");var t=l.sources,e=l.type,i=p(t,1)[0],n=i.provider,o=void 0===n?ft.html5:n,s=i.src,r="html5"===o?e:"div",a="html5"===o?{}:{src:s};Object.assign(c,{provider:o,type:e,supported:z.check(e,o,c.config.playsinline),media:C(r,a)}),c.elements.container.appendChild(c.media),f.boolean(l.autoplay)&&(c.config.autoplay=l.autoplay),c.isHTML5&&(c.config.crossorigin&&c.media.setAttribute("crossorigin",""),c.config.autoplay&&c.media.setAttribute("autoplay",""),f.empty(l.poster)||(c.poster=l.poster),c.config.loop.active&&c.media.setAttribute("loop",""),c.config.muted&&c.media.setAttribute("muted",""),c.config.playsinline&&c.media.setAttribute("playsinline","")),Ct.addStyleHook.call(c),c.isHTML5&&Ft.insertElements.call(c,"source",t),c.config.title=l.title,Mt.setup.call(c),c.isHTML5&&("tracks"in l&&Ft.insertElements.call(c,"track",l.tracks),c.media.load()),(c.isHTML5||c.isEmbed&&!c.supported.ui)&&Ct.build.call(c),c.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}},jt=function(){function l(t,e){var i=this;if(c(this,l),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=z.touch,this.media=t,f.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||f.nodeList(this.media)||f.array(this.media))&&(this.media=this.media[0]),this.config=X({},pt,l.defaults,e||{},function(){try{return JSON.parse(i.media.getAttribute("data-plyr-config"))}catch(t){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new yt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",z),!f.nullOrUndefined(this.media)&&f.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(z.check().api){var n=this.media.cloneNode(!0);n.autoplay=!1,this.elements.original=n;var o=this.media.tagName.toLowerCase(),s=null,r=null;switch(o){case"div":if(s=this.media.querySelector("iframe"),f.element(s)){if(r=ut(s.getAttribute("src")),this.provider=function(t){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(t)?ft.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?ft.vimeo:null}(r.toString()),this.elements.container=this.media,this.media=s,this.elements.container.className="",r.search.length){var a=["1","true"];a.includes(r.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(r.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(r.searchParams.get("playsinline")),this.config.hl=r.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(f.empty(this.provider)||!Object.keys(ft).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=gt;break;case"video":case"audio":this.type=o,this.provider=ft.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=z.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new Tt(this),this.storage=new it(this),this.media.plyr=this,f.element(this.elements.container)||(this.elements.container=C("div"),k(this.media,this.elements.container)),Ct.addStyleHook.call(this),Mt.setup.call(this),this.config.debug&&v.call(this,this.elements.container,this.config.events.join(" "),function(t){i.debug.log("event: ".concat(t.type))}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Ct.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new kt(this),this.config.ads.enabled&&(this.ads=new It(this)),this.config.autoplay&&this.play(),this.lastSeekTime=0):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return t(l,[{key:"play",value:function(){return f.function(this.media.play)?this.media.play():null}},{key:"pause",value:function(){this.playing&&f.function(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(t){(f.boolean(t)?t:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):f.function(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(t){this.currentTime=this.currentTime-(f.number(t)?t:this.config.seekTime)}},{key:"forward",value:function(t){this.currentTime=this.currentTime+(f.number(t)?t:this.config.seekTime)}},{key:"increaseVolume",value:function(t){var e=this.media.muted?0:this.volume;this.volume=e+(f.number(t)?t:0)}},{key:"decreaseVolume",value:function(t){this.increaseVolume(-t)}},{key:"toggleCaptions",value:function(t){ht.toggle.call(this,t,!1)}},{key:"airplay",value:function(){z.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(t){if(!this.supported.ui||this.isAudio)return!1;var e=L(this.elements.container,this.config.classNames.hideControls),i=void 0===t?void 0:!t,n=N(this.elements.container,this.config.classNames.hideControls,i);if(n&&this.config.controls.includes("settings")&&!f.empty(this.config.settings)&&ct.toggleMenu.call(this,!1),n!==e){var o=n?"controlshidden":"controlsshown";w.call(this,this.media,o)}return!n}},{key:"on",value:function(t,e){v.call(this,this.elements.container,t,e)}},{key:"once",value:function(t,e){b.call(this,this.elements.container,t,e)}},{key:"off",value:function(t,e){y(this.elements.container,t,e)}},{key:"destroy",value:function(t,e){var i=this,n=1<arguments.length&&void 0!==e&&e;if(this.ready){var o=function(){document.body.style.overflow="",i.embed=null,n?(Object.keys(i.elements).length&&(E(i.elements.buttons.play),E(i.elements.captions),E(i.elements.controls),E(i.elements.wrapper),i.elements.buttons.play=null,i.elements.captions=null,i.elements.controls=null,i.elements.wrapper=null),f.function(t)&&t()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(function(t){var e=t.element,i=t.type,n=t.callback,o=t.options;e.removeEventListener(i,n,o)}),this.eventListeners=[])}.call(i),A(i.elements.original,i.elements.container),w.call(i,i.elements.original,"destroyed",!0),f.function(t)&&t.call(i.elements.original),i.ready=!1,setTimeout(function(){i.elements=null,i.media=null},200))};this.stop(),this.isHTML5?(clearTimeout(this.timers.loading),Ct.toggleNativeControls.call(this,!0),o()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&f.function(this.embed.destroy)&&this.embed.destroy(),o()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(o),setTimeout(o,200))}}},{key:"supports",value:function(t){return z.mime.call(this,t)}},{key:"isHTML5",get:function(){return Boolean(this.provider===ft.html5)}},{key:"isEmbed",get:function(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return Boolean(this.provider===ft.youtube)}},{key:"isVimeo",get:function(){return Boolean(this.provider===ft.vimeo)}},{key:"isVideo",get:function(){return Boolean(this.type===gt)}},{key:"isAudio",get:function(){return Boolean(this.type===mt)}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(t){if(this.duration){var e=f.number(t)&&0<t;this.media.currentTime=e?Math.min(t,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var t=this.media.buffered;return f.number(t)?t:t&&t.length&&0<this.duration?t.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var t=parseFloat(this.config.duration),e=(this.media||{}).duration,i=f.number(e)&&e!==1/0?e:0;return t||i}},{key:"volume",set:function(t){var e=t;f.string(e)&&(e=Number(e)),f.number(e)||(e=this.storage.get("volume")),f.number(e)||(e=this.config.volume),1<e&&(e=1),e<0&&(e=0),this.config.volume=e,this.media.volume=e,!f.empty(t)&&this.muted&&0<e&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(t){var e=t;f.boolean(e)||(e=this.storage.get("muted")),f.boolean(e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||(!!this.isAudio||(Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)))}},{key:"speed",set:function(t){var e=null;f.number(t)&&(e=t),f.number(e)||(e=this.storage.get("speed")),f.number(e)||(e=this.config.speed.selected),e<.1&&(e=.1),2<e&&(e=2),this.config.speed.options.includes(e)?(this.config.speed.selected=e,this.media.playbackRate=e):this.debug.warn("Unsupported speed (".concat(e,")"))},get:function(){return Number(this.media.playbackRate)}},{key:"quality",set:function(t){var e=this.config.quality,i=this.options.quality;if(i.length){var n=[!f.empty(t)&&Number(t),this.storage.get("quality"),e.selected,e.default].find(f.number);if(!i.includes(n)){var o=function(t,i){return f.array(t)&&t.length?t.reduce(function(t,e){return Math.abs(e-i)<Math.abs(t-i)?e:t}):null}(i,n);this.debug.warn("Unsupported quality option: ".concat(n,", using ").concat(o," instead")),n=o}e.selected=n,this.media.quality=n}},get:function(){return this.media.quality}},{key:"loop",set:function(t){var e=f.boolean(t)?t:this.config.loop.active;this.config.loop.active=e,this.media.loop=e},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(t){Ft.change.call(this,t)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var t=this.config.urls.download;return f.url(t)?t:this.source}},{key:"poster",set:function(t){this.isVideo?Ct.setPoster.call(this,t,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"autoplay",set:function(t){var e=f.boolean(t)?t:this.config.autoplay;this.config.autoplay=e},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(t){ht.set.call(this,t,!1)},get:function(){var t=this.captions,e=t.toggled,i=t.currentTrack;return e?i:-1}},{key:"language",set:function(t){ht.setLanguage.call(this,t,!1)},get:function(){return(ht.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(t){var e="picture-in-picture",i="inline";if(z.pip){var n=f.boolean(t)?t:this.pip===i;this.media.webkitSetPresentationMode(n?e:i)}},get:function(){return z.pip?this.media.webkitPresentationMode:null}}],[{key:"supported",value:function(t,e,i){return z.check(t,e,i)}},{key:"loadSprite",value:function(t,e){return ot(t,e)}},{key:"setup",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:{},n=null;return f.string(t)?n=Array.from(document.querySelectorAll(t)):f.nodeList(t)?n=Array.from(t):f.array(t)&&(n=t.filter(f.element)),f.empty(n)?null:n.map(function(t){return new l(t,i)})}}]),l}();return jt.defaults=(Lt=pt,JSON.parse(JSON.stringify(Lt))),jt}),function(a){"use strict";function o(t,e){this.options=a.extend({},a.fn.affix.defaults,e),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(t),this.checkPosition()}o.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,e=a(document).height(),i=this.$window.scrollTop(),n=this.$element.offset(),o=this.options.offset,s=o.bottom,r=o.top;"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top()),"function"==typeof s&&(s=o.bottom()),t=!(null!=this.unpin&&i+this.unpin<=n.top)&&(null!=s&&n.top+this.$element.height()>=e-s?"bottom":null!=r&&i<=r&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?n.top-i:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var t=a.fn.affix;a.fn.affix=function(n){return this.each(function(){var t=a(this),e=t.data("affix"),i="object"==typeof n&&n;e||t.data("affix",e=new o(this,i)),"string"==typeof n&&e[n]()})},a.fn.affix.Constructor=o,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=t,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var t=a(this),e=t.data();e.offset=e.offset||{},e.offsetBottom&&(e.offset.bottom=e.offsetBottom),e.offsetTop&&(e.offset.top=e.offsetTop),t.affix(e)})})}(window.jQuery),function(s){"use strict";function n(t){s(t).on("click",e,this.close)}var e='[data-dismiss="alert"]';n.prototype.close=function(t){var e,i=s(this),n=i.attr("data-target");function o(){e.trigger("closed").remove()}n=n||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,""),e=s(n),t&&t.preventDefault(),e.length||(e=i.hasClass("alert")?i:i.parent()),e.trigger(t=s.Event("close")),t.isDefaultPrevented()||(e.removeClass("in"),s.support.transition&&e.hasClass("fade")?e.on(s.support.transition.end,o):o())};var t=s.fn.alert;s.fn.alert=function(i){return this.each(function(){var t=s(this),e=t.data("alert");e||t.data("alert",e=new n(this)),"string"==typeof i&&e[i].call(t)})},s.fn.alert.Constructor=n,s.fn.alert.noConflict=function(){return s.fn.alert=t,this},s(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),function(o){"use strict";function s(t,e){this.$element=o(t),this.options=o.extend({},o.fn.button.defaults,e)}s.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),o=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[o]()),i[o](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},s.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=function(n){return this.each(function(){var t=o(this),e=t.data("button"),i="object"==typeof n&&n;e||t.data("button",e=new s(this,i)),"toggle"==n?e.toggle():n&&e.setState(n)})},o.fn.button.defaults={loadingText:"loading..."},o.fn.button.Constructor=s,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.button.data-api","[data-toggle^=button]",function(t){var e=o(t.target);e.hasClass("btn")||(e=e.closest(".btn")),e.button("toggle")})}(window.jQuery),function(c){"use strict";function s(t,e){this.$element=c(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,"hover"==this.options.pause&&this.$element.on("mouseenter",c.proxy(this.pause,this)).on("mouseleave",c.proxy(this.cycle,this))}s.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var e=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid",function(){i.to(t)}):e==t?this.pause().cycle():this.slide(e<t?"next":"prev",c(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&c.support.transition.end&&(this.$element.trigger(c.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,e){var i,n=this.$element.find(".item.active"),o=e||n[t](),s=this.interval,r="next"==t?"left":"right",a="next"==t?"first":"last",l=this;if(this.sliding=!0,s&&this.pause(),o=o.length?o:this.$element.find(".item")[a](),i=c.Event("slide",{relatedTarget:o[0],direction:r}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=c(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),c.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,n.addClass(r),o.addClass(r),this.$element.one(c.support.transition.end,function(){o.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var t=c.fn.carousel;c.fn.carousel=function(o){return this.each(function(){var t=c(this),e=t.data("carousel"),i=c.extend({},c.fn.carousel.defaults,"object"==typeof o&&o),n="string"==typeof o?o:i.slide;e||t.data("carousel",e=new s(this,i)),"number"==typeof o?e.to(o):n?e[n]():i.interval&&e.pause().cycle()})},c.fn.carousel.defaults={interval:5e3,pause:"hover"},c.fn.carousel.Constructor=s,c.fn.carousel.noConflict=function(){return c.fn.carousel=t,this},c(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var e,i,n=c(this),o=c(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),s=c.extend({},o.data(),n.data());o.carousel(s),(i=n.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),function(s){"use strict";function o(t,e){this.$element=s(t),this.options=s.extend({},s.fn.collapse.defaults,e),this.options.parent&&(this.$parent=s(this.options.parent)),this.options.toggle&&this.toggle()}o.prototype={constructor:o,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var t,e,i,n;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),e=s.camelCase(["scroll",t].join("-")),(i=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&i.length){if((n=i.data("collapse"))&&n.transitioning)return;i.collapse("hide"),n||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",s.Event("show"),"shown"),s.support.transition&&this.$element[t](this.$element[0][e])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",s.Event("hide"),"hidden"),this.$element[t](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(t,e,i){function n(){"show"==e.type&&o.reset(),o.transitioning=0,o.$element.trigger(i)}var o=this;this.$element.trigger(e),e.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),s.support.transition&&this.$element.hasClass("collapse")?this.$element.one(s.support.transition.end,n):n())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var t=s.fn.collapse;s.fn.collapse=function(n){return this.each(function(){var t=s(this),e=t.data("collapse"),i=s.extend({},s.fn.collapse.defaults,t.data(),"object"==typeof n&&n);e||t.data("collapse",e=new o(this,i)),"string"==typeof n&&e[n]()})},s.fn.collapse.defaults={toggle:!0},s.fn.collapse.Constructor=o,s.fn.collapse.noConflict=function(){return s.fn.collapse=t,this},s(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var e,i=s(this),n=i.attr("data-target")||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),o=s(n).data("collapse")?"toggle":i.data();i[s(n).hasClass("in")?"addClass":"removeClass"]("collapsed"),s(n).collapse(o)})}(window.jQuery),function(r){"use strict";function n(t){var e=r(t).on("click.dropdown.data-api",this.toggle);r("html").on("click.dropdown.data-api",function(){e.parent().removeClass("open")})}var a="[data-toggle=dropdown]";function o(){r(".dropdown-backdrop").remove(),r(a).each(function(){l(r(this)).removeClass("open")})}function l(t){var e,i=t.attr("data-target");return(e=(i=i||(i=t.attr("href"))&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""))&&r(i))&&e.length||(e=t.parent()),e}n.prototype={constructor:n,toggle:function(t){var e,i,n=r(this);if(!n.is(".disabled, :disabled"))return i=(e=l(n)).hasClass("open"),o(),i||("ontouchstart"in document.documentElement&&r('<div class="dropdown-backdrop"/>').insertBefore(r(this)).on("click",o),e.toggleClass("open")),n.focus(),!1},keydown:function(t){var e,i,n,o,s;if(/(38|40|27)/.test(t.keyCode)&&(e=r(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(!(o=(n=l(e)).hasClass("open"))||o&&27==t.keyCode)return 27==t.which&&n.find(a).focus(),e.click();(i=r("[role=menu] li:not(.divider):visible a",n)).length&&(s=i.index(i.filter(":focus")),38==t.keyCode&&0<s&&s--,40==t.keyCode&&s<i.length-1&&s++,~s||(s=0),i.eq(s).focus())}}};var t=r.fn.dropdown;r.fn.dropdown=function(i){return this.each(function(){var t=r(this),e=t.data("dropdown");e||t.data("dropdown",e=new n(this)),"string"==typeof i&&e[i].call(t)})},r.fn.dropdown.Constructor=n,r.fn.dropdown.noConflict=function(){return r.fn.dropdown=t,this},r(document).on("click.dropdown.data-api",o).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",a,n.prototype.toggle).on("keydown.dropdown.data-api",a+", [role=menu]",n.prototype.keydown)}(window.jQuery),function(s){"use strict";function o(t,e){this.options=e,this.$element=s(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",s.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)}o.prototype={constructor:o,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,t=s.Event("show");this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var t=s.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),t&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),t?e.$element.one(s.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=s.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),s(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),s.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;s(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,e=setTimeout(function(){t.$element.off(s.support.transition.end),t.hideModal()},500);this.$element.one(s.support.transition.end,function(){clearTimeout(e),t.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=s.support.transition&&e;if(this.$backdrop=s('<div class="modal-backdrop '+e+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?s.proxy(this.$element[0].focus,this.$element[0]):s.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(s.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(s.support.transition.end,t):t()):t&&t()}};var t=s.fn.modal;s.fn.modal=function(n){return this.each(function(){var t=s(this),e=t.data("modal"),i=s.extend({},s.fn.modal.defaults,t.data(),"object"==typeof n&&n);e||t.data("modal",e=new o(this,i)),"string"==typeof n?e[n]():i.show&&e.show()})},s.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},s.fn.modal.Constructor=o,s.fn.modal.noConflict=function(){return s.fn.modal=t,this},s(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var e=s(this),i=e.attr("href"),n=s(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("modal")?"toggle":s.extend({remote:!/#/.test(i)&&i},n.data(),e.data());t.preventDefault(),n.modal(o).one("hide",function(){e.focus()})})}(window.jQuery),function(s){"use strict";function o(t,e){var i,n=s.proxy(this.process,this),o=s(t).is("body")?s(window):s(t);this.options=s.extend({},s.fn.scrollspy.defaults,e),this.$scrollElement=o.on("scroll.scroll-spy.data-api",n),this.selector=(this.options.target||(i=s(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=s("body"),this.refresh(),this.process()}o.prototype={constructor:o,refresh:function(){var n=this;this.offsets=s([]),this.targets=s([]),this.$body.find(this.selector).map(function(){var t=s(this),e=t.data("target")||t.attr("href"),i=/^#\w/.test(e)&&s(e);return i&&i.length&&[[i.position().top+(!s.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),n=this.offsets,o=this.targets,s=this.activeTarget;if(i<=e)return s!=(t=o.last()[0])&&this.activate(t);for(t=n.length;t--;)s!=o[t]&&e>=n[t]&&(!n[t+1]||e<=n[t+1])&&this.activate(o[t])},activate:function(t){var e,i;this.activeTarget=t,s(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',(e=s(i).parent("li").addClass("active")).parent(".dropdown-menu").length&&(e=e.closest("li.dropdown").addClass("active")),e.trigger("activate")}};var t=s.fn.scrollspy;s.fn.scrollspy=function(n){return this.each(function(){var t=s(this),e=t.data("scrollspy"),i="object"==typeof n&&n;e||t.data("scrollspy",e=new o(this,i)),"string"==typeof n&&e[n]()})},s.fn.scrollspy.Constructor=o,s.fn.scrollspy.defaults={offset:10},s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=t,this},s(window).on("load",function(){s('[data-spy="scroll"]').each(function(){var t=s(this);t.scrollspy(t.data())})})}(window.jQuery),function(r){"use strict";function n(t){this.element=r(t)}n.prototype={constructor:n,show:function(){var t,e,i,n=this.element,o=n.closest("ul:not(.dropdown-menu)"),s=n.attr("data-target");s=s||(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,""),n.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],i=r.Event("show",{relatedTarget:t}),n.trigger(i),i.isDefaultPrevented()||(e=r(s),this.activate(n.parent("li"),o),this.activate(e,e.parent(),function(){n.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,e,i){var n=e.find("> .active"),o=i&&r.support.transition&&n.hasClass("fade");function s(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}o?n.one(r.support.transition.end,s):s(),n.removeClass("in")}};var t=r.fn.tab;r.fn.tab=function(i){return this.each(function(){var t=r(this),e=t.data("tab");e||t.data("tab",e=new n(this)),"string"==typeof i&&e[i]()})},r.fn.tab.Constructor=n,r.fn.tab.noConflict=function(){return r.fn.tab=t,this},r(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),r(this).tab("show")})}(window.jQuery),function(l){"use strict";function o(t,e){this.init("tooltip",t,e)}o.prototype={constructor:o,init:function(t,e,i){var n,o,s,r,a;for(this.type=t,this.$element=l(e),this.options=this.getOptions(i),this.enabled=!0,a=(s=this.options.trigger.split(" ")).length;a--;)"click"==(r=s[a])?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=r&&(n="hover"==r?"mouseenter":"focus",o="hover"==r?"mouseleave":"blur",this.$element.on(n+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,l.proxy(this.leave,this)));this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return(t=l.extend({},l.fn[this.type].defaults,this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var e,i=l.fn[this.type].defaults,n={};if(this._options&&l.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)},this),!(e=l(t.currentTarget)[this.type](n).data(this.type)).options.delay||!e.options.delay.show)return e.show();clearTimeout(this.timeout),e.hoverState="in",this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)},leave:function(t){var e=l(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!e.options.delay||!e.options.delay.hide)return e.hide();e.hoverState="out",this.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},show:function(){var t,e,i,n,o,s,r=l.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(r),r.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),e=this.getPosition(),i=t[0].offsetWidth,n=t[0].offsetHeight,o){case"bottom":s={top:e.top+e.height,left:e.left+e.width/2-i/2};break;case"top":s={top:e.top-n,left:e.left+e.width/2-i/2};break;case"left":s={top:e.top+e.height/2-n/2,left:e.left-i};break;case"right":s={top:e.top+e.height/2-n/2,left:e.left+e.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var i,n,o,s,r=this.tip(),a=r[0].offsetWidth,l=r[0].offsetHeight;r.offset(t).addClass(e).addClass("in"),i=r[0].offsetWidth,n=r[0].offsetHeight,"top"==e&&n!=l&&(t.top=t.top+l-n,s=!0),"bottom"==e||"top"==e?(o=0,t.left<0&&(o=-2*t.left,t.left=0,r.offset(t),i=r[0].offsetWidth,n=r[0].offsetHeight),this.replaceArrow(o-a+i,i,"left")):this.replaceArrow(n-l,n,"top"),s&&r.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var t,e=this.tip(),i=l.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return e.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?(t=setTimeout(function(){e.off(l.support.transition.end).detach()},500),e.one(l.support.transition.end,function(){clearTimeout(t),e.detach()})):e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;!t.attr("title")&&"string"==typeof t.attr("data-original-title")||t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return l.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||l(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var e=t?l(t.currentTarget)[this.type](this._options).data(this.type):this;e.tip().hasClass("in")?e.hide():e.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var t=l.fn.tooltip;l.fn.tooltip=function(n){return this.each(function(){var t=l(this),e=t.data("tooltip"),i="object"==typeof n&&n;e||t.data("tooltip",e=new o(this,i)),"string"==typeof n&&e[n]()})},l.fn.tooltip.Constructor=o,l.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},l.fn.tooltip.noConflict=function(){return l.fn.tooltip=t,this}}(window.jQuery),function(o){"use strict";function s(t,e){this.init("popover",t,e)}s.prototype=o.extend({},o.fn.tooltip.Constructor.prototype,{constructor:s,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t=this.$element,e=this.options;return("function"==typeof e.content?e.content.call(t[0]):e.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=o(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var t=o.fn.popover;o.fn.popover=function(n){return this.each(function(){var t=o(this),e=t.data("popover"),i="object"==typeof n&&n;e||t.data("popover",e=new s(this,i)),"string"==typeof n&&e[n]()})},o.fn.popover.Constructor=s,o.fn.popover.defaults=o.extend({},o.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.fn.popover.noConflict=function(){return o.fn.popover=t,this}}(window.jQuery),function(e){"use strict";e(function(){var t;e.support.transition=(t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}())&&{end:t}})}(window.jQuery),function(o){"use strict";function s(t,e){this.$element=o(t),this.options=o.extend({},o.fn.typeahead.defaults,e),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=o(this.options.menu),this.shown=!1,this.listen()}s.prototype={constructor:s,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var t=o.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=o.isFunction(this.source)?this.source(this.query,o.proxy(this.process,this)):this.source)?this.process(e):this},process:function(t){var e=this;return t=o.grep(t,function(t){return e.matcher(t)}),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],o=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):o.push(e):i.push(e);return i.concat(n,o)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(t){var i=this;return(t=o(t).map(function(t,e){return(t=o(i.options.item).attr("data-value",e)).find("a").html(i.highlighter(e)),t[0]})).first().addClass("active"),this.$menu.html(t),this},next:function(t){var e=this.$menu.find(".active").removeClass("active").next();e.length||(e=o(this.$menu.find("li")[0])),e.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active").prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",o.proxy(this.focus,this)).on("blur",o.proxy(this.blur,this)).on("keypress",o.proxy(this.keypress,this)).on("keyup",o.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",o.proxy(this.keydown,this)),this.$menu.on("click",o.proxy(this.click,this)).on("mouseenter","li",o.proxy(this.mouseenter,this)).on("mouseleave","li",o.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~o.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),o(t.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var t=o.fn.typeahead;o.fn.typeahead=function(n){return this.each(function(){var t=o(this),e=t.data("typeahead"),i="object"==typeof n&&n;e||t.data("typeahead",e=new s(this,i)),"string"==typeof n&&e[n]()})},o.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},o.fn.typeahead.Constructor=s,o.fn.typeahead.noConflict=function(){return o.fn.typeahead=t,this},o(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var e=o(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),function(g){"use strict";g.fn.cleanHtml=function(t){if(!0===g(this).data("wysiwyg-html-mode")&&(g(this).html(g(this).text()),g(this).attr("contenteditable",!0),g(this).data("wysiwyg-html-mode",!1)),!0===t&&g(this).parent().is("form")){var e=g(this).html;if(g(e).has("img").length){var i=g("img",g(e)),n=[],o=g(this).parent();g.each(i,function(t,e){g(e).attr("src").match(/^data:image\/.*$/)&&(n.push(i[t]),g(o).prepend("<input value='"+g(e).attr("src")+"' type='hidden' name='postedimage/"+t+"' />"),g(e).attr("src","postedimage/"+t))})}}var s=g(this).html();return s&&s.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"")},g.fn.wysiwyg=function(t){function r(){c.activeToolbarClass&&g(c.toolbarSelector,m).find(u).each(function(i,n){function o(){c=new Date,a=null,l=i.apply(s,r)}var s,r,a,l,c=0;return function(){var t=new Date,e=n-(t-c);return s=this,r=arguments,e<=0?(clearTimeout(a),a=null,c=t,l=i.apply(s,r)):a=a||setTimeout(o,e),l}}(function(){var t=g(this).data(c.commandRole).split(" "),e=t[0];1<t.length&&document.queryCommandEnabled(e)&&document.queryCommandValue(e)==t[1]?g(this).addClass(c.activeToolbarClass):1===t.length&&document.queryCommandEnabled(e)&&document.queryCommandState(e)?g(this).addClass(c.activeToolbarClass):g(this).removeClass(c.activeToolbarClass)},c.keypressTimeout))}function i(t,e){var i=t.split(" "),n=i.shift(),o=i.join(" ")+(e||""),s=t.split("-");1==s.length?document.execCommand(n,0,o):"format"==s[0]&&2==s.length&&document.execCommand("formatBlock",!1,s[1]),f.trigger("change"),r()}function n(){var t,e;return window.getSelection?(t=window.getSelection()).getRangeAt&&t.rangeCount&&(e=t.getRangeAt(0)):document.selection&&(e=document.selection.createRange()),e}function o(){l=n()}function s(){var t;if(window.getSelection||document.createRange){if(t=window.getSelection(),l){try{t.removeAllRanges()}catch(t){document.body.createTextRange().select(),document.selection.empty()}t.addRange(l)}}else document.selection&&l&&l.select()}function a(t){f.focus(),g.each(t,function(t,e){/^image\//.test(e.type)?g.when(function(t){var e=g.Deferred(),i=new FileReader;return i.onload=function(t){e.resolve(t.target.result)},i.onerror=e.reject,i.onprogress=e.notify,i.readAsDataURL(t),e.promise()}(e)).done(function(t){i("insertimage",t),f.trigger("image-inserted")}).fail(function(t){c.fileUploadError("file-reader",t)}):c.fileUploadError("unsupported-file-type",e.type)})}function e(t,e){s(),document.queryCommandSupported("hiliteColor")&&document.execCommand("hiliteColor",0,e||"transparent"),o(),t.data(c.selectionMarker,e)}var l,c,u,d,h,p,f=this,m=g(f).parent();return c=g.extend(!0,{},g.fn.wysiwyg.defaults,t),u="a[data-"+c.commandRole+"],button[data-"+c.commandRole+"],input[type=button][data-"+c.commandRole+"]",d=c.hotKeys,g.each(d,function(t,e){f.keydown(t,function(t){f.attr("contenteditable")&&f.is(":visible")&&(t.preventDefault(),t.stopPropagation(),i(e))}).keyup(t,function(t){f.attr("contenteditable")&&f.is(":visible")&&(t.preventDefault(),t.stopPropagation())})}),f.keyup(function(){f.trigger("change")}),""!=g(this).attr("placeholder")&&(g(this).addClass("placeholderText"),g(this).html(g(this).attr("placeholder")),g(this).bind("focus",function(t){""!=g(this).attr("placeholder")&&g(this).text()==g(this).attr("placeholder")&&(g(this).removeClass("placeholderText"),g(this).html(""))}),g(this).bind("blur",function(t){""!=g(this).attr("placeholder")&&""==g(this).text()&&(g(this).addClass("placeholderText"),g(this).html(g(this).attr("placeholder")))})),c.dragAndDropImages&&f.on("dragenter dragover",!1).on("drop",function(t){var e=t.originalEvent.dataTransfer;t.stopPropagation(),t.preventDefault(),e&&e.files&&0<e.files.length&&a(e.files)}),h=g(c.toolbarSelector),p=c,h.find(u,m).click(function(){s(),f.focus(),"html"===g(this).data(p.commandRole)?function(){if(!0!==g(f).data("wysiwyg-html-mode")){var t=g(f).html(),e=g("<pre />");g(e).append(document.createTextNode(t)),g(e).attr("contenteditable",!0),g(f).html(" "),g(f).append(g(e)),g(f).attr("contenteditable",!1),g(f).data("wysiwyg-html-mode",!0),g(e).focus()}else g(f).html(g(f).text()),g(f).attr("contenteditable",!0),g(f).data("wysiwyg-html-mode",!1),g(f).focus()}():i(g(this).data(p.commandRole)),o()}),h.find("[data-toggle=dropdown]").click(s),h.find("input[type=text][data-"+p.commandRole+"]").on("webkitspeechchange change",function(){var t=this.value;this.value="",s(),t&&(f.focus(),i(g(this).data(p.commandRole),t)),o()}).on("focus",function(){var t=g(this);t.data(p.selectionMarker)||(e(t,p.selectionColor),t.focus())}).on("blur",function(){var t=g(this);t.data(p.selectionMarker)&&e(t,!1)}),h.find("input[type=file][data-"+p.commandRole+"]").change(function(){s(),"file"===this.type&&this.files&&0<this.files.length&&a(this.files),o(),this.value=""}),f.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){o(),r()}),g(window).bind("touchend",function(t){var e=f.is(t.target)||0<f.has(t.target).length,i=n();i&&i.startContainer===i.endContainer&&i.startOffset===i.endOffset&&!e||(o(),r())}),this},g.fn.wysiwyg.defaults={hotKeys:{"Ctrl+b meta+b":"bold","Ctrl+i meta+i":"italic","Ctrl+u meta+u":"underline","Ctrl+z":"undo","Ctrl+y meta+y meta+shift+z":"redo","Ctrl+l meta+l":"justifyleft","Ctrl+r meta+r":"justifyright","Ctrl+e meta+e":"justifycenter","Ctrl+j meta+j":"justifyfull","Shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,keypressTimeout:200,fileUploadError:function(t,e){console.log("File upload error",t,e)}}}(window.jQuery),function(u){function t(t){if("string"==typeof t.data){var a=t.handler,l=t.data.toLowerCase().split(" "),c=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color"];t.handler=function(t){if(this===t.target||!(/textarea|select/i.test(t.target.nodeName)||-1<u.inArray(t.target.type,c))){var e="keypress"!==t.type&&u.hotkeys.specialKeys[t.which],i=String.fromCharCode(t.which).toLowerCase(),n="",o={};t.altKey&&"alt"!==e&&(n+="alt+"),t.ctrlKey&&"ctrl"!==e&&(n+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==e&&(n+="meta+"),t.shiftKey&&"shift"!==e&&(n+="shift+"),e?o[n+e]=!0:(o[n+i]=!0,o[n+u.hotkeys.shiftNums[i]]=!0,"shift+"===n&&(o[u.hotkeys.shiftNums[i]]=!0));for(var s=0,r=l.length;s<r;s++)if(o[l[s]])return a.apply(this,arguments)}}}}u.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},u.each(["keydown","keyup","keypress"],function(){u.event.special[this]={add:t}})}(jQuery),function(){var r,t,e,i,d,h,n,o,O,H,a=[].slice,s={}.hasOwnProperty;function l(){}function q(t,e){var i,n,o;if(this.element=t,this.version=q.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(q.instances.push(this),this.element.dropzone=this,i=null!=(o=q.optionsForElement(this.element))?o:{},this.options=O({},this.defaultOptions,i,null!=e?e:{}),this.options.forceFallback||!q.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(n=this.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=q.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=q.getElements(this.options.clickable,"clickable")),this.init()}n=function(){},l.prototype.addEventListener=l.prototype.on,l.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},l.prototype.emit=function(){var t,e,i,n,o;if(i=arguments[0],t=2<=arguments.length?a.call(arguments,1):[],this._callbacks=this._callbacks||{},e=this._callbacks[i])for(n=0,o=e.length;n<o;n++)e[n].apply(this,t);return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=l.prototype.off,l.prototype.removeEventListener=l.prototype.off,l.prototype.off=function(t,e){var i,n,o,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(n=o=0,s=i.length;o<s;n=++o)if(i[n]===e){i.splice(n,1);break}return this},function(t,e){for(var i in e)s.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(q,t=l),q.prototype.Emitter=t,q.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],q.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return n},forceFallback:!1,fallback:function(){var t,e,i,n,o,s;for(this.element.className=this.element.className+" dz-browser-not-supported",n=0,o=(s=this.element.getElementsByTagName("div")).length;n<o;n++)t=s[n],/(^| )dz-message($| )/.test(t.className)&&((e=t).className="dz-message");return e||(e=q.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),(i=e.getElementsByTagName("span")[0])&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),n=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):n<i?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*n):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/n),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:n,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,n,o,s,r,a,l,c,u,d,h,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=q.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),n=0,r=(c=e.previewElement.querySelectorAll("[data-dz-name]")).length;n<r;n++)c[n].textContent=e.name;for(o=0,a=(u=e.previewElement.querySelectorAll("[data-dz-size]")).length;o<a;o++)u[o].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=q.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),p=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===q.UPLOADING?q.confirm(p.options.dictCancelUploadConfirmation,function(){return p.removeFile(e)}):p.options.dictRemoveFileConfirmation?q.confirm(p.options.dictRemoveFileConfirmation,function(){return p.removeFile(e)}):p.removeFile(e)},h=[],s=0,l=(d=e.previewElement.querySelectorAll("[data-dz-remove]")).length;s<l;s++)i=d[s],h.push(i.addEventListener("click",t));return h}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,o,s;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),n=0,o=(s=t.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<o;n++)(i=s[n]).alt=t.name,i.src=e;return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function(t,e){var i,n,o,s,r;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),r=[],n=0,o=(s=t.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<o;n++)i=s[n],r.push(i.textContent=e);return r}},errormultiple:n,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:n,uploadprogress:function(t,e,i){var n,o,s,r,a;if(t.previewElement){for(a=[],o=0,s=(r=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;o<s;o++)"PROGRESS"===(n=r[o]).nodeName?a.push(n.value=e):a.push(n.style.width=e+"%");return a}},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:n,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:n,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:n,maxfilesexceeded:n,maxfilesreached:n,queuecomplete:n,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},O=function(){var t,e,i,n,o,s,r;for(n=arguments[0],s=0,r=(i=2<=arguments.length?a.call(arguments,1):[]).length;s<r;s++)for(t in e=i[s])o=e[t],n[t]=o;return n},q.prototype.getAcceptedFiles=function(){var t,e,i,n,o;for(o=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).accepted&&o.push(t);return o},q.prototype.getRejectedFiles=function(){var t,e,i,n,o;for(o=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).accepted||o.push(t);return o},q.prototype.getFilesWithStatus=function(t){var e,i,n,o,s;for(s=[],i=0,n=(o=this.files).length;i<n;i++)(e=o[i]).status===t&&s.push(e);return s},q.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(q.QUEUED)},q.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(q.UPLOADING)},q.prototype.getActiveFiles=function(){var t,e,i,n,o;for(o=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).status!==q.UPLOADING&&t.status!==q.QUEUED||o.push(t);return o},q.prototype.init=function(){var t,i,o,e,n,s,r,a,l,c,u,d,h,p,f,m,g,v,y;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(q.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(a=this,(o=function(){return a.hiddenFileInput&&document.body.removeChild(a.hiddenFileInput),a.hiddenFileInput=document.createElement("input"),a.hiddenFileInput.setAttribute("type","file"),(null==a.options.maxFiles||1<a.options.maxFiles)&&a.hiddenFileInput.setAttribute("multiple","multiple"),a.hiddenFileInput.className="dz-hidden-input",null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles),null!=a.options.capture&&a.hiddenFileInput.setAttribute("capture",a.options.capture),a.hiddenFileInput.style.visibility="hidden",a.hiddenFileInput.style.position="absolute",a.hiddenFileInput.style.top="0",a.hiddenFileInput.style.left="0",a.hiddenFileInput.style.height="0",a.hiddenFileInput.style.width="0",document.body.appendChild(a.hiddenFileInput),a.hiddenFileInput.addEventListener("change",function(){var t,e,i,n;if((e=a.hiddenFileInput.files).length)for(i=0,n=e.length;i<n;i++)t=e[i],a.addFile(t);return o()})})()),this.URL=null!=(s=window.URL)?s:window.webkitURL,e=0,n=(r=this.events).length;e<n;e++)t=r[e],this.on(t,this.options[t]);return this.on("uploadprogress",(l=this,function(){return l.updateTotalUploadProgress()})),this.on("removedfile",(c=this,function(){return c.updateTotalUploadProgress()})),this.on("canceled",(u=this,function(t){return u.emit("complete",t)})),this.on("complete",(d=this,function(t){if(0===d.getUploadingFiles().length&&0===d.getQueuedFiles().length)return setTimeout(function(){return d.emit("queuecomplete")},0)})),i=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:(v=this,function(t){return v.emit("dragstart",t)}),dragenter:(g=this,function(t){return i(t),g.emit("dragenter",t)}),dragover:(m=this,function(t){var e;try{e=t.dataTransfer.effectAllowed}catch(t){}return t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy",i(t),m.emit("dragover",t)}),dragleave:(f=this,function(t){return f.emit("dragleave",t)}),drop:(p=this,function(t){return i(t),p.drop(t)}),dragend:(h=this,function(t){return h.emit("dragend",t)})}}],this.clickableElements.forEach((y=this,function(e){return y.listeners.push({element:e,events:{click:function(t){if(e!==y.element||t.target===y.element||q.elementInside(t.target,y.element.querySelector(".dz-message")))return y.hiddenFileInput.click()}}})})),this.enable(),this.options.init.call(this)},q.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,q.instances.splice(q.instances.indexOf(this),1)},q.prototype.updateTotalUploadProgress=function(){var t,e,i,n,o,s,r;if(e=i=0,this.getActiveFiles().length){for(o=0,s=(r=this.getActiveFiles()).length;o<s;o++)i+=(t=r[o]).upload.bytesSent,e+=t.upload.total;n=100*i/e}else n=100;return this.emit("totaluploadprogress",n,e,i)},q.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},q.prototype.getFallbackForm=function(){var t,e,i,n;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=q.createElement(i),"FORM"!==this.element.tagName?(n=q.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(e):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:e)},q.prototype.getExistingFallback=function(){var t,e,i,n,o,s;for(e=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},n=0,o=(s=["div","form"]).length;n<o;n++)if(i=s[n],t=e(this.element.getElementsByTagName(i)))return t},q.prototype.setupEventListeners=function(){var i,n,o,t,e,s,r;for(r=[],t=0,e=(s=this.listeners).length;t<e;t++)i=s[t],r.push(function(){var t,e;for(n in e=[],t=i.events)o=t[n],e.push(i.element.addEventListener(n,o,!1));return e}());return r},q.prototype.removeEventListeners=function(){var i,n,o,t,e,s,r;for(r=[],t=0,e=(s=this.listeners).length;t<e;t++)i=s[t],r.push(function(){var t,e;for(n in e=[],t=i.events)o=t[n],e.push(i.element.removeEventListener(n,o,!1));return e}());return r},q.prototype.disable=function(){var t,e,i,n,o;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),o=[],e=0,i=(n=this.files).length;e<i;e++)t=n[e],o.push(this.cancelUpload(t));return o},q.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},q.prototype.filesize=function(t){var e,i,n,o,s,r,a;for(i=n=null,e=r=0,a=(s=["TB","GB","MB","KB","b"]).length;r<a;e=++r)if(o=s[e],Math.pow(this.options.filesizeBase,4-e)/10<=t){i=t/Math.pow(this.options.filesizeBase,4-e),n=o;break}return"<strong>"+(i=Math.round(10*i)/10)+"</strong> "+n},q.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},q.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),(e=t.dataTransfer.files).length&&((i=t.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},q.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),(e=t.clipboardData.items).length?this._addFilesFromItems(e):void 0},q.prototype.handleFiles=function(t){var e,i,n,o;for(o=[],i=0,n=t.length;i<n;i++)e=t[i],o.push(this.addFile(e));return o},q.prototype._addFilesFromItems=function(t){var e,i,n,o,s;for(s=[],n=0,o=t.length;n<o;n++)null!=(i=t[n]).webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?s.push(this.addFile(i.getAsFile())):e.isDirectory?s.push(this._addFilesFromDirectory(e,e.name)):s.push(void 0):null==i.getAsFile||null!=i.kind&&"file"!==i.kind?s.push(void 0):s.push(this.addFile(i.getAsFile()));return s},q.prototype._addFilesFromDirectory=function(t,o){var e,i,s;return e=t.createReader(),s=this,i=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)(e=t[i]).isFile?e.file(function(t){if(!s.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=o+"/"+t.name,s.addFile(t)}):e.isDirectory&&s._addFilesFromDirectory(e,o+"/"+e.name)},e.readEntries(i,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},q.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):q.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},q.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=q.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(i=this,function(t){return t?(e.accepted=!1,i._errorProcessing([e],t)):(e.accepted=!0,i.options.autoQueue&&i.enqueueFile(e)),i._updateMaxFilesReachedClass()}));var i},q.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)e=t[i],this.enqueueFile(e);return null},q.prototype.enqueueFile=function(t){if(t.status!==q.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=q.QUEUED,this.options.autoProcessQueue)return setTimeout((e=this,function(){return e.processQueue()}),0);var e},q.prototype._thumbnailQueue=[],q.prototype._processingThumbnail=!1,q.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout((e=this,function(){return e._processThumbnailQueue()}),0);var e},q.prototype._processThumbnailQueue=function(){var t;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(t=this,function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}))},q.prototype.removeFile=function(t){if(t.status===q.UPLOADING&&this.cancelUpload(t),this.files=o(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},q.prototype.removeAllFiles=function(t){var e,i,n,o;for(null==t&&(t=!1),i=0,n=(o=this.files.slice()).length;i<n;i++)(e=o[i]).status===q.UPLOADING&&!t||this.removeFile(e);return null},q.prototype.createThumbnail=function(t,e){var i,n;return(i=new FileReader).onload=(n=this,function(){return"image/svg+xml"===t.type?(n.emit("thumbnail",t,i.result),void(null!=e&&e())):n.createThumbnailFromUrl(t,i.result,e)}),i.readAsDataURL(t)},q.prototype.createThumbnailFromUrl=function(l,t,c){var u,d;return(u=document.createElement("img")).onload=(d=this,function(){var t,e,i,n,o,s,r,a;if(l.width=u.width,l.height=u.height,null==(i=d.options.resize.call(d,l)).trgWidth&&(i.trgWidth=i.optWidth),null==i.trgHeight&&(i.trgHeight=i.optHeight),e=(t=document.createElement("canvas")).getContext("2d"),t.width=i.trgWidth,t.height=i.trgHeight,h(e,u,null!=(o=i.srcX)?o:0,null!=(s=i.srcY)?s:0,i.srcWidth,i.srcHeight,null!=(r=i.trgX)?r:0,null!=(a=i.trgY)?a:0,i.trgWidth,i.trgHeight),n=t.toDataURL("image/png"),d.emit("thumbnail",l,n),null!=c)return c()}),null!=c&&(u.onerror=c),u.src=t},q.prototype.processQueue=function(){var t,e,i,n;if(!((e=this.options.parallelUploads)<=(t=i=this.getUploadingFiles().length))&&0<(n=this.getQueuedFiles()).length){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;t<e;){if(!n.length)return;this.processFile(n.shift()),t++}}},q.prototype.processFile=function(t){return this.processFiles([t])},q.prototype.processFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)(e=t[i]).processing=!0,e.status=q.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},q.prototype._getFilesWithXhr=function(o){var s;return function(){var t,e,i,n;for(n=[],t=0,e=(i=this.files).length;t<e;t++)(s=i[t]).xhr===o&&n.push(s);return n}.call(this)},q.prototype.cancelUpload=function(t){var e,i,n,o,s,r,a;if(t.status===q.UPLOADING){for(n=0,s=(i=this._getFilesWithXhr(t.xhr)).length;n<s;n++)(e=i[n]).status=q.CANCELED;for(t.xhr.abort(),o=0,r=i.length;o<r;o++)e=i[o],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(a=t.status)!==q.ADDED&&a!==q.QUEUED||(t.status=q.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},H=function(){var t,e;return e=arguments[0],t=2<=arguments.length?a.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},q.prototype.uploadFile=function(t){return this.uploadFiles([t])},q.prototype.uploadFiles=function(u){var d,t,i,e,n,o,s,r,a,l,c,h,p,f,m,g,v,y,b,w,k,x,C,T,E,S,A,_,P,N,L,D,M,I,F,j;for(y=new XMLHttpRequest,b=0,C=u.length;b<C;b++)(d=u[b]).xhr=y;for(e in h=H(this.options.method,u),g=H(this.options.url,u),y.open(h,g,!0),y.withCredentials=!!this.options.withCredentials,f=null,i=function(){var t,e,i;for(i=[],t=0,e=u.length;t<e;t++)d=u[t],i.push(I._errorProcessing(u,f||I.options.dictResponseError.replace("{{statusCode}}",y.status),y));return i},F=I=this,m=function(t){var e,i,n,o,s,r,a,l,c;if(null!=t)for(i=100*t.loaded/t.total,n=0,r=u.length;n<r;n++)(d=u[n]).upload={progress:i,total:t.total,bytesSent:t.loaded};else{for(e=!0,i=100,o=0,a=u.length;o<a;o++)100===(d=u[o]).upload.progress&&d.upload.bytesSent===d.upload.total||(e=!1),d.upload.progress=i,d.upload.bytesSent=d.upload.total;if(e)return}for(c=[],s=0,l=u.length;s<l;s++)d=u[s],c.push(F.emit("uploadprogress",d,i,d.upload.bytesSent));return c},y.onload=(j=this,function(e){var t;if(u[0].status!==q.CANCELED&&4===y.readyState){if(f=y.responseText,y.getResponseHeader("content-type")&&~y.getResponseHeader("content-type").indexOf("application/json"))try{f=JSON.parse(f)}catch(t){e=t,f="Invalid JSON response from server."}return m(),200<=(t=y.status)&&t<300?j._finished(u,f,e):i()}}),y.onerror=function(){if(u[0].status!==q.CANCELED)return i()},(null!=(_=y.upload)?_:y).onprogress=m,o={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&O(o,this.options.headers),o)n=o[e],y.setRequestHeader(e,n);if(t=new FormData,this.options.params)for(c in P=this.options.params)v=P[c],t.append(c,v);for(w=0,T=u.length;w<T;w++)d=u[w],this.emit("sending",d,y,t);if(this.options.uploadMultiple&&this.emit("sendingmultiple",u,y,t),"FORM"===this.element.tagName)for(k=0,E=(N=this.element.querySelectorAll("input, textarea, select, button")).length;k<E;k++)if(a=(r=N[k]).getAttribute("name"),l=r.getAttribute("type"),"SELECT"===r.tagName&&r.hasAttribute("multiple"))for(x=0,S=(L=r.options).length;x<S;x++)(p=L[x]).selected&&t.append(a,p.value);else(!l||"checkbox"!==(D=l.toLowerCase())&&"radio"!==D||r.checked)&&t.append(a,r.value);for(s=A=0,M=u.length-1;0<=M?A<=M:M<=A;s=0<=M?++A:--A)t.append(this._getParamName(s),u[s],u[s].name);return y.send(t)},q.prototype._finished=function(t,e,i){var n,o,s;for(o=0,s=t.length;o<s;o++)(n=t[o]).status=q.SUCCESS,this.emit("success",n,e,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},q.prototype._errorProcessing=function(t,e,i){var n,o,s;for(o=0,s=t.length;o<s;o++)(n=t[o]).status=q.ERROR,this.emit("error",n,e,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},(r=q).version="4.0.1",r.options={},r.optionsForElement=function(t){return t.getAttribute("id")?r.options[e(t.getAttribute("id"))]:void 0},r.instances=[],r.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},r.autoDiscover=!0,r.discover=function(){var t,e,s,i,n,o;for(document.querySelectorAll?s=document.querySelectorAll(".dropzone"):(s=[],(t=function(t){var e,i,n,o;for(o=[],i=0,n=t.length;i<n;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?o.push(s.push(e)):o.push(void 0);return o})(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),o=[],i=0,n=s.length;i<n;i++)e=s[i],!1!==r.optionsForElement(e)?o.push(new r(e)):o.push(void 0);return o},r.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],r.isBrowserSupported=function(){var t,e,i,n;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(e=0,i=(n=r.blacklistedBrowsers).length;e<i;e++)n[e].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},o=function(t,e){var i,n,o,s;for(s=[],n=0,o=t.length;n<o;n++)(i=t[n])!==e&&s.push(i);return s},e=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},r.createElement=function(t){var e;return(e=document.createElement("div")).innerHTML=t,e.childNodes[0]},r.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},r.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},r.getElements=function(t,e){var i,n,o,s,r,a,l;if(t instanceof Array){n=[];try{for(o=0,r=t.length;o<r;o++)i=t[o],n.push(this.getElement(i,e))}catch(t){t,n=null}}else if("string"==typeof t)for(n=[],s=0,a=(l=document.querySelectorAll(t)).length;s<a;s++)i=l[s],n.push(i);else null!=t.nodeType&&(n=[t]);if(null==n||!n.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},r.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},r.isValidFile=function(t,e){var i,n,o,s,r;if(!e)return!0;for(e=e.split(","),i=(n=t.type).replace(/\/.*$/,""),s=0,r=e.length;s<r;s++)if("."===(o=(o=e[s]).trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(o.toLowerCase(),t.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(i===o.replace(/\/.*$/,""))return!0}else if(n===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new r(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=r:window.Dropzone=r,r.ADDED="added",r.QUEUED="queued",r.ACCEPTED=r.QUEUED,r.UPLOADING="uploading",r.PROCESSING=r.UPLOADING,r.CANCELED="canceled",r.ERROR="error",r.SUCCESS="success",d=function(t){var e,i,n,o,s,r,a,l;for(t.naturalWidth,s=t.naturalHeight,(e=document.createElement("canvas")).width=1,e.height=s,(i=e.getContext("2d")).drawImage(t,0,0),n=i.getImageData(0,0,1,s).data,l=0,r=o=s;l<r;)0===n[4*(r-1)+3]?o=r:l=r,r=o+l>>1;return 0==(a=r/s)?1:a},h=function(t,e,i,n,o,s,r,a,l,c){var u;return u=d(e),t.drawImage(e,i,n,o,s,r,a,l,c/u)},i=function(e,i){var t,n,o,s,r,a,l,c,u;if(u=!(o=!1),n=e.document,c=n.documentElement,t=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",s=function(t){if("readystatechange"!==t.type||"complete"===n.readyState)return("load"===t.type?e:n)[l](a+t.type,s,!1),!o&&(o=!0)?i.call(e,t.type||t):void 0},r=function(){try{c.doScroll("left")}catch(t){return t,void setTimeout(r,50)}return s("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{u=!e.frameElement}catch(t){}u&&r()}return n[t](a+"DOMContentLoaded",s,!1),n[t](a+"readystatechange",s,!1),e[t](a+"load",s,!1)}},r._autoDiscoverFunction=function(){if(r.autoDiscover)return r.discover()},i(window,r._autoDiscoverFunction)}.call(this),function(e){"use strict";e.widget("anahita.inputAlert",{_create:function(){this.controlGroup=this.element.closest(".control-group"),this.clear()},error:function(t){this.controlGroup.addClass("error"),this._addMessage(t)},success:function(t){this.controlGroup.addClass("success"),this._addMessage(t)},info:function(t){this.controlGroup.addClass("info"),this._addMessage(t)},warning:function(t){this.controlGroup.addClass("warning"),this._addMessage(t)},clear:function(){this.controlGroup.removeClass("error"),this.controlGroup.removeClass("success"),this.controlGroup.removeClass("info"),this.controlGroup.removeClass("warning"),this.controlGroup.find(".help-inline").length&&this.controlGroup.find(".help-inline").remove()},_addMessage:function(t){""!=t&&e('<span class="help-inline">'+t+"</span>").insertAfter(this.element)}})}(jQuery,window,document),function(a){"use strict";a.fn.anahitaModal=function(t){var e=a(this),n=a("#an-modal"),o=n.find(".modal-header").find("h3"),s=n.find(".modal-body"),r=n.find(".modal-footer"),i=e.data("url");a.get(i,function(t){r.find('button[type="submit"]').remove(),o.text(a(t).filter(".modal-header").find("h3").text()),s.html(a(t).filter(".modal-body").html()),r.append(a(t).filter(".modal-footer").html()),n.modal("show");var e=r.find('button[type="submit"]'),i=s.find("form");e.on("click",function(t){a(this).button("loading"),i.submit()})})},a("body").on("click",'[data-trigger="OpenModal"]',function(t){t.preventDefault(),a(this).anahitaModal()}),a("#an-modal").bind("hidden",function(){a(this).find(".modal-footer").find("button").remove()})}(jQuery,window,document),function(n,i,t){"use strict";n.widget("anahita.infinitescroll",{options:{window:i,scrollable:t,item:".an-entity",preload:3,limit:20,url:null},_create:function(){var e=this,t=this.element.data("scrollable")||this.options.scrollable;this.element.data("fetched-items",null),this.url=this.element.data("url")||this.options.url,this.waiting=!1,this.endOfRecords=!1,this.batchSize=this.options.limit*this.options.preload,this.start=this.element.find(this.options.item).length,this.items=new Array,this._getItems(),this._on(this.element,{urlChange:function(t){e.element.data("url",e.element.data("newUrl")),e.url=this.element.data("url"),e.items=e.element.find(e.options.item).toArray(),e.start=e.element.find(e.options.item).length,e.endOfRecords=!1,e._getItems()}}),n(t).scroll(function(){!e.waiting&&e.element.is(":visible")&&n(i).scrollTop()+1.3*n(i).height()>=n(t).height()&&(e._render(),e._getItems())})},_getItems:function(){if(!this.endOfRecords){var i=this,t=n.param({start:this.start,limit:this.batchSize});n.ajax({method:"get",url:this.url+"&"+t,beforeSend:function(){i.waiting=!0},success:function(t){i.waiting=!1;var e=null;0==(e=n(t).filter(i.options.item)).length&&(e=n(t).find(i.options.item)),0!=e.length?(i.items=n.merge(i.items,e),i.start+=i.batchSize,i._render()):i.endOfRecords=!0}})}},render:function(){this._render()},_render:function(){if(this.element.data("fetched-items"))this.element.trigger("entities-render");else{for(var t=new Array,e=this.options.limit;e&&this.items.length;)t.push(this.items.shift()),e--;this.element.data("fetched-items",t),this.element.trigger("entities-render")}}});var e=n('[data-trigger="InfiniteScroll"]');e.length&&(e.find(".InfiniteScrollReadmore").hide(),e.infinitescroll()),n(t).ajaxSuccess(function(){var t=n('[data-trigger="InfiniteScroll"]');n.each(t,function(t,e){n(e).is(":data('anahita-infinitescroll')")||(n(e).find(".InfiniteScrollReadmore").hide(),n(e).infinitescroll())})})}(jQuery,window,document),function(i){"use strict";i.fn.gadget=function(){this.filter(this.selector).each(function(){var t=i(this),e=t.find(".gadget-content");0===e.children("div").length&&t.data("url")&&e.load(t.data("url"))})},i(".an-gadget").length&&i(".an-gadget").gadget()}(jQuery,window,document),function(s){"use strict";s.fn.AnFilterbox=function(){var o=s(this);s(o).trigger("beforeFilterbox"),s.ajax({method:"get",url:o.attr("action"),data:o.serialize(),beforeSend:function(){o.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(t){var e=s(t).filter(".an-entity");if(0==e.length&&(e=s(t).find(".an-entity")),o.siblings('[data-trigger="InfiniteScroll"]').length){var i=o.siblings('[data-trigger="InfiniteScroll"]');return s(i).data("fetched-items",e),void s(i).trigger("entities-reset-render")}o.siblings(".an-entities").html(e);var n=s(t).filter(".pagination");0==n.length&&(n=s(t).find(".pagination")),o.siblings(".pagination").html(n)},complete:function(){if(o.fadeTo("fast",1).removeClass("uiActivityIndicator"),o.siblings('[data-trigger="InfiniteScroll"]').length){var t=o.siblings('[data-trigger="InfiniteScroll"]'),e=o.attr("action")+"&"+o.serialize();s(t).data("newUrl",e).trigger("urlChange")}else t=o.siblings(".an-entities");s(t).trigger("afterFilterbox")}})},s("body").on("submit","#an-filterbox",function(t){t.preventDefault(),s(this).AnFilterbox()}),s("body").on("change","#an-filterbox select, #an-filterbox input[type=checkbox]",function(t){t.preventDefault(),s(this).closest("form").AnFilterbox()})}(jQuery,window,document),function(i,t,e){"use strict";i.widget("anahita.checkbox",{options:{toggleClass:"selected"},_create:function(){this.cb=i(e.createElement("input")),this.element.append(this.cb),this.cb.attr({type:"checkbox",name:this.element.data("checkbox-name"),value:this.element.data("checkbox-value")}).hide(),this._on(this.element,{click:function(t){this.toggle()}})},toggle:function(){this.cb.attr("checked")?this.uncheck():this.check()},check:function(){this.cb.attr("checked",!0),this.element.addClass(this.options.toggleClass)},uncheck:function(){this.cb.attr("checked",!1),this.element.removeClass(this.options.toggleClass)}});function n(){var t=i("[data-behavior='Checkbox']");i.each(t,function(t,e){i(e).is(":data('anahita-checkbox')")||i(e).checkbox()})}n(),i(e).ajaxSuccess(function(){n()})}(jQuery,window,document),function(i){"use strict";i.fn.AnAutosubmit=function(){var e=i(this),t=i(this.closest("form"));i.ajax({type:"post",url:t.attr("action"),data:t.serialize(),beforeSend:function(){e.fadeTo("fast",.3)}.bind(e),success:function(t){e.fadeTo("fast",1)}})},i("body").on("change","select.autosubmit, input.autosubmit",function(t){t.preventDefault(),i(this).AnAutosubmit()})}(jQuery,window,document),function(s){"use strict";s.fn.notificationsCounter=function(){var e=s(this),i=function(){s.ajax({method:"get",url:e.data("url"),headers:{accept:"application/json"},success:function(t){e.html(t.new_notifications),Tinycon.setBubble(t.new_notifications),0<t.new_notifications&&e.addClass("badge-important"),setTimeout(i,e.data("interval"))}})};i()},s("#notifications-counter").length&&s("#notifications-counter").notificationsCounter(),s("body").on("click",'a[data-trigger*="notifications-popover"]',function(t){t.preventDefault();var o=s(this);s.get(o.attr("href"),function(t){var e=s(t),i=e.filter(".popover-title").html(),n=e.filter(".popover-content").html();o.popover({title:i,content:n,html:!0,placement:"bottom"}).popover("show")})})}(jQuery,window,document),function(r,i){"use strict";r.widget("anahita.paginator",{options:{scrollToTop:!0,limit:20,entities:".an-entities"},_getCreateOptions:function(){return this.element.data("paginationOptions")},_create:function(){this._on(this.element,{"click a":function(t){t.preventDefault();var e=r(t.target).parent();e.hasClass("disabled")||e.hasClass("active")||this._getPage(t)}})},_getPage:function(t){var n=r(t.target),o=this,s=r(this.element).siblings(this.options.entities);s.hasClass("an-comments");r.ajax({method:"get",url:n.attr("href"),beforeSend:function(){r(o.element).fadeTo("fast",.3)},success:function(t){if(o._updateHash(n.attr("href")),r(t).find(o.options.entities).length)var e=r(t).find(o.options.entities),i=r(t).find(".pagination");else e=r(t).filter(o.options.entities),i=r(t).filter(".pagination");r(s).replaceWith(e),r(o.element).replaceWith(i),o.options.scrollToTop&&r("body,html").animate({scrollTop:"0px"},"slow")}})},_updateHash:function(t){var e=t.split("?");i.location.hash=e[1].replace("layout=list&","")}}),r('[data-behavior*="pagination"]').length&&r('[data-behavior*="pagination"]').paginator(),r(document).ajaxSuccess(function(){var t=r('[data-behavior*="pagination"]');r.each(t,function(t,e){r(e).is(":data('anahita-paginator')")||r(e).paginator()})})}(jQuery,window),function(i,n,t){"use strict";i(t).ready(function(){var t=n.location.hash.slice(1).split("=");if("scroll"==t[0]){var e=i(".cid-"+t[1])[0];i("html, body").animate({scrollTop:i(e).offset().top-100},1e3,"swing",function(){i(e).addClass("an-highlight")})}})}(jQuery,window,document),function(t){"use strict";t('[data-trigger="MediaViewer"]').swipebox({closeOnClick:!0})}(jQuery,window),function(i){i("body").on("click",'[data-trigger="ReadMore"], [data-trigger="ReadLess"]',function(t){t.preventDefault();var e=i(this);i("#"+e.data("short")).toggle(),i("#"+e.data("full")).toggle()})}(jQuery,window,document),function(s,t,e){"use strict";s.widget("anahita.person",{_create:function(){this.current=[],this.current.username=this.element.find(':input[data-validate="username"]').val(),this.current.email=this.element.find(':input[data-validate="email"]').val(),this._on({'change [data-validate="username"], [data-validate="email"], [data-validate="password"] ':function(t){var e=s(t.currentTarget);e.inputAlert(),e.inputAlert("clear"),this._validate(e)}})},_validate:function(i){var n=i.data("validate"),o=i[0].validity;o.tooShort?i.inputAlert("error",StringLibAnahita.prompt[n].tooShort):o.tooLong?i.inputAlert("error",StringLibAnahita.prompt[n].tooLong):o.patternMismatch?i.inputAlert("error",StringLibAnahita.prompt[n].patternMismatch):"username"!=n&&"email"!=n||""===i.val()||this.current[n]==i.val()||s.ajax({method:"post",url:i.data("url"),data:{action:"validate",key:n,value:i.val()||""},headers:{accept:"application/json"},complete:function(t,e){return"error"==e?(i.inputAlert("error",StringLibAnahita.prompt[n].invalid),void(o.valid=!0)):void i.inputAlert("success",StringLibAnahita.prompt[n].valid)}})}}),s("#person-form").length&&s("#person-form").person(),s(e).ajaxSuccess(function(){var t=s("#person-form");s.each(t,function(t,e){s(e).is(":data('anahita-person')")||s(e).person()})})}(jQuery,window,document),function(e){"use strict";e.widget("anahita.token",{_create:function(){var e=this,i=this.element;this._on({submit:function(t){t.preventDefault(),e._send(i)}})},_send:function(t){var i=t.find('input[type="email"]');i.inputAlert(),i.inputAlert("clear"),e.ajax({method:"post",url:t.attr("action"),data:t.serialize(),complete:function(t,e){"error"==e?i.inputAlert("error",StringLibAnahita.prompt.token.unavailable):(i.attr("disabled",!0).addClass("disabled"),i.inputAlert("success",StringLibAnahita.prompt.token.available))}})}}),e("#token-form").length&&e("#token-form").token()}(jQuery,window,document),function(i,t,e){"use strict";i.widget("anahita.editor",{_create:function(){var e=this;this._createEditor(),this._createToolbar(),this._setContent(),this._on(this.element.closest("form"),{beforeSubmit:function(t){e._getContent()},submit:function(t){e._getContent()},reset:function(t){e._clear()}}),this.editor.wysiwyg({hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0})},_createEditor:function(){this.element.attr("required",!1).hide(),this.editor=i(e.createElement("div")).addClass("editor"),this.editor.attr("id",this.element.attr("id")+"-editor"),this.editor.insertAfter(this.element)},_createToolbar:function(){this.toolbar=i(e.createElement("div")).addClass("btn-toolbar").attr("data-role","editor-toolbar").attr("data-target",this.editor.attr("id"));this.toolbar.html('<div class="btn-group"><a class="btn dropdown-toggle" data-toggle="dropdown" title="" data-original-title="Text Format"><b class="caret"></b> Text</a><ul class="dropdown-menu"><li><a data-edit="formatblock blockquote" data-original-title="Blockquote">blockquote</a></li><li><a data-edit="formatblock p" data-original-title="Paragraph">p</a></li><li><a data-edit="formatblock pre" data-original-title="Preformatted">pre</a></li><li><a data-edit="formatblock address" data-original-title="Address">addr</a></li><li><a data-edit="formatblock h1" data-original-title="Header 1">h1</a></li><li><a data-edit="formatblock h2" data-original-title="Header 2">h2</a></li><li><a data-edit="formatblock h3" data-original-title="Header 3">h3</a></li><li><a data-edit="formatblock h4" data-original-title="Header 4">h4</a></li><li><a data-edit="formatblock h5" data-original-title="Header 5">h5</a></li></ul> <a class="btn" data-edit="bold" data-original-title="Bold (Ctrl/Cmd+B)"><b>b</b></a><a class="btn" data-edit="italic" data-original-title="Italic (Ctrl/Cmd+I)"><i>i</i></a><a class="btn" data-edit="strikethrough" data-original-title="Strikethrough"><strike>u</strike></a><a class="btn" data-edit="underline" data-original-title="Underline (Ctrl/Cmd+U)"><u>u</u></a><a class="btn" data-edit="insertunorderedlist" data-original-title="Bullet list">ul</a><a class="btn" data-edit="insertorderedlist" data-original-title="Number list">ol</a></div>'),this.toolbar.insertAfter(this.element),this.toolbar.find('[data-toggle="dropdown"]').dropdown()},_setContent:function(){this.element.val()?this.editor.html(this.element.val()):this.editor.html("<p><br/></p>")},_getContent:function(){this.element.html(this.editor.html())},_clear:function(){this.editor.html("<p><br/></p>"),this.element.html("")}});function n(){var t=i('[data-behavior="Editor"]');i.each(t,function(t,e){i(e).is(":data('anahita-editor')")||i(e).editor()})}n(),i(e).ajaxSuccess(function(){n()})}(jQuery,window,document),function(n,t,e){"use strict";n.fn.anahitaGist=function(){this.filter(this.selector).each(function(){var i=n(this);n.getJSON(i.data("src")+"on?callback=?",function(t){i.replaceWith(n(t.div));var e=n("head");e.find('link[rel="stylesheet"][href="'+t.stylesheet+'"]').length<1&&e.append('<link rel="stylesheet" href="'+t.stylesheet+'" type="text/css" />')})})},n('[data-trigger="LoadGist"]').length&&n('[data-trigger="LoadGist"]').anahitaGist(),n(e).ajaxSuccess(function(){n('[data-trigger="LoadGist"]').length&&n('[data-trigger="LoadGist"]').anahitaGist()})}(jQuery,window,document),function(t,e,i){"use strict";t('[data-trigger="video-player"]').length&&Plyr.setup(".an-media-video"),t(i).ajaxSuccess(function(){t('[data-trigger="video-player"]').length&&Plyr.setup(".an-media-video")})}(jQuery,window,document),function(e,i,t){"use strict";e.widget("anahita.cover",{options:{mobileWidth:767},_create:function(){this.element.addClass("uiActivityIndicator");var t=e(i).width()<this.options.mobileWidth?"src-medium":"src-large";this.coverImage=new Image,this.coverImage.src=this.element.data(t),this._on(i,{load:function(){this._setBackgroundImage()}})},_setBackgroundImage:function(){var t=this;this.element.fadeTo("fast",0,function(){t.element.removeClass("uiActivityIndicator").css("background-image","url("+t.coverImage.src+")")}).fadeTo("fast",1)}}),e(t).ready(function(){e('[data-trigger="Cover"]').length&&e('[data-trigger="Cover"]').cover()})}(jQuery,window,document),function(o){"use strict";o.fn.AnActionVote=function(e){e=e||"";var i=o(this),n=o("#vote-count-wrapper-"+i.data("nodeid"));return o.ajax({type:"post",url:i.attr("href"),data:{action:i.attr("data-action")},beforeSend:function(){i.fadeTo("fast",.3)}.bind(i),success:function(t){i.attr("data-action")=="vote"+e?(i.attr("data-action","unvote"+e),i.text(StringLibAnahita.action.unvote)):i.attr("data-action")=="unvote"+e&&(i.attr("data-action","vote"+e),i.text(StringLibAnahita.action.vote)),i.toggleClass("action-vote"+e).toggleClass("action-unvote"+e),n.html(t)}.bind(i),complete:function(){i.fadeTo("fast",1)}}),this},o("body").on("click",'a[data-action="vote"], a[data-action="unvote"]',function(t){t.preventDefault(),o(this).AnActionVote()}),o("body").on("click",'a[data-action="votecomment"], a[data-action="unvotecomment"]',function(t){t.preventDefault(),o(this).AnActionVote("comment")}),o("body").on("click",'a[data-toggle*="Voters"]',function(t){t.preventDefault();var e=o("#an-modal"),i=e.find(".modal-header").find("h3"),n=e.find(".modal-body");o.get(o(this).attr("href"),function(t){i.html(o(t).filter(".modal-header").html()),n.html(o(t).filter(".modal-body").html()),e.modal("show")})})}(jQuery,window,document),function(d,h){"use strict";d.fn.anahitaEntity=function(t){var e=d(this).closest(".an-entity");if("read"==t){var i=d(this).attr("href");return d.ajax({method:"get",url:i,beforeSend:function(){e.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(t){e.replaceWith(d(t))}}),this}if("enable"==t){i=d(this).attr("href"),t=d(this).data("action");d.ajax({method:"post",url:i,data:{action:t},beforeSend:function(){e.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(t){e.replaceWith(t)}})}if("edit"==t||"editcomment"==t){var n=d(this);return d.ajax({method:"post",url:n.attr("action")+"?layout=list",data:n.serialize(),beforeSend:function(){n.find(":submit").button("loading")},success:function(t){e.replaceWith(d(t))},complete:function(){n.find(":submit").button("reset")}}),this}if("add"==t){n=d(this);var o=d(".an-entities");return d.ajax({method:"post",url:n.attr("action")+"?layout=list",data:n.serialize(),beforeSend:function(){n.find(":submit").button("loading")},success:function(t){n.trigger("reset"),o.prepend(t)},complete:function(){n.find(":submit").button("reset")}}),this}if("delete"==t){e=d(this);var s=d("#an-modal"),r=s.find(".modal-header").find("h3"),a=s.find(".modal-body"),l=s.find(".modal-footer");r.text(StringLibAnahita.action.delete),a.text(StringLibAnahita.prompt.delete);var c=d('<button class="btn btn-danger"></button>').text(StringLibAnahita.action.delete);return l.append(c),c.on("click",function(t){d.ajax({method:"post",url:e.attr("href"),data:{action:e.data("action")},beforeSend:function(){s.modal("hide")},success:function(){e.closest(".an-entities").length?e.closest(".an-entity").fadeOut():h.location.href=e.data("redirect")}})}),s.modal("show"),this}if("addcomment"==t){var u=(n=d(this)).siblings(".an-comments");return d.ajax({method:"post",url:n.attr("action"),data:n.serialize(),beforeSend:function(){n.find(":submit").button("loading")},success:function(t){n.trigger("reset"),u.append(d(t).fadeIn("slow"))},complete:function(t,e){n.find(":submit").button("reset")}}),this}};d("body").on("click",'a[data-action="edit"],a[data-action="cancel"],a[data-action="editcomment"],a[data-action="cancelcomment"]',function(t){t.preventDefault(),d(this).anahitaEntity("read")}),d("body").on("click",'a[data-action="enable"], a[data-action="disable"]',function(t){t.preventDefault(),d(this).anahitaEntity("enable")}),d("body").on("click",'.an-entities form:not(.an-comment-form) button[type="submit"]',function(t){t.preventDefault(),d(this).closest("form").anahitaEntity("edit")}),d("body").on("submit","#entity-form-wrapper > form:not(.an-comment-form)",function(t){t.preventDefault(),d(this).anahitaEntity("add")}),d("body").on("click",'a[data-action="delete"], a[data-action="deletecomment"]',function(t){t.preventDefault(),d(this).anahitaEntity("delete")}),d("body").on("click",'[data-trigger="ReadForm"], [data-trigger="CancelAdd"]',function(t){t.preventDefault(),d("#entity-form-wrapper").slideToggle()}),d("body").on("submit",".an-comments-wrapper form.an-comment-form",function(t){t.preventDefault();var e=d(this).find('input[name="action"]').val();d(this).anahitaEntity(e)})}(jQuery,window,document),function(s,t,r){"use strict";s.fn.anahitaPostlink=function(){var t=s(this),o=s(r.createElement("form")),e=t.attr("href").split(/\?|\&/);o.attr("action",e.shift()).attr("method","post"),s.each(e,function(t,e){var i=e.split("="),n=s(r.createElement("input"));n.attr("type","hidden").attr("name",i[0]).attr("value",i[1]),o.append(n)}),o.appendTo("body").submit()},s("body").on("click",'a[data-trigger="PostLink"]',function(t){t.preventDefault(),s(this).anahitaPostlink()})}(jQuery,window,document),function(n,t,e){"use strict";n.widget("anahita.entityEditable",{options:{container:".entity-description-wrapper"},_create:function(){var e=this;this.container=this.element.find(e.options.container),this._on(this.element,{"click .entity-title, .entity-description":function(t){t.preventDefault(),e._read("edit")}}),this._on(this.element,{'click [data-trigger="EditableCancel"]':function(t){t.preventDefault(),e._read("default")}}),this._on(this.element,{"submit form":function(t){t.preventDefault(),e._edit()}})},_read:function(e){var i=this;n.ajax({method:"get",url:this.element.data("url"),data:{layout:e},beforeSend:function(){i.container.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(t){"edit"!=e&&(t=n(t).find(i.options.container).html()),i.container.html(t).fadeTo("fast",1).removeClass("uiActivityIndicator")}})},_edit:function(){var e=this,t=this.container.find("form");n.ajax({method:"post",url:t.attr("action"),data:t.serialize(),beforeSend:function(){e.container.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(t){t=n(t).find(e.options.container).html(),e.container.html(t).fadeTo("fast",1).removeClass("uiActivityIndicator")}})}}),n(".an-entity.editable").length&&n(".an-entity.editable").entityEditable(),n(e).ajaxSuccess(function(){var t=n(".an-entity.editable");n.each(t,function(t,e){n(e).is(":data('anahita-entityEditable')")||n(e).entityEditable()})})}(jQuery,window,document),function(o){"use strict";o.fn.AnActionCommentStatus=function(){var n=o(this);return o.ajax({method:"post",url:n.attr("href"),data:{action:"commentstatus",status:n.data("status")},beforeSend:function(){n.fadeTo("fast",.3),n.parent().addClass("uiActivityIndicator")},success:function(t){var e=1-parseInt(n.data("status")),i=e?StringLibAnahita.action.openComments:StringLibAnahita.action.closeComments;n.data("status",e).text(i),o.get(n.attr("href"),function(t){e?(o(".an-comment-form").remove(),o(".an-comments-wrapper").append(o(t).find("div.alert"))):(o(".an-comments-wrapper").find("div.alert").remove(),o(".an-comments-wrapper").append(o(t).find(".an-comment-form")))})},complete:function(){n.fadeTo("fast",1),n.parent().removeClass("uiActivityIndicator")}}),this},o("body").on("click",'a[data-action="commentstatus"]',function(t){t.preventDefault(),o(this).AnActionCommentStatus()})}(jQuery,window,document),function(e){"use strict";e.fn.AnActionSubscribe=function(){var n=e(this);e.ajax({type:"POST",url:n.attr("href"),data:{action:n.data("action")},beforeSend:function(){n.fadeTo("fast",.3),n.parent().addClass("uiActivityIndicator")},success:function(){var t=n.data("action"),e={subscribe:"unsubscribe",unsubscribe:"subscribe"},i=StringLibAnahita.action[e[t]];n.data("action",e[t]).text(i),n.removeClass("action-"+t).addClass("action-"+e[t])},complete:function(){n.fadeTo("fast",1),n.parent().removeClass("uiActivityIndicator")}})},e("body").on("click",'a[data-action="subscribe"], a[data-action="unsubscribe"]',function(t){t.preventDefault(),e(this).AnActionSubscribe()})}(jQuery,window,document),function(l,c){"use strict";l.fn.anahitaActor=function(t){var i=l(this),e=l("#an-modal"),n=e.find(".modal-header").find("h3"),o=e.find(".modal-body"),s=e.find(".modal-footer");if("socialgraph"==t)return l.ajax({method:"post",url:i.attr("href"),data:{action:i.data("action"),actor:i.data("actor")},beforeSend:function(){i.addClass("disabled")},success:function(t){var e=i.closest(".an-entity");l(e).length?i.closest(".an-entity").replaceWith(l(t)):c.location.href=i.attr("href")}}),this;if("notifications"==t)return l.get(this.attr("href"),function(t){n.html(l(t).filter("mheader").html()),o.html(l(t).filter("mbody").html()),s.html(l(t).filter("mfooter").html()),e.modal("show")}),this;if("addadmin"==t){(a=l(this)).find(':input[name="adminid"]').val();return l.ajax({method:"post",url:a.attr("action"),data:a.serialize(),beforeSend:function(){a.find(":submit").attr("disabled",!0)},success:function(){a.trigger("reset"),a.find(":submit").attr("disabled",!1),c.location.reload()}}),this}if("removeadmin"==t)return l(this).attr("disabled",!0),l.ajax({method:"post",url:this.href,data:l(this).data(),success:function(){c.location.reload()}}),this;if("manageapps"==t)return l.ajax({method:"post",url:i.href,data:i.data(),beforeSend:function(){i.toggleClass("disabled")},success:function(){i.toggleClass("disabled").toggleClass("btn-primary"),"addapp"==i.attr("data-action")?i.attr("data-action","removeapp").text(StringLibAnahita.action.disable):i.attr("data-action","addapp").text(StringLibAnahita.action.enable)}}),this;if("delete"==t){n.text(StringLibAnahita.action.delete),o.text(StringLibAnahita.prompt.deleteActor);var r=l('<button class="btn btn-danger"></button>').text(StringLibAnahita.action.delete);return s.append(r),e.modal("show"),r.on("click",function(t){r.attr("disabled",!0),i.closest("form").trigger("submit")}),this}if("delete-file"==t)return(a=i.closest("form")).find(":file").attr("value",null),a.submit(),this;if("add-file"!=t)return!1;var a=i.closest("form");return i.inputAlert(),i.inputAlert("clear"),1024*i.data("limit")*1024<a.find(":file")[0].files[0].size?(i.inputAlert("error","This file is too large"),!1):(i.fadeTo("fast",.3).addClass("uiActivityIndicator"),a.submit(),this)};l("body").on("click",'[data-action="confirmrequest"],[data-action="ignorerequest"],[data-action="addrequest"],[data-action="deleterequest"],[data-action="follow"],[data-action="unfollow"],[data-action="block"],[data-action="unblock"],[data-action="lead"],[data-action="unlead"]',function(t){t.preventDefault(),l(this).anahitaActor("socialgraph")}),l("body").on("click",'[data-action="notifications-settings"]',function(t){t.preventDefault(),l(this).anahitaActor("notifications")}),l.fn.actorTypeahead=function(){var i=this,o={};i.find("input:text").typeahead({minLength:3,source:function(t,e){var n=this;return l.ajax({method:"get",url:i.attr("action"),headers:{accept:"application/json"},dataType:"json",data:{get:"candidates",value:t},beforeSend:function(){n.$element.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(t){var i=[];l.each(t,function(t,e){o[e.value]=e,i.push(e.value)}),e(i),n.$element.fadeTo("fast",1).removeClass("uiActivityIndicator")}})},updater:function(t){return i.find('[name="adminid"]').attr("value",o[t].id),t}})},l("form#an-actors-search").length&&l("form#an-actors-search").actorTypeahead(),l("body").on("submit","form#an-actors-search",function(t){t.preventDefault(),l(this).anahitaActor("addadmin")}),l("body").on("click",'[data-action="removeadmin"]',function(t){t.preventDefault(),l(this).anahitaActor("removeadmin")}),l("body").on("click",'[data-action="addapp"], [data-action="removeapp"]',function(t){t.preventDefault(),l(this).anahitaActor("manageapps")}),l("body").on("click",'[data-trigger="DeleteActor"]',function(t){t.preventDefault(),l(this).anahitaActor("delete")}),l("body").on("click",'[data-trigger="DeleteAvatar"], [data-trigger="DeleteCover"]',function(t){t.preventDefault(),l(this).anahitaActor("delete-file")}),l("form#actor-avatar,form#actor-cover").on("change",":file",function(t){t.preventDefault(),l(this).anahitaActor("add-file")}),l("body").on("click",'a[data-trigger*="Actors"]',function(t){t.preventDefault();var e=l("#an-modal"),i=e.find(".modal-header").find("h3"),n=e.find(".modal-body");l.get(l(this).attr("href"),function(t){i.html(l(t).filter(".modal-header").html()),n.html(l(t).filter(".modal-body").html()),e.modal("show")})})}(jQuery,window,document),function(s){"use strict";var r=null;s.fn.StoryComment=function(t,e){var i=s.extend({entity:".an-entity",comments:".an-comments",actionOvertext:".action-comment-overtext",overtextBox:".comment-overtext-box"},e),n=s(this).closest(i.entity),o=(n.find(i.comments),n.find("form:last-child"));if(o){switch(this.ShowForm=function(){return this.HideLastForm(),o.show(),r=o,s("body").animate({scrollTop:s(o).offset().top-150},700,function(){o.find("textarea").focus()}),this},this.HideLastForm=function(){var t=null;if(n.find(i.actionOvertext).length)t=n.find(i.overtextBox);return t&&(t.hide(),o.data("hotspot",t)),r&&r.attr("id")!=o.attr("id")&&(r.data("hotspot")&&r.data("hotspot").show(),r.hide()),this},t){case"hide":this.HideLastForm();break;case"show":default:this.ShowForm()}return this}},s("body").on("click","a.action-comment, a.action-comment-overtext",function(t){t.preventDefault(),s(this).StoryComment("show")}),s("#an-stories").on("clickoutside",function(t){s(this).StoryComment("hide")})}(jQuery,window,document),function(n){"use strict";n.widget("anahita.stateSelector",{_create:function(){var i=this;this.states=[],this.states[0]=n('[country="us"]'),this.states[1]=n('[country="canada"]'),this.states[2]=n('[country="custom"]'),i._hideAll();var t=this.element.find("options:selected").val();this._show(t),this._on("#country-selector",{change:function(t){i._hideAll();var e=n(t.currentTarget).find("option:selected").val();i._show(e)}})},_hideAll:function(){n.each(this.states,function(t,e){e.hide().attr("disabled",!0)})},_show:function(t){var e=0;e="US"==t?0:"CA"==t?1:2,this.states[e].show().attr("disabled",!1)}}),n("body").stateSelector()}(jQuery,window,document),function(s,t,e){"use strict";s.widget("anahita.masonry",{options:{item:'div[class*="an-entity"]',row:".row-fluid",span:'div[class*="span"]',columns:2,mobileWidth:620},_create:function(){var e=this;this.items=new Array,this.row=null,this.spans=null,this.total=0,this.columns=this.element.data("columns")||this.options.columns,this._setGrid(),this.total=this.element.find(this.options.item).length,this._on(s(this.element),{"entities-render":function(t){e._render()},"entities-reset-render":function(t){e._reset(),e._render()}})},_setGrid:function(){if(0==this.element.find(this.options.row).length){this.element.append('<div class="row-fluid"></div>'),this.row=this.element.find(this.options.row);var i=this.columns;this.element.width()<=this.options.mobileWidth&&(i=1);for(var t=12/i,e=0;e<i;e++)this.row.append('<div class="span'+t+'"></div>');this.spans=this.row.find(".span"+t)}else if(this.row=this.element.find(this.options.row),this.spans=this.row.find(this.options.span),this.total=this.row.find(this.options.item).length,0<this.total){var n=this;i=new Array;s.each(this.spans,function(t,e){i.push(s(e).find(n.options.item).toArray())});for(e=0;e<this.total;e++){var o=i[e%i.length];this.items.push(o.shift())}if(this.element.width()<=this.options.mobileWidth&&1<this.spans.length)return void this._refresh()}},_reset:function(){this.spans.empty(),this.items=new Array,this.total=0},_render:function(){var n=this,t=this.element.data("fetched-items"),o=this.spans.length;t&&(s.each(t,function(t,e){var i=n.spans[n.total%o];s(i).append(e),n.items.push(e),n.total++}),this.element.data("fetched-items",null),s(this.element).trigger("entities-rendered"))},_refresh:function(){this.element.empty(),this.total=0,this._setGrid();var n=this,o=this.spans.length;s.each(this.items,function(t,e){var i=n.spans[n.total%o];s(i).append(e),n.total++}),s(this.element).trigger("entities-rendered")}});s(".masonry").masonry();s(e).ajaxSuccess(function(){var t=s(".masonry");s.each(t,function(t,e){s(e).is(":data('anahita-masonry')")||s(e).masonry()})})}(jQuery,window,document),function(n,t,e){"use strict";n.widget("anahita.mediagrid",{options:{item:".thumbnail-wrapper"},_create:function(){var e=this;this.items=new Array,this.total=0,this.total=this.element.find(this.options.item).length,this._on(n(this.element),{"entities-render":function(t){e._render()},"entities-reset-render":function(t){e._reset(),e._render()}})},_reset:function(){this.spans.empty(),this.items=new Array,this.total=0},_render:function(){var i=this,t=this.element.data("fetched-items");t&&(n.each(t,function(t,e){i.element.append(e),i.items.push(e),i.total++}),this.element.data("fetched-items",null),n(this.element).trigger("entities-rendered"))},_refresh:function(){this.element.empty(),this.total=0;var i=this;n.each(this.items,function(t,e){i.element.append(e),i.total++}),n(this.element).trigger("entities-rendered")}});n(".media-grid").mediagrid();n(e).ajaxSuccess(function(){var t=n(".media-grid");n.each(t,function(t,e){n(e).is(":data('anahita-mediagrid')")||n(e).mediagrid()})})}(jQuery,window,document);